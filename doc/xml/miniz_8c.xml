<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.9">
  <compounddef id="miniz_8c" kind="file" language="C++">
    <compoundname>miniz.c</compoundname>
    <includes refid="miniz_8h" local="yes">miniz.h</includes>
    <includes local="no">sys/stat.h</includes>
    <includes local="no">utime.h</includes>
    <incdepgraph>
      <node id="994">
        <label>sys/stat.h</label>
      </node>
      <node id="989">
        <label>assert.h</label>
      </node>
      <node id="992">
        <label>stdint.h</label>
      </node>
      <node id="990">
        <label>stdlib.h</label>
      </node>
      <node id="987">
        <label>stddef.h</label>
      </node>
      <node id="991">
        <label>string.h</label>
      </node>
      <node id="995">
        <label>utime.h</label>
      </node>
      <node id="988">
        <label>time.h</label>
      </node>
      <node id="985">
        <label>G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c</label>
        <link refid="miniz.c"/>
        <childnode refid="986" relation="include">
        </childnode>
        <childnode refid="994" relation="include">
        </childnode>
        <childnode refid="995" relation="include">
        </childnode>
      </node>
      <node id="993">
        <label>stdio.h</label>
      </node>
      <node id="986">
        <label>miniz.h</label>
        <link refid="miniz_8h"/>
        <childnode refid="987" relation="include">
        </childnode>
        <childnode refid="988" relation="include">
        </childnode>
        <childnode refid="989" relation="include">
        </childnode>
        <childnode refid="990" relation="include">
        </childnode>
        <childnode refid="991" relation="include">
        </childnode>
        <childnode refid="992" relation="include">
        </childnode>
        <childnode refid="993" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innerclass refid="structinflate__state" prot="public">inflate_state</innerclass>
    <innerclass refid="structtdefl__sym__freq" prot="public">tdefl_sym_freq</innerclass>
    <innerclass refid="structtdefl__output__buffer" prot="public">tdefl_output_buffer</innerclass>
    <innerclass refid="structmz__zip__array" prot="public">mz_zip_array</innerclass>
    <innerclass refid="structmz__zip__internal__state__tag" prot="public">mz_zip_internal_state_tag</innerclass>
    <innerclass refid="structmz__zip__writer__add__state" prot="public">mz_zip_writer_add_state</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" prot="public" static="no">
        <name>TDEFL_PUT_BITS</name>
        <param><defname>b</defname></param>
        <param><defname>l</defname></param>
        <initializer>do                                                             \
    {                                                              \
        <ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref> bits = b;                                          \
        <ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref> len = l;                                           \
        <ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(bits &lt;= ((1U &lt;&lt; len) - 1U));                     \
        d-&gt;m_bit_buffer |= (bits &lt;&lt; d-&gt;m_bits_in);                 \
        d-&gt;m_bits_in += len;                                       \
        while (d-&gt;m_bits_in &gt;= 8)                                  \
        {                                                          \
            if (d-&gt;m_pOutput_buf &lt; d-&gt;m_pOutput_buf_end)           \
                *d-&gt;m_pOutput_buf++ = (mz_uint8)(d-&gt;m_bit_buffer); \
            d-&gt;m_bit_buffer &gt;&gt;= 8;                                 \
            d-&gt;m_bits_in -= 8;                                     \
        }                                                          \
    }                                                              \
    MZ_MACRO_END</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="878" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="878" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1af22ccc4520994a5f54caa5a43a75d012" prot="public" static="no">
        <name>TDEFL_RLE_PREV_CODE_SIZE</name>
        <param></param>
        <initializer>{                                                                                                                    \
        if (rle_repeat_count)                                                                                            \
        {                                                                                                                \
            if (rle_repeat_count &lt; 3)                                                                                    \
            {                                                                                                            \
                d-&gt;m_huff_count[2][prev_code_size] = (<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)(d-&gt;m_huff_count[2][prev_code_size] + rle_repeat_count); \
                while (rle_repeat_count--)                                                                               \
                    packed_code_sizes[num_packed_code_sizes++] = prev_code_size;                                         \
            }                                                                                                            \
            else                                                                                                         \
            {                                                                                                            \
                d-&gt;m_huff_count[2][16] = (<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)(d-&gt;m_huff_count[2][16] + 1);                                        \
                packed_code_sizes[num_packed_code_sizes++] = 16;                                                         \
                packed_code_sizes[num_packed_code_sizes++] = (<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(rle_repeat_count - 3);                           \
            }                                                                                                            \
            rle_repeat_count = 0;                                                                                        \
        }                                                                                                                \
    }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="896" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="896" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a30333e6e68452b9e96ee7c5141f2b506" prot="public" static="no">
        <name>TDEFL_RLE_ZERO_CODE_SIZE</name>
        <param></param>
        <initializer>{                                                                                      \
        if (rle_z_count)                                                                   \
        {                                                                                  \
            if (rle_z_count &lt; 3)                                                           \
            {                                                                              \
                d-&gt;m_huff_count[2][0] = (<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)(d-&gt;m_huff_count[2][0] + rle_z_count);  \
                while (rle_z_count--)                                                      \
                    packed_code_sizes[num_packed_code_sizes++] = 0;                        \
            }                                                                              \
            else if (rle_z_count &lt;= 10)                                                    \
            {                                                                              \
                d-&gt;m_huff_count[2][17] = (<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)(d-&gt;m_huff_count[2][17] + 1);          \
                packed_code_sizes[num_packed_code_sizes++] = 17;                           \
                packed_code_sizes[num_packed_code_sizes++] = (<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(rle_z_count - 3);  \
            }                                                                              \
            else                                                                           \
            {                                                                              \
                d-&gt;m_huff_count[2][18] = (<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)(d-&gt;m_huff_count[2][18] + 1);          \
                packed_code_sizes[num_packed_code_sizes++] = 18;                           \
                packed_code_sizes[num_packed_code_sizes++] = (<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(rle_z_count - 11); \
            }                                                                              \
            rle_z_count = 0;                                                               \
        }                                                                                  \
    }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="916" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="916" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1ac784b1f49138601c5d8daab0d17f9e83" prot="public" static="no">
        <name>TDEFL_PROBE</name>
        <initializer>next_probe_pos = d-&gt;m_next[probe_pos];                                                        \
    if ((!next_probe_pos) || ((dist = (<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)(lookahead_pos - next_probe_pos)) &gt; max_dist))   \
        return;                                                                                   \
    probe_pos = next_probe_pos &amp; <ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a60ad8ff42b02877e23881e2475f641d7" kindref="member">TDEFL_LZ_DICT_SIZE_MASK</ref>;                                         \
    if ((d-&gt;m_dict[probe_pos + match_len] == c0) &amp;&amp; (d-&gt;m_dict[probe_pos + match_len - 1] == c1)) \
        break;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1412" column="9"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a4a70ebaf3e07c9f51d41ba0e552bad0a" prot="public" static="no">
        <name>TINFL_MEMCPY</name>
        <param><defname>d</defname></param>
        <param><defname>s</defname></param>
        <param><defname>l</defname></param>
        <initializer>memcpy(d, s, l)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2183" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2183" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a7dd776de8caf03a8e44e7f0329953b68" prot="public" static="no">
        <name>TINFL_MEMSET</name>
        <param><defname>p</defname></param>
        <param><defname>c</defname></param>
        <param><defname>l</defname></param>
        <initializer>memset(p, c, l)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2184" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2184" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a1bf00dad2822034f9b1369579a9c98d1" prot="public" static="no">
        <name>TINFL_CR_BEGIN</name>
        <initializer>switch (r-&gt;m_state) \
    {                   \
        case 0:</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2186" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2186" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a9b76ea2ad5e09a1bd4a7d663745ac29e" prot="public" static="no">
        <name>TINFL_CR_RETURN</name>
        <param><defname>state_index</defname></param>
        <param><defname>result</defname></param>
        <initializer>do                                       \
    {                                        \
        status = result;                     \
        r-&gt;m_state = state_index;            \
        goto common_exit;                    \
        case state_index:                    \
            ;                                \
    }                                        \
    <ref refid="miniz_8h_1a704d9384ffb047ede84426d173b656e8" kindref="member">MZ_MACRO_END</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2190" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2190" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a9b93b1cd46aaf29a27dfb526bd110d63" prot="public" static="no">
        <name>TINFL_CR_RETURN_FOREVER</name>
        <param><defname>state_index</defname></param>
        <param><defname>result</defname></param>
        <initializer>do                                               \
    {                                                \
        for (;;)                                     \
        {                                            \
            <ref refid="miniz_8c_1a9b76ea2ad5e09a1bd4a7d663745ac29e" kindref="member">TINFL_CR_RETURN</ref>(state_index, result);    \
        }                                            \
    }                                                \
    <ref refid="miniz_8h_1a704d9384ffb047ede84426d173b656e8" kindref="member">MZ_MACRO_END</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2200" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2200" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a99786d0af99c4433d7961581d708da51" prot="public" static="no">
        <name>TINFL_CR_FINISH</name>
        <initializer>}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2209" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2209" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a26b0de30f3238271922e55776feacb0f" prot="public" static="no">
        <name>TINFL_GET_BYTE</name>
        <param><defname>state_index</defname></param>
        <param><defname>c</defname></param>
        <initializer>do                                                                                                                                                          \
    {                                                                                                                                                           \
        while (pIn_buf_cur &gt;= pIn_buf_end)                                                                                                                      \
        {                                                                                                                                                       \
            <ref refid="miniz_8c_1a9b76ea2ad5e09a1bd4a7d663745ac29e" kindref="member">TINFL_CR_RETURN</ref>(state_index, (decomp_flags &amp;<ref refid="miniz_8h_1a385c44f6fb256e5716a2302a5b940388a2eb96c68c6a8df342d8f12d7efcf96c1" kindref="member">TINFL_FLAG_HAS_MORE_INPUT</ref>) ? <ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a4150e95aacd9bf414c6f9155263b60e8" kindref="member">TINFL_STATUS_NEEDS_MORE_INPUT</ref> : <ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a7661742c9463ceaa3872ffca2fb15998" kindref="member">TINFL_STATUS_FAILED_CANNOT_MAKE_PROGRESS</ref>); \
        }                                                                                                                                                       \
        c = *pIn_buf_cur++;                                                                                                                                     \
    }                                                                                                                                                           \
    <ref refid="miniz_8h_1a704d9384ffb047ede84426d173b656e8" kindref="member">MZ_MACRO_END</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2211" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2211" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a1f5388f745eea1a9297c8fb70277042d" prot="public" static="no">
        <name>TINFL_NEED_BITS</name>
        <param><defname>state_index</defname></param>
        <param><defname>n</defname></param>
        <initializer>do                                                 \
    {                                                  \
        <ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref> c;                                     \
        <ref refid="miniz_8c_1a26b0de30f3238271922e55776feacb0f" kindref="member">TINFL_GET_BYTE</ref>(state_index, c);                \
        bit_buf |= (((<ref refid="miniz_8h_1af6af194c507342cda458498cd37ca418" kindref="member">tinfl_bit_buf_t</ref>)c) &lt;&lt; num_bits); \
        num_bits += 8;                                 \
    } while (num_bits &lt; (<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)(n))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2222" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2222" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1aed4ea8f4cdcf4ad4416419dab601e7f0" prot="public" static="no">
        <name>TINFL_SKIP_BITS</name>
        <param><defname>state_index</defname></param>
        <param><defname>n</defname></param>
        <initializer>do                                       \
    {                                        \
        if (num_bits &lt; (<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)(n))         \
        {                                    \
            <ref refid="miniz_8c_1a1f5388f745eea1a9297c8fb70277042d" kindref="member">TINFL_NEED_BITS</ref>(state_index, n); \
        }                                    \
        bit_buf &gt;&gt;= (n);                     \
        num_bits -= (n);                     \
    }                                        \
    <ref refid="miniz_8h_1a704d9384ffb047ede84426d173b656e8" kindref="member">MZ_MACRO_END</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2230" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2230" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a4cccb4d20cb7fe52ed89300dcd665815" prot="public" static="no">
        <name>TINFL_GET_BITS</name>
        <param><defname>state_index</defname></param>
        <param><defname>b</defname></param>
        <param><defname>n</defname></param>
        <initializer>do                                       \
    {                                        \
        if (num_bits &lt; (<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)(n))         \
        {                                    \
            <ref refid="miniz_8c_1a1f5388f745eea1a9297c8fb70277042d" kindref="member">TINFL_NEED_BITS</ref>(state_index, n); \
        }                                    \
        b = bit_buf &amp; ((1 &lt;&lt; (n)) - 1);      \
        bit_buf &gt;&gt;= (n);                     \
        num_bits -= (n);                     \
    }                                        \
    <ref refid="miniz_8h_1a704d9384ffb047ede84426d173b656e8" kindref="member">MZ_MACRO_END</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2241" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2241" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a134552e117c26b55d84ee80247828998" prot="public" static="no">
        <name>TINFL_HUFF_BITBUF_FILL</name>
        <param><defname>state_index</defname></param>
        <param><defname>pHuff</defname></param>
        <initializer>do                                                                         \
    {                                                                          \
        temp = (pHuff)-&gt;m_look_up[bit_buf &amp; (<ref refid="miniz_8h_1abc5c98fcc1211af2b80116dd6e0a035da650112828c38f327bd914ec150855c87" kindref="member">TINFL_FAST_LOOKUP_SIZE</ref> - 1)];     \
        if (temp &gt;= 0)                                                         \
        {                                                                      \
            code_len = temp &gt;&gt; 9;                                              \
            if ((code_len) &amp;&amp; (num_bits &gt;= code_len))                          \
                break;                                                         \
        }                                                                      \
        else if (num_bits &gt; <ref refid="miniz_8h_1abc5c98fcc1211af2b80116dd6e0a035dae20e8613820bdf626439b9265dc5e4a1" kindref="member">TINFL_FAST_LOOKUP_BITS</ref>)                            \
        {                                                                      \
            code_len = <ref refid="miniz_8h_1abc5c98fcc1211af2b80116dd6e0a035dae20e8613820bdf626439b9265dc5e4a1" kindref="member">TINFL_FAST_LOOKUP_BITS</ref>;                                 \
            do                                                                 \
            {                                                                  \
                temp = (pHuff)-&gt;m_tree[~temp + ((bit_buf &gt;&gt; code_len++) &amp; 1)]; \
            } while ((temp &lt; 0) &amp;&amp; (num_bits &gt;= (code_len + 1)));              \
            if (temp &gt;= 0)                                                     \
                break;                                                         \
        }                                                                      \
        <ref refid="miniz_8c_1a26b0de30f3238271922e55776feacb0f" kindref="member">TINFL_GET_BYTE</ref>(state_index, c);                                        \
        bit_buf |= (((<ref refid="miniz_8h_1af6af194c507342cda458498cd37ca418" kindref="member">tinfl_bit_buf_t</ref>)c) &lt;&lt; num_bits);                         \
        num_bits += 8;                                                         \
    } while (num_bits &lt; 15);</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2258" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2258" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a5b7562ec245b9e07daefeae07602d7ae" prot="public" static="no">
        <name>TINFL_HUFF_DECODE</name>
        <param><defname>state_index</defname></param>
        <param><defname>sym</defname></param>
        <param><defname>pHuff</defname></param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2289" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2289" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a7ab43238d8cd27afaf9ee668c8f6ab70" prot="public" static="no">
        <name>MZ_FOPEN</name>
        <param><defname>f</defname></param>
        <param><defname>m</defname></param>
        <initializer>fopen(f, m)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3018" column="11" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3018" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1aca3383a48f6eda415e7b7bceea2d3e55" prot="public" static="no">
        <name>MZ_FCLOSE</name>
        <initializer>fclose</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3019" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3019" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a52bd2726a671aabfe4d49804e79900d0" prot="public" static="no">
        <name>MZ_FREAD</name>
        <initializer>fread</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3020" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3020" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a5f224b658d4b01790ef55ccd3ff8d3a2" prot="public" static="no">
        <name>MZ_FWRITE</name>
        <initializer>fwrite</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3021" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3021" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1af3b9d5f2af50464d16fd7a6ef48c916b" prot="public" static="no">
        <name>MZ_FTELL64</name>
        <initializer>ftello</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3026" column="10" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3026" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a6cd8f6b4134fc9ea62f311ac7f2c5c1d" prot="public" static="no">
        <name>MZ_FSEEK64</name>
        <initializer>fseeko</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3027" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3027" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1abbb4323f24a8e32a583c0b1b7e6820c9" prot="public" static="no">
        <name>MZ_FILE_STAT_STRUCT</name>
        <initializer>stat</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3029" column="10" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3029" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a06857ce8d288f462c7a2c5ded5eeea7c" prot="public" static="no">
        <name>MZ_FILE_STAT</name>
        <initializer>stat</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3030" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3030" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a2c964feaab7054e5141d5bea17af0303" prot="public" static="no">
        <name>MZ_FFLUSH</name>
        <initializer>fflush</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3031" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3031" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a39982d7e112363ff6d284ace3b9cf9bc" prot="public" static="no">
        <name>MZ_FREOPEN</name>
        <param><defname>f</defname></param>
        <param><defname>m</defname></param>
        <param><defname>s</defname></param>
        <initializer>freopen(f, m, s)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3032" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3032" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1afd75f71da5742246d7c16e3c2be1b5ac" prot="public" static="no">
        <name>MZ_DELETE_FILE</name>
        <initializer>remove</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3033" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3033" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a61d1f0e538f1b127ef8383e2d8c49f58" prot="public" static="no">
        <name>MZ_TOLOWER</name>
        <param><defname>c</defname></param>
        <initializer>((((c) &gt;= &apos;A&apos;) &amp;&amp; ((c) &lt;= &apos;Z&apos;)) ? ((c) - &apos;A&apos; + &apos;a&apos;) : (c))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3037" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3037" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a26e8cbdf6ac000e1becf7faa1aa7a1fa" prot="public" static="no">
        <name>MZ_ZIP_ARRAY_SET_ELEMENT_SIZE</name>
        <param><defname>array_ptr</defname></param>
        <param><defname>element_size</defname></param>
        <initializer>(array_ptr)-&gt;m_element_size = element_size</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3160" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3160" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1ad6e55a2b6b4b7d99a13f79301e949143" prot="public" static="no">
        <name>MZ_ZIP_ARRAY_ELEMENT</name>
        <param><defname>array_ptr</defname></param>
        <param><defname>element_type</defname></param>
        <param><defname>index</defname></param>
        <initializer>((element_type *)((array_ptr)-&gt;m_p))[index]</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3170" column="10" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3170" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1ac5054e9be72034055946137811cbb0a1" prot="public" static="no">
        <name>MZ_SWAP_UINT32</name>
        <param><defname>a</defname></param>
        <param><defname>b</defname></param>
        <initializer>do                       \
    {                        \
        <ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref> t = a;     \
        a = b;               \
        b = t;               \
    }                        \
    <ref refid="miniz_8h_1a704d9384ffb047ede84426d173b656e8" kindref="member">MZ_MACRO_END</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3366" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3366" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" prot="public" static="no">
        <name>MZ_WRITE_LE16</name>
        <param><defname>p</defname></param>
        <param><defname>v</defname></param>
        <initializer><ref refid="miniz_8c_1a3084a7ba4f09259808c0003fa1b1e45f" kindref="member">mz_write_le16</ref>((<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref> *)(p), (<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)(v))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5149" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5149" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" prot="public" static="no">
        <name>MZ_WRITE_LE32</name>
        <param><defname>p</defname></param>
        <param><defname>v</defname></param>
        <initializer><ref refid="miniz_8c_1a1bd4e0a2065cc70ceb20a811605dc402" kindref="member">mz_write_le32</ref>((<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref> *)(p), (<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)(v))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5150" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5150" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1ae6ce659c1af2562e681e9e6f09064d3d" prot="public" static="no">
        <name>MZ_WRITE_LE64</name>
        <param><defname>p</defname></param>
        <param><defname>v</defname></param>
        <initializer><ref refid="miniz_8c_1ae5d5e45622787aa5a260f1f800b5978e" kindref="member">mz_write_le64</ref>((<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref> *)(p), (<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)(v))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5151" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5151" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1abdaca8f637e75bce24a677104cdfc92c" prot="public" static="no">
        <name>MZ_ZIP64_MAX_LOCAL_EXTRA_FIELD_SIZE</name>
        <initializer>(sizeof(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>) * 2 + sizeof(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>) * 2)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5530" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5530" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="miniz_8c_1aa1b2bd10c69963c1b6bd3be7a91357b2" prot="public" static="no">
        <name>MZ_ZIP64_MAX_CENTRAL_EXTRA_FIELD_SIZE</name>
        <initializer>(sizeof(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>) * 2 + sizeof(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>) * 3)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5531" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5531" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="enum">
      <memberdef kind="enum" id="miniz_8c_1a06fc87d81c62e9abb8790b6e5713c55b" prot="public" static="no">
        <name>@0</name>
        <enumvalue id="miniz_8c_1a06fc87d81c62e9abb8790b6e5713c55bad686da58671353e21d237bb0d17065bb" prot="public">
          <name>TDEFL_MAX_SUPPORTED_HUFF_CODESIZE</name>
          <initializer>= 32</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="798" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="797" bodyend="800"/>
      </memberdef>
      <memberdef kind="enum" id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7" prot="public" static="no">
        <name>@1</name>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a95b16d7168bf48558fd3c8b852cb8a3d" prot="public">
          <name>MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIG</name>
          <initializer>= 0x06054b50</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a77d0b453bce2a419b6144bf87e71b170" prot="public">
          <name>MZ_ZIP_CENTRAL_DIR_HEADER_SIG</name>
          <initializer>= 0x02014b50</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a05f28665e3880ca5863fff3ca58129b6" prot="public">
          <name>MZ_ZIP_LOCAL_DIR_HEADER_SIG</name>
          <initializer>= 0x04034b50</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" prot="public">
          <name>MZ_ZIP_LOCAL_DIR_HEADER_SIZE</name>
          <initializer>= 30</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac89e96bb4580c93ac5cc27ca0623b964" prot="public">
          <name>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE</name>
          <initializer>= 46</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abec7783de4399c774ee325a0e4226ed9" prot="public">
          <name>MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE</name>
          <initializer>= 22</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a1737873733b435bcafe42f36d33e95e6" prot="public">
          <name>MZ_ZIP64_END_OF_CENTRAL_DIR_HEADER_SIG</name>
          <initializer>= 0x06064b50</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aacfa47118d9e7c741c8b27a1e4f27958" prot="public">
          <name>MZ_ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIG</name>
          <initializer>= 0x07064b50</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7acc90947176ac515bdaa8c71daf7aaaa3" prot="public">
          <name>MZ_ZIP64_END_OF_CENTRAL_DIR_HEADER_SIZE</name>
          <initializer>= 56</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4a1c181272cf9a1959d655c252a4419b" prot="public">
          <name>MZ_ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIZE</name>
          <initializer>= 20</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a76fd85fc5176e2615ec50dc9e9a850dc" prot="public">
          <name>MZ_ZIP64_EXTENDED_INFORMATION_FIELD_HEADER_ID</name>
          <initializer>= 0x0001</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ad5d78923c0a646f47db97500a9d24b9d" prot="public">
          <name>MZ_ZIP_DATA_DESCRIPTOR_ID</name>
          <initializer>= 0x08074b50</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a141e719c11d73808127d93d7e43d831f" prot="public">
          <name>MZ_ZIP_DATA_DESCRIPTER_SIZE64</name>
          <initializer>= 24</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2d8d0fa55e19480b267a629d4b0174b4" prot="public">
          <name>MZ_ZIP_DATA_DESCRIPTER_SIZE32</name>
          <initializer>= 16</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a358e2e9adf6165535355f8bb86112dec" prot="public">
          <name>MZ_ZIP_CDH_SIG_OFS</name>
          <initializer>= 0</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7adc548ddb0c98ab80c5040a55a03561da" prot="public">
          <name>MZ_ZIP_CDH_VERSION_MADE_BY_OFS</name>
          <initializer>= 4</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a122562cf2a1182825317fe26e7902e64" prot="public">
          <name>MZ_ZIP_CDH_VERSION_NEEDED_OFS</name>
          <initializer>= 6</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac50291ea0ed2b18a069f5e129f098db2" prot="public">
          <name>MZ_ZIP_CDH_BIT_FLAG_OFS</name>
          <initializer>= 8</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a49864f9b56c094003565ed64b2b4aed1" prot="public">
          <name>MZ_ZIP_CDH_METHOD_OFS</name>
          <initializer>= 10</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a6954b28080a1fb151914b00da25074f5" prot="public">
          <name>MZ_ZIP_CDH_FILE_TIME_OFS</name>
          <initializer>= 12</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0a30dbf39d1e87013ef095186370cc36" prot="public">
          <name>MZ_ZIP_CDH_FILE_DATE_OFS</name>
          <initializer>= 14</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a98e11950c99539215b65a334a2afe989" prot="public">
          <name>MZ_ZIP_CDH_CRC32_OFS</name>
          <initializer>= 16</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2a463b99b8d0699bda4e3a52dd1d1015" prot="public">
          <name>MZ_ZIP_CDH_COMPRESSED_SIZE_OFS</name>
          <initializer>= 20</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a43afeb736295b1f90330d79db8420c9e" prot="public">
          <name>MZ_ZIP_CDH_DECOMPRESSED_SIZE_OFS</name>
          <initializer>= 24</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03f4415315a96a9691344f193cef8da2" prot="public">
          <name>MZ_ZIP_CDH_FILENAME_LEN_OFS</name>
          <initializer>= 28</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5a7ea82498b1ffd464965872fe507d8b" prot="public">
          <name>MZ_ZIP_CDH_EXTRA_LEN_OFS</name>
          <initializer>= 30</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac67dc228d5e122d1ad9cd42072e65c1d" prot="public">
          <name>MZ_ZIP_CDH_COMMENT_LEN_OFS</name>
          <initializer>= 32</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa0323bb440c5cb8ebcacc2bf7da778bc" prot="public">
          <name>MZ_ZIP_CDH_DISK_START_OFS</name>
          <initializer>= 34</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa4790eefd44430aa5eab2837e16ab840" prot="public">
          <name>MZ_ZIP_CDH_INTERNAL_ATTR_OFS</name>
          <initializer>= 36</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ab4dec2086b60f7e1c7ce499b07b966cb" prot="public">
          <name>MZ_ZIP_CDH_EXTERNAL_ATTR_OFS</name>
          <initializer>= 38</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a15dc7648592d367c3edaac476c3aac87" prot="public">
          <name>MZ_ZIP_CDH_LOCAL_HEADER_OFS</name>
          <initializer>= 42</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a8e097e1ab652a56cc76597c8ef1999c0" prot="public">
          <name>MZ_ZIP_LDH_SIG_OFS</name>
          <initializer>= 0</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa84f798966b9ea678b5eaebc6dca4b70" prot="public">
          <name>MZ_ZIP_LDH_VERSION_NEEDED_OFS</name>
          <initializer>= 4</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0ed8079f712b2ec7963d9b1378596528" prot="public">
          <name>MZ_ZIP_LDH_BIT_FLAG_OFS</name>
          <initializer>= 6</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a607eeb03e7ee0916fa7d93abaaaba9fd" prot="public">
          <name>MZ_ZIP_LDH_METHOD_OFS</name>
          <initializer>= 8</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4d8dee6a3a5a1bb480dbbd7b9bff6a68" prot="public">
          <name>MZ_ZIP_LDH_FILE_TIME_OFS</name>
          <initializer>= 10</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5cb18f68ead9424b140fd8710ee9e124" prot="public">
          <name>MZ_ZIP_LDH_FILE_DATE_OFS</name>
          <initializer>= 12</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0b518fa8ffa820df4771f9d567c13dcc" prot="public">
          <name>MZ_ZIP_LDH_CRC32_OFS</name>
          <initializer>= 14</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a67751a44d185feb156f40a7cd922a577" prot="public">
          <name>MZ_ZIP_LDH_COMPRESSED_SIZE_OFS</name>
          <initializer>= 18</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac3538fb6973847de5f8bd315ba8d0e1d" prot="public">
          <name>MZ_ZIP_LDH_DECOMPRESSED_SIZE_OFS</name>
          <initializer>= 22</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4990e590f2652f0d540c3eb35e3f650f" prot="public">
          <name>MZ_ZIP_LDH_FILENAME_LEN_OFS</name>
          <initializer>= 26</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aaecc052d653e298f93b9c5523c98f5f2" prot="public">
          <name>MZ_ZIP_LDH_EXTRA_LEN_OFS</name>
          <initializer>= 28</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0405d7ab268a9b534642d2d0acf56749" prot="public">
          <name>MZ_ZIP_LDH_BIT_FLAG_HAS_LOCATOR</name>
          <initializer>= 1 &lt;&lt; 3</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a7b4454ba69b4a1c3bfe0cd316932a3cf" prot="public">
          <name>MZ_ZIP_ECDH_SIG_OFS</name>
          <initializer>= 0</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ae0c658558608a1501292d493a3049178" prot="public">
          <name>MZ_ZIP_ECDH_NUM_THIS_DISK_OFS</name>
          <initializer>= 4</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0edb58391c7fa73d90c8deac8bc8b85e" prot="public">
          <name>MZ_ZIP_ECDH_NUM_DISK_CDIR_OFS</name>
          <initializer>= 6</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a3415fd67ec4b72e9b7e6856ed920d100" prot="public">
          <name>MZ_ZIP_ECDH_CDIR_NUM_ENTRIES_ON_DISK_OFS</name>
          <initializer>= 8</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a76cd05886b8034f320cb457c03e6641a" prot="public">
          <name>MZ_ZIP_ECDH_CDIR_TOTAL_ENTRIES_OFS</name>
          <initializer>= 10</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a45f0ad9bb0f828942c6e54015f44af4e" prot="public">
          <name>MZ_ZIP_ECDH_CDIR_SIZE_OFS</name>
          <initializer>= 12</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa862cb29a1bcd653affce1a58e82f494" prot="public">
          <name>MZ_ZIP_ECDH_CDIR_OFS_OFS</name>
          <initializer>= 16</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a844ce7cb26e7e4a0f6321baf37ac66cb" prot="public">
          <name>MZ_ZIP_ECDH_COMMENT_SIZE_OFS</name>
          <initializer>= 20</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a493c8c19fe896d665222f70c623f9fc6" prot="public">
          <name>MZ_ZIP64_ECDL_SIG_OFS</name>
          <initializer>= 0</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4063056c23df4708b24423233e2b738b" prot="public">
          <name>MZ_ZIP64_ECDL_NUM_DISK_CDIR_OFS</name>
          <initializer>= 4</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5e3af797b3f1a81865958774b1c62735" prot="public">
          <name>MZ_ZIP64_ECDL_REL_OFS_TO_ZIP64_ECDR_OFS</name>
          <initializer>= 8</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a8be22e7047a06fc2815c55c84b82b222" prot="public">
          <name>MZ_ZIP64_ECDL_TOTAL_NUMBER_OF_DISKS_OFS</name>
          <initializer>= 16</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0ecfe9df02264886b36ace284d1fcfd4" prot="public">
          <name>MZ_ZIP64_ECDH_SIG_OFS</name>
          <initializer>= 0</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7af93888e0a9fe5b48b11c983d8626278d" prot="public">
          <name>MZ_ZIP64_ECDH_SIZE_OF_RECORD_OFS</name>
          <initializer>= 4</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03aa0ae942083ab0f6bee9f23f3eec45" prot="public">
          <name>MZ_ZIP64_ECDH_VERSION_MADE_BY_OFS</name>
          <initializer>= 12</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a55ade64891d171085e4c27b6c91a5b18" prot="public">
          <name>MZ_ZIP64_ECDH_VERSION_NEEDED_OFS</name>
          <initializer>= 14</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ab99ad7abe356356da9f80a7c141f9027" prot="public">
          <name>MZ_ZIP64_ECDH_NUM_THIS_DISK_OFS</name>
          <initializer>= 16</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2790f9123d0398f4498f75784069c3c9" prot="public">
          <name>MZ_ZIP64_ECDH_NUM_DISK_CDIR_OFS</name>
          <initializer>= 20</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a63640ed20841b4aad31e5f27bc11f5c4" prot="public">
          <name>MZ_ZIP64_ECDH_CDIR_NUM_ENTRIES_ON_DISK_OFS</name>
          <initializer>= 24</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa3bd2e64f9cea2ef41a46201685ebb0f" prot="public">
          <name>MZ_ZIP64_ECDH_CDIR_TOTAL_ENTRIES_OFS</name>
          <initializer>= 32</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a8bd9fc50f35f48bf3ce4456b4d57bac3" prot="public">
          <name>MZ_ZIP64_ECDH_CDIR_SIZE_OFS</name>
          <initializer>= 40</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac3072ff7e0d451b2d918e4be650c998c" prot="public">
          <name>MZ_ZIP64_ECDH_CDIR_OFS_OFS</name>
          <initializer>= 48</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a7107b0f82574f69262e3d0b4443856b6" prot="public">
          <name>MZ_ZIP_VERSION_MADE_BY_DOS_FILESYSTEM_ID</name>
          <initializer>= 0</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4a2a1bb318f1f4ab445c7e4de3d3e1cc" prot="public">
          <name>MZ_ZIP_DOS_DIR_ATTRIBUTE_BITFLAG</name>
          <initializer>= 0x10</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aee3f29c6ca80f7c1ba12e8d4620980b0" prot="public">
          <name>MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_IS_ENCRYPTED</name>
          <initializer>= 1</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a3df7ccd884899093e2cc9cf6411f5743" prot="public">
          <name>MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_COMPRESSED_PATCH_FLAG</name>
          <initializer>= 32</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a9065070139fca1d195692b1009357e3c" prot="public">
          <name>MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_USES_STRONG_ENCRYPTION</name>
          <initializer>= 64</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ab5a6b8b6b4b9f098c4ec926a6d22c432" prot="public">
          <name>MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_LOCAL_DIR_IS_MASKED</name>
          <initializer>= 8192</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2170b4f05a7674dad26a7c90f92ed992" prot="public">
          <name>MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_UTF8</name>
          <initializer>= 1 &lt;&lt; 11</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3041" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3040" bodyend="3127"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="typedef">
      <memberdef kind="typedef" id="miniz_8c_1ad71dbf45eb01b953c61560cc8cc5d4bc" prot="public" static="no">
        <type>unsigned char</type>
        <definition>typedef unsigned char mz_validate_uint16[sizeof(mz_uint16)==2?1:-1]</definition>
        <argsstring>[sizeof(mz_uint16)==2?1:-1]</argsstring>
        <name>mz_validate_uint16</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="29" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="29" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="miniz_8c_1ad342833c3c3a7454ce40ab8ce3ac9a7b" prot="public" static="no">
        <type>unsigned char</type>
        <definition>typedef unsigned char mz_validate_uint32[sizeof(mz_uint32)==4?1:-1]</definition>
        <argsstring>[sizeof(mz_uint32)==4?1:-1]</argsstring>
        <name>mz_validate_uint32</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="30" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="30" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="miniz_8c_1a1f1a14fcddd2bc4149e0fd63ec31adb7" prot="public" static="no">
        <type>unsigned char</type>
        <definition>typedef unsigned char mz_validate_uint64[sizeof(mz_uint64)==8?1:-1]</definition>
        <argsstring>[sizeof(mz_uint64)==8?1:-1]</argsstring>
        <name>mz_validate_uint64</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="31" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="31" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="miniz_8c_1a17a9bb041843f1d98e2ba27139de5081" prot="public" static="yes" mutable="no">
        <type>const <ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
        <definition>const mz_uint16 s_tdefl_len_sym[256]</definition>
        <argsstring>[256]</argsstring>
        <name>s_tdefl_len_sym</name>
        <initializer>=
    {
        257, 258, 259, 260, 261, 262, 263, 264, 265, 265, 266, 266, 267, 267, 268, 268, 269, 269, 269, 269, 270, 270, 270, 270, 271, 271, 271, 271, 272, 272, 272, 272,
        273, 273, 273, 273, 273, 273, 273, 273, 274, 274, 274, 274, 274, 274, 274, 274, 275, 275, 275, 275, 275, 275, 275, 275, 276, 276, 276, 276, 276, 276, 276, 276,
        277, 277, 277, 277, 277, 277, 277, 277, 277, 277, 277, 277, 277, 277, 277, 277, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278,
        279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280,
        281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281,
        282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282,
        283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283, 283,
        284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 284, 285
    }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="640" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="640" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="miniz_8c_1a0bfacd5da9a6e0f26f84fdbb7f7309ef" prot="public" static="yes" mutable="no">
        <type>const <ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref></type>
        <definition>const mz_uint8 s_tdefl_len_extra[256]</definition>
        <argsstring>[256]</argsstring>
        <name>s_tdefl_len_extra</name>
        <initializer>=
    {
        0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
        4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
        5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
        5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0
    }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="652" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="652" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="miniz_8c_1a3b07b4b3e26dd52c6bf6289ef88c76e0" prot="public" static="yes" mutable="no">
        <type>const <ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref></type>
        <definition>const mz_uint8 s_tdefl_small_dist_sym[512]</definition>
        <argsstring>[512]</argsstring>
        <name>s_tdefl_small_dist_sym</name>
        <initializer>=
    {
        0, 1, 2, 3, 4, 4, 5, 5, 6, 6, 6, 6, 7, 7, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 11, 11, 11, 11, 11, 11,
        11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 13,
        13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14,
        14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14,
        14, 14, 14, 14, 14, 14, 14, 14, 14, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
        15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16,
        16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16,
        16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16,
        16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17
    }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="660" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="660" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="miniz_8c_1a4e100642a6f096d6bc8926a59bc909f8" prot="public" static="yes" mutable="no">
        <type>const <ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref></type>
        <definition>const mz_uint8 s_tdefl_small_dist_extra[512]</definition>
        <argsstring>[512]</argsstring>
        <name>s_tdefl_small_dist_extra</name>
        <initializer>=
    {
        0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5,
        5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6,
        6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6,
        6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
        7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
        7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
        7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
        7, 7, 7, 7, 7, 7, 7, 7
    }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="676" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="676" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="miniz_8c_1ac781072b961db555ae58d396ca0e4527" prot="public" static="yes" mutable="no">
        <type>const <ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref></type>
        <definition>const mz_uint8 s_tdefl_large_dist_sym[128]</definition>
        <argsstring>[128]</argsstring>
        <name>s_tdefl_large_dist_sym</name>
        <initializer>=
    {
        0, 0, 18, 19, 20, 20, 21, 21, 22, 22, 22, 22, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 25, 25, 25, 25, 25, 25, 25, 25, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26,
        26, 26, 26, 26, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28,
        28, 28, 28, 28, 28, 28, 28, 28, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29
    }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="688" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="688" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="miniz_8c_1a61e192db27bc59fa5cc3800aadde8d97" prot="public" static="yes" mutable="no">
        <type>const <ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref></type>
        <definition>const mz_uint8 s_tdefl_large_dist_extra[128]</definition>
        <argsstring>[128]</argsstring>
        <name>s_tdefl_large_dist_extra</name>
        <initializer>=
    {
        0, 0, 8, 8, 9, 9, 9, 9, 10, 10, 10, 10, 10, 10, 10, 10, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12,
        12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
        13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13
    }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="695" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="695" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="miniz_8c_1abcfd71697c3d190d2493720d56bc0ca2" prot="public" static="yes" mutable="no">
        <type><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref></type>
        <definition>mz_uint8 s_tdefl_packed_code_size_syms_swizzle[]</definition>
        <argsstring>[]</argsstring>
        <name>s_tdefl_packed_code_size_syms_swizzle</name>
        <initializer>= { 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="942" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="942" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="miniz_8c_1ab5ec1195b9190fe4ddedd7b1b9d38222" prot="public" static="yes" mutable="no">
        <type>const <ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
        <definition>const mz_uint mz_bitmasks[17]</definition>
        <argsstring>[17]</argsstring>
        <name>mz_bitmasks</name>
        <initializer>= { 0x0000, 0x0001, 0x0003, 0x0007, 0x000F, 0x001F, 0x003F, 0x007F, 0x00FF, 0x01FF, 0x03FF, 0x07FF, 0x0FFF, 0x1FFF, 0x3FFF, 0x7FFF, 0xFFFF }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1053" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1053" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="miniz_8c_1a6633ec0f4bbaafb2e4c7b943232a4d74" prot="public" static="yes" mutable="no">
        <type>const <ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
        <definition>const mz_uint s_tdefl_num_probes[11]</definition>
        <argsstring>[11]</argsstring>
        <name>s_tdefl_num_probes</name>
        <initializer>= { 0, 1, 6, 32, 16, 32, 128, 256, 512, 768, 1500 }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2014" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2014" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="miniz_8c_1a094d181afc4c98dc1864f6ce7d636258" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref></type>
        <definition>mz_ulong mz_adler32</definition>
        <argsstring>(mz_ulong adler, const unsigned char *ptr, size_t buf_len)</argsstring>
        <name>mz_adler32</name>
        <param>
          <type><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref></type>
          <declname>adler</declname>
        </param>
        <param>
          <type>const unsigned char *</type>
          <declname>ptr</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>buf_len</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="39" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="39" bodyend="65"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a8b7cb38252f297265f6b850ab4ae0f01" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref></type>
        <definition>mz_ulong mz_crc32</definition>
        <argsstring>(mz_ulong crc, const mz_uint8 *ptr, size_t buf_len)</argsstring>
        <name>mz_crc32</name>
        <param>
          <type><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref></type>
          <declname>crc</declname>
        </param>
        <param>
          <type>const <ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref> *</type>
          <declname>ptr</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>buf_len</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="88" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="88" bodyend="152"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a7bdc0af59e4ca6d7bd8b7d5d005ff55e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void mz_free</definition>
        <argsstring>(void *p)</argsstring>
        <name>mz_free</name>
        <param>
          <type>void *</type>
          <declname>p</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="155" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="155" bodyend="158"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a5b8c4d334248b00bb255a64a7628ab36" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void *</type>
        <definition>void* miniz_def_alloc_func</definition>
        <argsstring>(void *opaque, size_t items, size_t size)</argsstring>
        <name>miniz_def_alloc_func</name>
        <param>
          <type>void *</type>
          <declname>opaque</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>items</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>size</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="160" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="160" bodyend="164"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a74bd5c1f3f342d2109643cfa500689fc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void miniz_def_free_func</definition>
        <argsstring>(void *opaque, void *address)</argsstring>
        <name>miniz_def_free_func</name>
        <param>
          <type>void *</type>
          <declname>opaque</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>address</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="165" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="165" bodyend="169"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ae51abb9ee6167023388e1d1122b10d89" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void *</type>
        <definition>void* miniz_def_realloc_func</definition>
        <argsstring>(void *opaque, void *address, size_t items, size_t size)</argsstring>
        <name>miniz_def_realloc_func</name>
        <param>
          <type>void *</type>
          <declname>opaque</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>address</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>items</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>size</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="170" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="170" bodyend="174"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a3d5d232e407e113f68859c17212526cb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const char *</type>
        <definition>const char* mz_version</definition>
        <argsstring>(void)</argsstring>
        <name>mz_version</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="176" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="176" bodyend="179"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a69f53f93ea50410b674721408b2aff24" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int mz_deflateInit</definition>
        <argsstring>(mz_streamp pStream, int level)</argsstring>
        <name>mz_deflateInit</name>
        <param>
          <type><ref refid="miniz_8h_1aeb3235f9c8a7803ef846d6e6d7eed986" kindref="member">mz_streamp</ref></type>
          <declname>pStream</declname>
        </param>
        <param>
          <type>int</type>
          <declname>level</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="183" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="183" bodyend="186"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a66d75d30383d1b7af379b7d19db3aba0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int mz_deflateInit2</definition>
        <argsstring>(mz_streamp pStream, int level, int method, int window_bits, int mem_level, int strategy)</argsstring>
        <name>mz_deflateInit2</name>
        <param>
          <type><ref refid="miniz_8h_1aeb3235f9c8a7803ef846d6e6d7eed986" kindref="member">mz_streamp</ref></type>
          <declname>pStream</declname>
        </param>
        <param>
          <type>int</type>
          <declname>level</declname>
        </param>
        <param>
          <type>int</type>
          <declname>method</declname>
        </param>
        <param>
          <type>int</type>
          <declname>window_bits</declname>
        </param>
        <param>
          <type>int</type>
          <declname>mem_level</declname>
        </param>
        <param>
          <type>int</type>
          <declname>strategy</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="188" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="188" bodyend="222"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a2632b66b8e67b1482f24dff4d4b65e8c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int mz_deflateReset</definition>
        <argsstring>(mz_streamp pStream)</argsstring>
        <name>mz_deflateReset</name>
        <param>
          <type><ref refid="miniz_8h_1aeb3235f9c8a7803ef846d6e6d7eed986" kindref="member">mz_streamp</ref></type>
          <declname>pStream</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="224" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="224" bodyend="231"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ab843b570ebaeb31d801a5414260edeaf" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int mz_deflate</definition>
        <argsstring>(mz_streamp pStream, int flush)</argsstring>
        <name>mz_deflate</name>
        <param>
          <type><ref refid="miniz_8h_1aeb3235f9c8a7803ef846d6e6d7eed986" kindref="member">mz_streamp</ref></type>
          <declname>pStream</declname>
        </param>
        <param>
          <type>int</type>
          <declname>flush</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="233" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="233" bodyend="289"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a36e2a62c4a31c1b7f8b51da8cffd7281" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int mz_deflateEnd</definition>
        <argsstring>(mz_streamp pStream)</argsstring>
        <name>mz_deflateEnd</name>
        <param>
          <type><ref refid="miniz_8h_1aeb3235f9c8a7803ef846d6e6d7eed986" kindref="member">mz_streamp</ref></type>
          <declname>pStream</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="291" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="291" bodyend="301"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1acd123a509ce06edd3a97506622873102" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref></type>
        <definition>mz_ulong mz_deflateBound</definition>
        <argsstring>(mz_streamp pStream, mz_ulong source_len)</argsstring>
        <name>mz_deflateBound</name>
        <param>
          <type><ref refid="miniz_8h_1aeb3235f9c8a7803ef846d6e6d7eed986" kindref="member">mz_streamp</ref></type>
          <declname>pStream</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref></type>
          <declname>source_len</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="303" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="303" bodyend="308"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a7a7b50a0d965d229ce14f3afa5981edd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int mz_compress2</definition>
        <argsstring>(unsigned char *pDest, mz_ulong *pDest_len, const unsigned char *pSource, mz_ulong source_len, int level)</argsstring>
        <name>mz_compress2</name>
        <param>
          <type>unsigned char *</type>
          <declname>pDest</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref> *</type>
          <declname>pDest_len</declname>
        </param>
        <param>
          <type>const unsigned char *</type>
          <declname>pSource</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref></type>
          <declname>source_len</declname>
        </param>
        <param>
          <type>int</type>
          <declname>level</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="310" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="310" bodyend="338"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a2e39a706e4a41c7168983f7e7c2e1a1d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int mz_compress</definition>
        <argsstring>(unsigned char *pDest, mz_ulong *pDest_len, const unsigned char *pSource, mz_ulong source_len)</argsstring>
        <name>mz_compress</name>
        <param>
          <type>unsigned char *</type>
          <declname>pDest</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref> *</type>
          <declname>pDest_len</declname>
        </param>
        <param>
          <type>const unsigned char *</type>
          <declname>pSource</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref></type>
          <declname>source_len</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="340" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="340" bodyend="343"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a3046aad784a296b0064530b4b98f5adb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref></type>
        <definition>mz_ulong mz_compressBound</definition>
        <argsstring>(mz_ulong source_len)</argsstring>
        <name>mz_compressBound</name>
        <param>
          <type><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref></type>
          <declname>source_len</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="345" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="345" bodyend="348"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a95babde50d211fa1d2401e70516d2e93" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int mz_inflateInit2</definition>
        <argsstring>(mz_streamp pStream, int window_bits)</argsstring>
        <name>mz_inflateInit2</name>
        <param>
          <type><ref refid="miniz_8h_1aeb3235f9c8a7803ef846d6e6d7eed986" kindref="member">mz_streamp</ref></type>
          <declname>pStream</declname>
        </param>
        <param>
          <type>int</type>
          <declname>window_bits</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="359" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="359" bodyend="393"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a2cd16abe6e673d9f98d98ae81c2d7c52" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int mz_inflateInit</definition>
        <argsstring>(mz_streamp pStream)</argsstring>
        <name>mz_inflateInit</name>
        <param>
          <type><ref refid="miniz_8h_1aeb3235f9c8a7803ef846d6e6d7eed986" kindref="member">mz_streamp</ref></type>
          <declname>pStream</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="395" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="395" bodyend="398"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a2d5d109e8f992526202122134e092aa1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int mz_inflate</definition>
        <argsstring>(mz_streamp pStream, int flush)</argsstring>
        <name>mz_inflate</name>
        <param>
          <type><ref refid="miniz_8h_1aeb3235f9c8a7803ef846d6e6d7eed986" kindref="member">mz_streamp</ref></type>
          <declname>pStream</declname>
        </param>
        <param>
          <type>int</type>
          <declname>flush</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="400" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="400" bodyend="510"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ab3074e360c49f66ccd955e6630d23108" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int mz_inflateEnd</definition>
        <argsstring>(mz_streamp pStream)</argsstring>
        <name>mz_inflateEnd</name>
        <param>
          <type><ref refid="miniz_8h_1aeb3235f9c8a7803ef846d6e6d7eed986" kindref="member">mz_streamp</ref></type>
          <declname>pStream</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="512" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="512" bodyend="522"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1aa0ce62915456b6c5f0bcf1ed09e94599" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int mz_uncompress</definition>
        <argsstring>(unsigned char *pDest, mz_ulong *pDest_len, const unsigned char *pSource, mz_ulong source_len)</argsstring>
        <name>mz_uncompress</name>
        <param>
          <type>unsigned char *</type>
          <declname>pDest</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref> *</type>
          <declname>pDest_len</declname>
        </param>
        <param>
          <type>const unsigned char *</type>
          <declname>pSource</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref></type>
          <declname>source_len</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="524" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="524" bodyend="552"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ac315062b2450716e20d21843f2022660" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const char *</type>
        <definition>const char* mz_error</definition>
        <argsstring>(int err)</argsstring>
        <name>mz_error</name>
        <param>
          <type>int</type>
          <declname>err</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="554" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="554" bodyend="570"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a0069262fcca5eec8151a14d35e801e1c" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structtdefl__sym__freq" kindref="compound">tdefl_sym_freq</ref> *</type>
        <definition>static tdefl_sym_freq* tdefl_radix_sort_syms</definition>
        <argsstring>(mz_uint num_syms, tdefl_sym_freq *pSyms0, tdefl_sym_freq *pSyms1)</argsstring>
        <name>tdefl_radix_sort_syms</name>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>num_syms</declname>
        </param>
        <param>
          <type><ref refid="structtdefl__sym__freq" kindref="compound">tdefl_sym_freq</ref> *</type>
          <declname>pSyms0</declname>
        </param>
        <param>
          <type><ref refid="structtdefl__sym__freq" kindref="compound">tdefl_sym_freq</ref> *</type>
          <declname>pSyms1</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="707" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="707" bodyend="738"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a3a558f4edba2d4f90c80931c5c888267" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void tdefl_calculate_minimum_redundancy</definition>
        <argsstring>(tdefl_sym_freq *A, int n)</argsstring>
        <name>tdefl_calculate_minimum_redundancy</name>
        <param>
          <type><ref refid="structtdefl__sym__freq" kindref="compound">tdefl_sym_freq</ref> *</type>
          <declname>A</declname>
        </param>
        <param>
          <type>int</type>
          <declname>n</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="741" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="741" bodyend="794"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a76cdb9a006ad356913fdd684a79014d4" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void tdefl_huffman_enforce_max_code_size</definition>
        <argsstring>(int *pNum_codes, int code_list_len, int max_code_size)</argsstring>
        <name>tdefl_huffman_enforce_max_code_size</name>
        <param>
          <type>int *</type>
          <declname>pNum_codes</declname>
        </param>
        <param>
          <type>int</type>
          <declname>code_list_len</declname>
        </param>
        <param>
          <type>int</type>
          <declname>max_code_size</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="801" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="801" bodyend="823"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ac61bf564b19275ee3dcf44a7b6c2e214" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void tdefl_optimize_huffman_table</definition>
        <argsstring>(tdefl_compressor *d, int table_num, int table_len, int code_size_limit, int static_table)</argsstring>
        <name>tdefl_optimize_huffman_table</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>d</declname>
        </param>
        <param>
          <type>int</type>
          <declname>table_num</declname>
        </param>
        <param>
          <type>int</type>
          <declname>table_len</declname>
        </param>
        <param>
          <type>int</type>
          <declname>code_size_limit</declname>
        </param>
        <param>
          <type>int</type>
          <declname>static_table</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="825" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="825" bodyend="876"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a2495a765ac27434a15efab455434e7f7" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void tdefl_start_dynamic_block</definition>
        <argsstring>(tdefl_compressor *d)</argsstring>
        <name>tdefl_start_dynamic_block</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>d</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="944" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="944" bodyend="1029"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a77bb6572e95227d4a0e7eff475e1ca35" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void tdefl_start_static_block</definition>
        <argsstring>(tdefl_compressor *d)</argsstring>
        <name>tdefl_start_static_block</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>d</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1031" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1031" bodyend="1051"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a3c9a86d4f0f78987f13f113276127114" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool tdefl_compress_lz_codes</definition>
        <argsstring>(tdefl_compressor *d)</argsstring>
        <name>tdefl_compress_lz_codes</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>d</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1150" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1150" bodyend="1195"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ad390ee6c264106529198b6c5b6c6d96b" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool tdefl_compress_block</definition>
        <argsstring>(tdefl_compressor *d, mz_bool static_block)</argsstring>
        <name>tdefl_compress_block</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>d</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
          <declname>static_block</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1198" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1198" bodyend="1205"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a1adafac587d2839277822cea5bdc224d" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>static int tdefl_flush_block</definition>
        <argsstring>(tdefl_compressor *d, int flush)</argsstring>
        <name>tdefl_flush_block</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>d</declname>
        </param>
        <param>
          <type>int</type>
          <declname>flush</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1207" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1207" bodyend="1340"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a72ea4abdadc19539c9275883bbb5aeda" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> void</type>
        <definition>static MZ_FORCEINLINE void tdefl_find_match</definition>
        <argsstring>(tdefl_compressor *d, mz_uint lookahead_pos, mz_uint max_dist, mz_uint max_match_len, mz_uint *pMatch_dist, mz_uint *pMatch_len)</argsstring>
        <name>tdefl_find_match</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>d</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>lookahead_pos</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>max_dist</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>max_match_len</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref> *</type>
          <declname>pMatch_dist</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref> *</type>
          <declname>pMatch_len</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1397" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1397" bodyend="1439"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1aa1d7593a37246e096639528e5fe7c1c0" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> void</type>
        <definition>static MZ_FORCEINLINE void tdefl_record_literal</definition>
        <argsstring>(tdefl_compressor *d, mz_uint8 lit)</argsstring>
        <name>tdefl_record_literal</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>d</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref></type>
          <declname>lit</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1613" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1613" bodyend="1624"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ad67ea1952b814c7b86267773ebf8da84" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> void</type>
        <definition>static MZ_FORCEINLINE void tdefl_record_match</definition>
        <argsstring>(tdefl_compressor *d, mz_uint match_len, mz_uint match_dist)</argsstring>
        <name>tdefl_record_match</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>d</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>match_len</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>match_dist</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1626" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1626" bodyend="1654"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a693b5cf938e6f7d2fc439f8ab65ea466" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool tdefl_compress_normal</definition>
        <argsstring>(tdefl_compressor *d)</argsstring>
        <name>tdefl_compress_normal</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>d</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1656" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1656" bodyend="1799"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1af80414324052552afda66f992ee246e9" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748f" kindref="member">tdefl_status</ref></type>
        <definition>static tdefl_status tdefl_flush_output_buffer</definition>
        <argsstring>(tdefl_compressor *d)</argsstring>
        <name>tdefl_flush_output_buffer</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>d</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1801" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1801" bodyend="1820"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ae9968978f7ea9f732c5ed08db988208b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748f" kindref="member">tdefl_status</ref></type>
        <definition>tdefl_status tdefl_compress</definition>
        <argsstring>(tdefl_compressor *d, const void *pIn_buf, size_t *pIn_buf_size, void *pOut_buf, size_t *pOut_buf_size, tdefl_flush flush)</argsstring>
        <name>tdefl_compress</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>d</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pIn_buf</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>pIn_buf_size</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pOut_buf</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>pOut_buf_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abf" kindref="member">tdefl_flush</ref></type>
          <declname>flush</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1822" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1822" bodyend="1888"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a5f2608070112b0e81a3017e9c39c73b7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748f" kindref="member">tdefl_status</ref></type>
        <definition>tdefl_status tdefl_compress_buffer</definition>
        <argsstring>(tdefl_compressor *d, const void *pIn_buf, size_t in_buf_size, tdefl_flush flush)</argsstring>
        <name>tdefl_compress_buffer</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>d</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pIn_buf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>in_buf_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abf" kindref="member">tdefl_flush</ref></type>
          <declname>flush</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1890" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1890" bodyend="1894"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a3c2c67a6200147020ba4bfbf77962792" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748f" kindref="member">tdefl_status</ref></type>
        <definition>tdefl_status tdefl_init</definition>
        <argsstring>(tdefl_compressor *d, tdefl_put_buf_func_ptr pPut_buf_func, void *pPut_buf_user, int flags)</argsstring>
        <name>tdefl_init</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>d</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad9ea9d3eac48ba0658f750a920452497" kindref="member">tdefl_put_buf_func_ptr</ref></type>
          <declname>pPut_buf_func</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pPut_buf_user</declname>
        </param>
        <param>
          <type>int</type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1896" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1896" bodyend="1927"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a516a79788364e4f3e3b55187a2a67b24" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748f" kindref="member">tdefl_status</ref></type>
        <definition>tdefl_status tdefl_get_prev_return_status</definition>
        <argsstring>(tdefl_compressor *d)</argsstring>
        <name>tdefl_get_prev_return_status</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>d</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1929" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1929" bodyend="1932"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a2ec6403111ea9afbcdc4d76cfda97110" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref></type>
        <definition>mz_uint32 tdefl_get_adler32</definition>
        <argsstring>(tdefl_compressor *d)</argsstring>
        <name>tdefl_get_adler32</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>d</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1934" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1934" bodyend="1937"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a153fd833b8c09efd13aa1d35dd22d092" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool tdefl_compress_mem_to_output</definition>
        <argsstring>(const void *pBuf, size_t buf_len, tdefl_put_buf_func_ptr pPut_buf_func, void *pPut_buf_user, int flags)</argsstring>
        <name>tdefl_compress_mem_to_output</name>
        <param>
          <type>const void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>buf_len</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad9ea9d3eac48ba0658f750a920452497" kindref="member">tdefl_put_buf_func_ptr</ref></type>
          <declname>pPut_buf_func</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pPut_buf_user</declname>
        </param>
        <param>
          <type>int</type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1939" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1939" bodyend="1952"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a418a771218f0a371ebc981939074bbe4" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool tdefl_output_buffer_putter</definition>
        <argsstring>(const void *pBuf, int len, void *pUser)</argsstring>
        <name>tdefl_output_buffer_putter</name>
        <param>
          <type>const void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>int</type>
          <declname>len</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pUser</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1961" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1961" bodyend="1984"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1afb50d9ccdd6d2da88a020e0e5ad3fa20" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void *</type>
        <definition>void* tdefl_compress_mem_to_heap</definition>
        <argsstring>(const void *pSrc_buf, size_t src_buf_len, size_t *pOut_len, int flags)</argsstring>
        <name>tdefl_compress_mem_to_heap</name>
        <param>
          <type>const void *</type>
          <declname>pSrc_buf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>src_buf_len</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>pOut_len</declname>
        </param>
        <param>
          <type>int</type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="1986" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="1986" bodyend="1999"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a37639f95844a8c30995fc1f5d4bb75a1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>size_t tdefl_compress_mem_to_mem</definition>
        <argsstring>(void *pOut_buf, size_t out_buf_len, const void *pSrc_buf, size_t src_buf_len, int flags)</argsstring>
        <name>tdefl_compress_mem_to_mem</name>
        <param>
          <type>void *</type>
          <declname>pOut_buf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>out_buf_len</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pSrc_buf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>src_buf_len</declname>
        </param>
        <param>
          <type>int</type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2001" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2001" bodyend="2012"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1acf2306ec6b7f92753264f68bc554750b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
        <definition>mz_uint tdefl_create_comp_flags_from_zip_params</definition>
        <argsstring>(int level, int window_bits, int strategy)</argsstring>
        <name>tdefl_create_comp_flags_from_zip_params</name>
        <param>
          <type>int</type>
          <declname>level</declname>
        </param>
        <param>
          <type>int</type>
          <declname>window_bits</declname>
        </param>
        <param>
          <type>int</type>
          <declname>strategy</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2017" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2017" bodyend="2035"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a63a3ef354a44c931ddf34a66cf064b16" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void *</type>
        <definition>void* tdefl_write_image_to_png_file_in_memory_ex</definition>
        <argsstring>(const void *pImage, int w, int h, int num_chans, size_t *pLen_out, mz_uint level, mz_bool flip)</argsstring>
        <name>tdefl_write_image_to_png_file_in_memory_ex</name>
        <param>
          <type>const void *</type>
          <declname>pImage</declname>
        </param>
        <param>
          <type>int</type>
          <declname>w</declname>
        </param>
        <param>
          <type>int</type>
          <declname>h</declname>
        </param>
        <param>
          <type>int</type>
          <declname>num_chans</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>pLen_out</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>level</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
          <declname>flip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2045" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2045" bodyend="2122"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a0895bd488b9650322eedf2739f81402a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void *</type>
        <definition>void* tdefl_write_image_to_png_file_in_memory</definition>
        <argsstring>(const void *pImage, int w, int h, int num_chans, size_t *pLen_out)</argsstring>
        <name>tdefl_write_image_to_png_file_in_memory</name>
        <param>
          <type>const void *</type>
          <declname>pImage</declname>
        </param>
        <param>
          <type>int</type>
          <declname>w</declname>
        </param>
        <param>
          <type>int</type>
          <declname>h</declname>
        </param>
        <param>
          <type>int</type>
          <declname>num_chans</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>pLen_out</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2123" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2123" bodyend="2127"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a862e12a5b9361933538572c4692d4544" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
        <definition>tdefl_compressor* tdefl_compressor_alloc</definition>
        <argsstring>()</argsstring>
        <name>tdefl_compressor_alloc</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2132" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2132" bodyend="2135"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1aaed356efd84e96e9f5eecdf078b07e50" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void tdefl_compressor_free</definition>
        <argsstring>(tdefl_compressor *pComp)</argsstring>
        <name>tdefl_compressor_free</name>
        <param>
          <type><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref> *</type>
          <declname>pComp</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2137" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2137" bodyend="2140"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ac4e4c006d234780922676ecc31fe1416" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4" kindref="member">tinfl_status</ref></type>
        <definition>tinfl_status tinfl_decompress</definition>
        <argsstring>(tinfl_decompressor *r, const mz_uint8 *pIn_buf_next, size_t *pIn_buf_size, mz_uint8 *pOut_buf_start, mz_uint8 *pOut_buf_next, size_t *pOut_buf_size, const mz_uint32 decomp_flags)</argsstring>
        <name>tinfl_decompress</name>
        <param>
          <type><ref refid="miniz_8h_1ad5308cf24962df49c8b6a5c91bbbe05e" kindref="member">tinfl_decompressor</ref> *</type>
          <declname>r</declname>
        </param>
        <param>
          <type>const <ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref> *</type>
          <declname>pIn_buf_next</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>pIn_buf_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref> *</type>
          <declname>pOut_buf_start</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref> *</type>
          <declname>pOut_buf_next</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>pOut_buf_size</declname>
        </param>
        <param>
          <type>const <ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref></type>
          <declname>decomp_flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2323" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2323" bodyend="2788"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a2a949056c9eed394b9f2217ba6f55f6b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void *</type>
        <definition>void* tinfl_decompress_mem_to_heap</definition>
        <argsstring>(const void *pSrc_buf, size_t src_buf_len, size_t *pOut_len, int flags)</argsstring>
        <name>tinfl_decompress_mem_to_heap</name>
        <param>
          <type>const void *</type>
          <declname>pSrc_buf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>src_buf_len</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>pOut_len</declname>
        </param>
        <param>
          <type>int</type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2791" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2791" bodyend="2827"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ac4642bb91b5abc566c6b23c0658d6995" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>size_t tinfl_decompress_mem_to_mem</definition>
        <argsstring>(void *pOut_buf, size_t out_buf_len, const void *pSrc_buf, size_t src_buf_len, int flags)</argsstring>
        <name>tinfl_decompress_mem_to_mem</name>
        <param>
          <type>void *</type>
          <declname>pOut_buf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>out_buf_len</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pSrc_buf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>src_buf_len</declname>
        </param>
        <param>
          <type>int</type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2829" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2829" bodyend="2836"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a3e8087762c8423c4e48d1e5e01a243de" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int tinfl_decompress_mem_to_callback</definition>
        <argsstring>(const void *pIn_buf, size_t *pIn_buf_size, tinfl_put_buf_func_ptr pPut_buf_func, void *pPut_buf_user, int flags)</argsstring>
        <name>tinfl_decompress_mem_to_callback</name>
        <param>
          <type>const void *</type>
          <declname>pIn_buf</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>pIn_buf_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4e4ea4a3376e8d2a996b848c8e4319df" kindref="member">tinfl_put_buf_func_ptr</ref></type>
          <declname>pPut_buf_func</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pPut_buf_user</declname>
        </param>
        <param>
          <type>int</type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2838" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2838" bodyend="2865"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a65dd8744393e4f726a67aa3833656353" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1ad5308cf24962df49c8b6a5c91bbbe05e" kindref="member">tinfl_decompressor</ref> *</type>
        <definition>tinfl_decompressor* tinfl_decompressor_alloc</definition>
        <argsstring>()</argsstring>
        <name>tinfl_decompressor_alloc</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2867" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2867" bodyend="2873"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1af8586e33fb8be9bff1c261d3aae1fc5e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void tinfl_decompressor_free</definition>
        <argsstring>(tinfl_decompressor *pDecomp)</argsstring>
        <name>tinfl_decompressor_free</name>
        <param>
          <type><ref refid="miniz_8h_1ad5308cf24962df49c8b6a5c91bbbe05e" kindref="member">tinfl_decompressor</ref> *</type>
          <declname>pDecomp</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="2875" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="2875" bodyend="2878"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a6e4fb49aa0c719cd8545f933085d3f31" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> void</type>
        <definition>static MZ_FORCEINLINE void mz_zip_array_init</definition>
        <argsstring>(mz_zip_array *pArray, mz_uint32 element_size)</argsstring>
        <name>mz_zip_array_init</name>
        <param>
          <type><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref> *</type>
          <declname>pArray</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref></type>
          <declname>element_size</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3173" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3173" bodyend="3177"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a8d5466de3a4020b175538318149c802f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> void</type>
        <definition>static MZ_FORCEINLINE void mz_zip_array_clear</definition>
        <argsstring>(mz_zip_archive *pZip, mz_zip_array *pArray)</argsstring>
        <name>mz_zip_array_clear</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref> *</type>
          <declname>pArray</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3179" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3179" bodyend="3183"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1aea3e54d9a8a3dd68909748bbf331fdec" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_array_ensure_capacity</definition>
        <argsstring>(mz_zip_archive *pZip, mz_zip_array *pArray, size_t min_new_capacity, mz_uint growing)</argsstring>
        <name>mz_zip_array_ensure_capacity</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref> *</type>
          <declname>pArray</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>min_new_capacity</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>growing</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3185" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3185" bodyend="3203"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1aa6dddea105b3aa50fc245c1faf43843e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> <ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static MZ_FORCEINLINE mz_bool mz_zip_array_reserve</definition>
        <argsstring>(mz_zip_archive *pZip, mz_zip_array *pArray, size_t new_capacity, mz_uint growing)</argsstring>
        <name>mz_zip_array_reserve</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref> *</type>
          <declname>pArray</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>new_capacity</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>growing</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3205" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3205" bodyend="3213"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1aef74dba7366dcc1de36eca8682480ddb" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> <ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static MZ_FORCEINLINE mz_bool mz_zip_array_resize</definition>
        <argsstring>(mz_zip_archive *pZip, mz_zip_array *pArray, size_t new_size, mz_uint growing)</argsstring>
        <name>mz_zip_array_resize</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref> *</type>
          <declname>pArray</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>new_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>growing</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3215" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3215" bodyend="3224"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a0b9993d18742ba59643f17a4f5eff39e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> <ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static MZ_FORCEINLINE mz_bool mz_zip_array_ensure_room</definition>
        <argsstring>(mz_zip_archive *pZip, mz_zip_array *pArray, size_t n)</argsstring>
        <name>mz_zip_array_ensure_room</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref> *</type>
          <declname>pArray</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>n</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3226" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3226" bodyend="3229"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> <ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static MZ_FORCEINLINE mz_bool mz_zip_array_push_back</definition>
        <argsstring>(mz_zip_archive *pZip, mz_zip_array *pArray, const void *pElements, size_t n)</argsstring>
        <name>mz_zip_array_push_back</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref> *</type>
          <declname>pArray</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pElements</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>n</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3231" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3231" bodyend="3238"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a865b4534749f2889ff8f0c7cd46a2262" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref></type>
        <definition>static MZ_TIME_T mz_zip_dos_to_time_t</definition>
        <argsstring>(int dos_time, int dos_date)</argsstring>
        <name>mz_zip_dos_to_time_t</name>
        <param>
          <type>int</type>
          <declname>dos_time</declname>
        </param>
        <param>
          <type>int</type>
          <declname>dos_date</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3241" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3241" bodyend="3253"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a81014d6382ef61c51ea369d3ba09d420" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void mz_zip_time_t_to_dos_time</definition>
        <argsstring>(MZ_TIME_T time, mz_uint16 *pDOS_time, mz_uint16 *pDOS_date)</argsstring>
        <name>mz_zip_time_t_to_dos_time</name>
        <param>
          <type><ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref></type>
          <declname>time</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref> *</type>
          <declname>pDOS_time</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref> *</type>
          <declname>pDOS_date</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3256" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3256" bodyend="3274"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a43fb717be3e3b6afcd27587df7669a07" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_get_file_modified_time</definition>
        <argsstring>(const char *pFilename, MZ_TIME_T *pTime)</argsstring>
        <name>mz_zip_get_file_modified_time</name>
        <param>
          <type>const char *</type>
          <declname>pFilename</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref> *</type>
          <declname>pTime</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3279" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3279" bodyend="3290"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a306c414bc38c7d4e1955328a61162afb" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_set_file_times</definition>
        <argsstring>(const char *pFilename, MZ_TIME_T access_time, MZ_TIME_T modified_time)</argsstring>
        <name>mz_zip_set_file_times</name>
        <param>
          <type>const char *</type>
          <declname>pFilename</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref></type>
          <declname>access_time</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref></type>
          <declname>modified_time</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3293" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3293" bodyend="3302"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a990e748a280a6903cbc02307320848c5" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> <ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static MZ_FORCEINLINE mz_bool mz_zip_set_error</definition>
        <argsstring>(mz_zip_archive *pZip, mz_zip_error err_num)</argsstring>
        <name>mz_zip_set_error</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref></type>
          <declname>err_num</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3306" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3306" bodyend="3311"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a52d8a4b36d39d7cf0dd2afbba5ce9c7e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_reader_init_internal</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint flags)</argsstring>
        <name>mz_zip_reader_init_internal</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3313" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3313" bodyend="3345"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a98ed4a51418dd67d4ec4c7a6f1d7483e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> <ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static MZ_FORCEINLINE mz_bool mz_zip_reader_filename_less</definition>
        <argsstring>(const mz_zip_array *pCentral_dir_array, const mz_zip_array *pCentral_dir_offsets, mz_uint l_index, mz_uint r_index)</argsstring>
        <name>mz_zip_reader_filename_less</name>
        <param>
          <type>const <ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref> *</type>
          <declname>pCentral_dir_array</declname>
        </param>
        <param>
          <type>const <ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref> *</type>
          <declname>pCentral_dir_offsets</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>l_index</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>r_index</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3347" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3347" bodyend="3364"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a240514a6b8d7e6f71ca91b166f37d961" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void mz_zip_reader_sort_central_dir_offsets_by_filename</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_reader_sort_central_dir_offsets_by_filename</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3376" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3376" bodyend="3426"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a35703b413385ecd807012bca70a3a221" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_reader_locate_header_sig</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint32 record_sig, mz_uint32 record_size, mz_int64 *pOfs)</argsstring>
        <name>mz_zip_reader_locate_header_sig</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref></type>
          <declname>record_sig</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref></type>
          <declname>record_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref> *</type>
          <declname>pOfs</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3428" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3428" bodyend="3472"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a7ac2826eb7d5b0df83a06d43a4489f4f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_reader_read_central_dir</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint flags)</argsstring>
        <name>mz_zip_reader_read_central_dir</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3474" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3474" bodyend="3696"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a8c64687454aca17948eb58730dc6f41b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void mz_zip_zero_struct</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_zero_struct</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3698" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3698" bodyend="3702"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a550503f834d14ecf4baf1eff98f3ca5c" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_reader_end_internal</definition>
        <argsstring>(mz_zip_archive *pZip, mz_bool set_last_error)</argsstring>
        <name>mz_zip_reader_end_internal</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
          <declname>set_last_error</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3704" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3704" bodyend="3749"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a0cf333c7781de5d56d24d70e573507e2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_end</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_reader_end</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3751" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3751" bodyend="3754"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a5aeef8648af76ac95c3d8e2f43be095e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_init</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint64 size, mz_uint flags)</argsstring>
        <name>mz_zip_reader_init</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3755" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3755" bodyend="3773"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a98e280f09026d4746a4171c94c8d64f6" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>static size_t mz_zip_mem_read_func</definition>
        <argsstring>(void *pOpaque, mz_uint64 file_ofs, void *pBuf, size_t n)</argsstring>
        <name>mz_zip_mem_read_func</name>
        <param>
          <type>void *</type>
          <declname>pOpaque</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>file_ofs</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>n</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3775" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3775" bodyend="3781"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a6806f0e4c2e8320f33188e12ec0b63b6" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_init_mem</definition>
        <argsstring>(mz_zip_archive *pZip, const void *pMem, size_t size, mz_uint flags)</argsstring>
        <name>mz_zip_reader_init_mem</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pMem</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3783" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3783" bodyend="3815"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a1440cf12da0b3513e14319c32f04b44f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>static size_t mz_zip_file_read_func</definition>
        <argsstring>(void *pOpaque, mz_uint64 file_ofs, void *pBuf, size_t n)</argsstring>
        <name>mz_zip_file_read_func</name>
        <param>
          <type>void *</type>
          <declname>pOpaque</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>file_ofs</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>n</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3818" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3818" bodyend="3829"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a24e55b3b8f9f7722a43117d8a3497eff" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_init_file</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pFilename, mz_uint32 flags)</argsstring>
        <name>mz_zip_reader_init_file</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pFilename</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3831" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3831" bodyend="3834"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1aac2174a6cb49f234d050051bff59bfdd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_init_file_v2</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pFilename, mz_uint flags, mz_uint64 file_start_ofs, mz_uint64 archive_size)</argsstring>
        <name>mz_zip_reader_init_file_v2</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pFilename</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>file_start_ofs</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>archive_size</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3836" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3836" bodyend="3885"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1adf32b3615759bd3db23877eb95d106d5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_init_cfile</definition>
        <argsstring>(mz_zip_archive *pZip, MZ_FILE *pFile, mz_uint64 archive_size, mz_uint flags)</argsstring>
        <name>mz_zip_reader_init_cfile</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref> *</type>
          <declname>pFile</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>archive_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3887" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3887" bodyend="3925"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1abb036541231e500526a12a35e3bd0eae" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> const <ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref> *</type>
        <definition>static MZ_FORCEINLINE const mz_uint8* mz_zip_get_cdh</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint file_index)</argsstring>
        <name>mz_zip_get_cdh</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>file_index</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3929" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3929" bodyend="3934"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a8b262a8e0d2b58d0d0d5523655bd07bc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_is_file_encrypted</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint file_index)</argsstring>
        <name>mz_zip_reader_is_file_encrypted</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>file_index</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3936" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3936" bodyend="3948"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a996d0ae919e19b0821cebbc7ce52ce91" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_is_file_supported</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint file_index)</argsstring>
        <name>mz_zip_reader_is_file_supported</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>file_index</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3950" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3950" bodyend="3984"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a400dc4c44934e7d73706b419f4a73595" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_is_file_a_directory</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint file_index)</argsstring>
        <name>mz_zip_reader_is_file_a_directory</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>file_index</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="3986" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="3986" bodyend="4016"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a2a7f8b015e1b9e5b28617661a2102325" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_file_stat_internal</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint file_index, const mz_uint8 *pCentral_dir_header, mz_zip_archive_file_stat *pStat, mz_bool *pFound_zip64_extra_data)</argsstring>
        <name>mz_zip_file_stat_internal</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>file_index</declname>
        </param>
        <param>
          <type>const <ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref> *</type>
          <declname>pCentral_dir_header</declname>
        </param>
        <param>
          <type><ref refid="structmz__zip__archive__file__stat" kindref="compound">mz_zip_archive_file_stat</ref> *</type>
          <declname>pStat</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref> *</type>
          <declname>pFound_zip64_extra_data</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4018" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4018" bodyend="4136"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ac48f0e1e64ceda14c01f224cd710ca3f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> <ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static MZ_FORCEINLINE mz_bool mz_zip_string_equal</definition>
        <argsstring>(const char *pA, const char *pB, mz_uint len, mz_uint flags)</argsstring>
        <name>mz_zip_string_equal</name>
        <param>
          <type>const char *</type>
          <declname>pA</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pB</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>len</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4138" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4138" bodyend="4147"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a8e24b430eb7de694602135a799e1760a" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> int</type>
        <definition>static MZ_FORCEINLINE int mz_zip_filename_compare</definition>
        <argsstring>(const mz_zip_array *pCentral_dir_array, const mz_zip_array *pCentral_dir_offsets, mz_uint l_index, const char *pR, mz_uint r_len)</argsstring>
        <name>mz_zip_filename_compare</name>
        <param>
          <type>const <ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref> *</type>
          <declname>pCentral_dir_array</declname>
        </param>
        <param>
          <type>const <ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref> *</type>
          <declname>pCentral_dir_offsets</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>l_index</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pR</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>r_len</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4149" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4149" bodyend="4164"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1aaac0bd73d99bf67e7b32be8acddc4718" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_locate_file_binary_search</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pFilename, mz_uint32 *pIndex)</argsstring>
        <name>mz_zip_locate_file_binary_search</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pFilename</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref> *</type>
          <declname>pIndex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4166" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4166" bodyend="4204"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a84813b57c1313c2e2d94a1f62d3ab9b3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int mz_zip_reader_locate_file</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pName, const char *pComment, mz_uint flags)</argsstring>
        <name>mz_zip_reader_locate_file</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pName</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pComment</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4206" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4206" bodyend="4213"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a4d12d37b3d14f7dfb0312433b7940d7e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_locate_file_v2</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pName, const char *pComment, mz_uint flags, mz_uint32 *pIndex)</argsstring>
        <name>mz_zip_reader_locate_file_v2</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pName</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pComment</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref> *</type>
          <declname>pIndex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4215" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4215" bodyend="4278"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a4721777518994d4d3ba978e427565e28" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_extract_to_mem_no_alloc</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint file_index, void *pBuf, size_t buf_size, mz_uint flags, void *pUser_read_buf, size_t user_read_buf_size)</argsstring>
        <name>mz_zip_reader_extract_to_mem_no_alloc</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>file_index</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>buf_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pUser_read_buf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>user_read_buf_size</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4280" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4280" bodyend="4421"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ac16cec09731400cc18c3b907340ef601" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_extract_file_to_mem_no_alloc</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pFilename, void *pBuf, size_t buf_size, mz_uint flags, void *pUser_read_buf, size_t user_read_buf_size)</argsstring>
        <name>mz_zip_reader_extract_file_to_mem_no_alloc</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pFilename</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>buf_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pUser_read_buf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>user_read_buf_size</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4423" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4423" bodyend="4429"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a9aa631c7bc8147b39b6d8a910682463e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_extract_to_mem</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint file_index, void *pBuf, size_t buf_size, mz_uint flags)</argsstring>
        <name>mz_zip_reader_extract_to_mem</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>file_index</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>buf_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4431" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4431" bodyend="4434"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1abb734054fc4e51026c1187aa8a12a1f8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_extract_file_to_mem</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pFilename, void *pBuf, size_t buf_size, mz_uint flags)</argsstring>
        <name>mz_zip_reader_extract_file_to_mem</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pFilename</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>buf_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4436" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4436" bodyend="4439"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a7387530cd78979243538a5c87132b64b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void *</type>
        <definition>void* mz_zip_reader_extract_to_heap</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint file_index, size_t *pSize, mz_uint flags)</argsstring>
        <name>mz_zip_reader_extract_to_heap</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>file_index</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>pSize</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4441" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4441" bodyend="4481"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ac0301a766ca6023da1a58f3a3f3333c7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void *</type>
        <definition>void* mz_zip_reader_extract_file_to_heap</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pFilename, size_t *pSize, mz_uint flags)</argsstring>
        <name>mz_zip_reader_extract_file_to_heap</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pFilename</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>pSize</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4483" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4483" bodyend="4493"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a607bba163f72b6728191504c53bf70a8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_extract_to_callback</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint file_index, mz_file_write_func pCallback, void *pOpaque, mz_uint flags)</argsstring>
        <name>mz_zip_reader_extract_to_callback</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>file_index</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a20dd8c64af05b367626a8e151c78e521" kindref="member">mz_file_write_func</ref></type>
          <declname>pCallback</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pOpaque</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4495" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4495" bodyend="4691"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a2f77f2adc9a6d554f89f79e4f0207b9c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_extract_file_to_callback</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pFilename, mz_file_write_func pCallback, void *pOpaque, mz_uint flags)</argsstring>
        <name>mz_zip_reader_extract_file_to_callback</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pFilename</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a20dd8c64af05b367626a8e151c78e521" kindref="member">mz_file_write_func</ref></type>
          <declname>pCallback</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pOpaque</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4693" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4693" bodyend="4700"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a6acedb9402a1e7eafad0d09bfa08f20e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>static size_t mz_zip_file_write_callback</definition>
        <argsstring>(void *pOpaque, mz_uint64 ofs, const void *pBuf, size_t n)</argsstring>
        <name>mz_zip_file_write_callback</name>
        <param>
          <type>void *</type>
          <declname>pOpaque</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>ofs</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>n</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4703" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4703" bodyend="4708"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1af328f94aff4a5d44825959eb58bdf3c9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_extract_to_file</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint file_index, const char *pDst_filename, mz_uint flags)</argsstring>
        <name>mz_zip_reader_extract_to_file</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>file_index</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pDst_filename</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4710" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4710" bodyend="4742"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a5e053a05efdc3b9d210f9391382dcd9a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_extract_file_to_file</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pArchive_filename, const char *pDst_filename, mz_uint flags)</argsstring>
        <name>mz_zip_reader_extract_file_to_file</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pArchive_filename</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pDst_filename</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4744" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4744" bodyend="4751"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1adbd8df20b8b63f164c7c2655e30eb232" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_extract_to_cfile</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint file_index, MZ_FILE *pFile, mz_uint flags)</argsstring>
        <name>mz_zip_reader_extract_to_cfile</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>file_index</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref> *</type>
          <declname>pFile</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4753" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4753" bodyend="4764"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ae696e70169c739706434446c01fa6f82" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_extract_file_to_cfile</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pArchive_filename, MZ_FILE *pFile, mz_uint flags)</argsstring>
        <name>mz_zip_reader_extract_file_to_cfile</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pArchive_filename</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref> *</type>
          <declname>pFile</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4766" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4766" bodyend="4773"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ad66cdb80b873c2eb640df26246c6a4b2" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>static size_t mz_zip_compute_crc32_callback</definition>
        <argsstring>(void *pOpaque, mz_uint64 file_ofs, const void *pBuf, size_t n)</argsstring>
        <name>mz_zip_compute_crc32_callback</name>
        <param>
          <type>void *</type>
          <declname>pOpaque</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>file_ofs</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>n</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4776" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4776" bodyend="4782"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1acaef85bf26fe6936ac04e14950078892" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_validate_file</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint file_index, mz_uint flags)</argsstring>
        <name>mz_zip_validate_file</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>file_index</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4784" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4784" bodyend="4988"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a0f22c932bfa13ea1f720dc757e22be12" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_validate_archive</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint flags)</argsstring>
        <name>mz_zip_validate_archive</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="4990" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="4990" bodyend="5041"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1acaaba12f38ef5ec95f895c54a7c56351" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_validate_mem_archive</definition>
        <argsstring>(const void *pMem, size_t size, mz_uint flags, mz_zip_error *pErr)</argsstring>
        <name>mz_zip_validate_mem_archive</name>
        <param>
          <type>const void *</type>
          <declname>pMem</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref> *</type>
          <declname>pErr</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5043" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5043" bodyend="5082"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a608ee912bc95f54d663f39157dae0d43" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_validate_file_archive</definition>
        <argsstring>(const char *pFilename, mz_uint flags, mz_zip_error *pErr)</argsstring>
        <name>mz_zip_validate_file_archive</name>
        <param>
          <type>const char *</type>
          <declname>pFilename</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref> *</type>
          <declname>pErr</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5085" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5085" bodyend="5124"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a3084a7ba4f09259808c0003fa1b1e45f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> void</type>
        <definition>static MZ_FORCEINLINE void mz_write_le16</definition>
        <argsstring>(mz_uint8 *p, mz_uint16 v)</argsstring>
        <name>mz_write_le16</name>
        <param>
          <type><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref> *</type>
          <declname>p</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>v</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5131" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5131" bodyend="5135"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a1bd4e0a2065cc70ceb20a811605dc402" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> void</type>
        <definition>static MZ_FORCEINLINE void mz_write_le32</definition>
        <argsstring>(mz_uint8 *p, mz_uint32 v)</argsstring>
        <name>mz_write_le32</name>
        <param>
          <type><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref> *</type>
          <declname>p</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref></type>
          <declname>v</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5136" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5136" bodyend="5142"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ae5d5e45622787aa5a260f1f800b5978e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref> void</type>
        <definition>static MZ_FORCEINLINE void mz_write_le64</definition>
        <argsstring>(mz_uint8 *p, mz_uint64 v)</argsstring>
        <name>mz_write_le64</name>
        <param>
          <type><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref> *</type>
          <declname>p</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>v</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5143" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5143" bodyend="5147"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a80eaca434d785016af778ef5c93399e8" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>static size_t mz_zip_heap_write_func</definition>
        <argsstring>(void *pOpaque, mz_uint64 file_ofs, const void *pBuf, size_t n)</argsstring>
        <name>mz_zip_heap_write_func</name>
        <param>
          <type>void *</type>
          <declname>pOpaque</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>file_ofs</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>n</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5153" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5153" bodyend="5189"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a278e91533e10d52981cb5d3d49335f7e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_writer_end_internal</definition>
        <argsstring>(mz_zip_archive *pZip, mz_bool set_last_error)</argsstring>
        <name>mz_zip_writer_end_internal</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
          <declname>set_last_error</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5191" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5191" bodyend="5235"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ae7a4dc8ccdc92cf8fe90f0703dae5650" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_init_v2</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint64 existing_size, mz_uint flags)</argsstring>
        <name>mz_zip_writer_init_v2</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>existing_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5237" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5237" bodyend="5284"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a8b4c858b16cf5ea4508ca2e38a8e2a0a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_init</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint64 existing_size)</argsstring>
        <name>mz_zip_writer_init</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>existing_size</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5286" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5286" bodyend="5289"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1af2dce1c3179550a7870704abc099f086" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_init_heap_v2</definition>
        <argsstring>(mz_zip_archive *pZip, size_t size_to_reserve_at_beginning, size_t initial_allocation_size, mz_uint flags)</argsstring>
        <name>mz_zip_writer_init_heap_v2</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>size_to_reserve_at_beginning</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>initial_allocation_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5291" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5291" bodyend="5317"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a520050b2d27e4a1073e4462c5258d7f2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_init_heap</definition>
        <argsstring>(mz_zip_archive *pZip, size_t size_to_reserve_at_beginning, size_t initial_allocation_size)</argsstring>
        <name>mz_zip_writer_init_heap</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>size_to_reserve_at_beginning</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>initial_allocation_size</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5319" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5319" bodyend="5322"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a3f7ad53ba9b773bbcb6c8edd91f8b918" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>static size_t mz_zip_file_write_func</definition>
        <argsstring>(void *pOpaque, mz_uint64 file_ofs, const void *pBuf, size_t n)</argsstring>
        <name>mz_zip_file_write_func</name>
        <param>
          <type>void *</type>
          <declname>pOpaque</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>file_ofs</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>n</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5325" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5325" bodyend="5339"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a1ef57babf68945c7ef12f471d7c417c9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_init_file</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pFilename, mz_uint64 size_to_reserve_at_beginning)</argsstring>
        <name>mz_zip_writer_init_file</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pFilename</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>size_to_reserve_at_beginning</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5341" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5341" bodyend="5344"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a3f063007374b7ddf5fd84f0644b4cfba" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_init_file_v2</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pFilename, mz_uint64 size_to_reserve_at_beginning, mz_uint flags)</argsstring>
        <name>mz_zip_writer_init_file_v2</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pFilename</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>size_to_reserve_at_beginning</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5346" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5346" bodyend="5391"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a7d826f57eb4ba51217912b915512bd77" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_init_cfile</definition>
        <argsstring>(mz_zip_archive *pZip, MZ_FILE *pFile, mz_uint flags)</argsstring>
        <name>mz_zip_writer_init_cfile</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref> *</type>
          <declname>pFile</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5393" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5393" bodyend="5411"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1aaa53ceaf8230510769b12e04df060c23" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_init_from_reader_v2</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pFilename, mz_uint flags)</argsstring>
        <name>mz_zip_writer_init_from_reader_v2</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pFilename</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5414" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5414" bodyend="5499"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1aea1a273234436ccb155a0e92ef2a30e4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_init_from_reader</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pFilename)</argsstring>
        <name>mz_zip_writer_init_from_reader</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pFilename</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5501" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5501" bodyend="5504"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ab5aac408b80e6f51a14434330fc76d6d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_add_mem</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pArchive_name, const void *pBuf, size_t buf_size, mz_uint level_and_flags)</argsstring>
        <name>mz_zip_writer_add_mem</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pArchive_name</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>buf_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>level_and_flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5507" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5507" bodyend="5510"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a97588a80c7490308f27a91cb40a355a8" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_writer_add_put_buf_callback</definition>
        <argsstring>(const void *pBuf, int len, void *pUser)</argsstring>
        <name>mz_zip_writer_add_put_buf_callback</name>
        <param>
          <type>const void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>int</type>
          <declname>len</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pUser</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5519" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5519" bodyend="5528"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a8e6757d07832c14a6310ca0524c3f024" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref></type>
        <definition>static mz_uint32 mz_zip_writer_create_zip64_extra_data</definition>
        <argsstring>(mz_uint8 *pBuf, mz_uint64 *pUncomp_size, mz_uint64 *pComp_size, mz_uint64 *pLocal_header_ofs)</argsstring>
        <name>mz_zip_writer_create_zip64_extra_data</name>
        <param>
          <type><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref> *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref> *</type>
          <declname>pUncomp_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref> *</type>
          <declname>pComp_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref> *</type>
          <declname>pLocal_header_ofs</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5532" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5532" bodyend="5565"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ae1b9b894b1fe6286919b091c89337633" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_writer_create_local_dir_header</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint8 *pDst, mz_uint16 filename_size, mz_uint16 extra_size, mz_uint64 uncomp_size, mz_uint64 comp_size, mz_uint32 uncomp_crc32, mz_uint16 method, mz_uint16 bit_flags, mz_uint16 dos_time, mz_uint16 dos_date)</argsstring>
        <name>mz_zip_writer_create_local_dir_header</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref> *</type>
          <declname>pDst</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>filename_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>extra_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>uncomp_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>comp_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref></type>
          <declname>uncomp_crc32</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>method</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>bit_flags</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>dos_time</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>dos_date</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5567" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5567" bodyend="5583"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a7b85d16940dcbcb59615be2442e54f66" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_writer_create_central_dir_header</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint8 *pDst, mz_uint16 filename_size, mz_uint16 extra_size, mz_uint16 comment_size, mz_uint64 uncomp_size, mz_uint64 comp_size, mz_uint32 uncomp_crc32, mz_uint16 method, mz_uint16 bit_flags, mz_uint16 dos_time, mz_uint16 dos_date, mz_uint64 local_header_ofs, mz_uint32 ext_attributes)</argsstring>
        <name>mz_zip_writer_create_central_dir_header</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref> *</type>
          <declname>pDst</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>filename_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>extra_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>comment_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>uncomp_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>comp_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref></type>
          <declname>uncomp_crc32</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>method</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>bit_flags</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>dos_time</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>dos_date</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>local_header_ofs</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref></type>
          <declname>ext_attributes</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5585" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5585" bodyend="5608"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a0a0f9c1d13431f247f29c0585fad94a6" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_writer_add_to_central_dir</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pFilename, mz_uint16 filename_size, const void *pExtra, mz_uint16 extra_size, const void *pComment, mz_uint16 comment_size, mz_uint64 uncomp_size, mz_uint64 comp_size, mz_uint32 uncomp_crc32, mz_uint16 method, mz_uint16 bit_flags, mz_uint16 dos_time, mz_uint16 dos_date, mz_uint64 local_header_ofs, mz_uint32 ext_attributes, const char *user_extra_data, mz_uint user_extra_data_len)</argsstring>
        <name>mz_zip_writer_add_to_central_dir</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pFilename</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>filename_size</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pExtra</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>extra_size</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pComment</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>comment_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>uncomp_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>comp_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref></type>
          <declname>uncomp_crc32</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>method</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>bit_flags</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>dos_time</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>dos_date</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>local_header_ofs</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref></type>
          <declname>ext_attributes</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>user_extra_data</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>user_extra_data_len</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5610" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5610" bodyend="5648"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a97d5bb6b72d210e1a566e43b10080220" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_writer_validate_archive_name</definition>
        <argsstring>(const char *pArchive_name)</argsstring>
        <name>mz_zip_writer_validate_archive_name</name>
        <param>
          <type>const char *</type>
          <declname>pArchive_name</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5650" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5650" bodyend="5665"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a922d2fef6d4d160a9053cebf4c486a0b" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
        <definition>static mz_uint mz_zip_writer_compute_padding_needed_for_file_alignment</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_writer_compute_padding_needed_for_file_alignment</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5667" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5667" bodyend="5674"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ac2423627c59f318541d6a1218eda198f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_writer_write_zeros</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint64 cur_file_ofs, mz_uint32 n)</argsstring>
        <name>mz_zip_writer_write_zeros</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>cur_file_ofs</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref></type>
          <declname>n</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5676" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5676" bodyend="5690"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a48ece9a3d251aa69af280e975b6cc080" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_add_mem_ex</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pArchive_name, const void *pBuf, size_t buf_size, const void *pComment, mz_uint16 comment_size, mz_uint level_and_flags, mz_uint64 uncomp_size, mz_uint32 uncomp_crc32)</argsstring>
        <name>mz_zip_writer_add_mem_ex</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pArchive_name</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>buf_size</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pComment</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>comment_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>level_and_flags</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>uncomp_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref></type>
          <declname>uncomp_crc32</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5692" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5692" bodyend="5696"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1aeeaca42531d675d5c72f038e1f9e13cd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_add_mem_ex_v2</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pArchive_name, const void *pBuf, size_t buf_size, const void *pComment, mz_uint16 comment_size, mz_uint level_and_flags, mz_uint64 uncomp_size, mz_uint32 uncomp_crc32, MZ_TIME_T *last_modified, const char *user_extra_data, mz_uint user_extra_data_len, const char *user_extra_data_central, mz_uint user_extra_data_central_len)</argsstring>
        <name>mz_zip_writer_add_mem_ex_v2</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pArchive_name</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>buf_size</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pComment</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>comment_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>level_and_flags</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>uncomp_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref></type>
          <declname>uncomp_crc32</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref> *</type>
          <declname>last_modified</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>user_extra_data</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>user_extra_data_len</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>user_extra_data_central</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>user_extra_data_central_len</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5698" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5698" bodyend="5978"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1aad5c354359b5b9cb7f82912431317438" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_add_cfile</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pArchive_name, MZ_FILE *pSrc_file, mz_uint64 size_to_add, const MZ_TIME_T *pFile_time, const void *pComment, mz_uint16 comment_size, mz_uint level_and_flags, const char *user_extra_data, mz_uint user_extra_data_len, const char *user_extra_data_central, mz_uint user_extra_data_central_len)</argsstring>
        <name>mz_zip_writer_add_cfile</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pArchive_name</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref> *</type>
          <declname>pSrc_file</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>size_to_add</declname>
        </param>
        <param>
          <type>const <ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref> *</type>
          <declname>pFile_time</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pComment</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>comment_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>level_and_flags</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>user_extra_data</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>user_extra_data_len</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>user_extra_data_central</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>user_extra_data_central_len</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="5981" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="5981" bodyend="6277"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a7e65ca89365aca18317932a5a6a53ec5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_add_file</definition>
        <argsstring>(mz_zip_archive *pZip, const char *pArchive_name, const char *pSrc_filename, const void *pComment, mz_uint16 comment_size, mz_uint level_and_flags)</argsstring>
        <name>mz_zip_writer_add_file</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pArchive_name</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pSrc_filename</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pComment</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>comment_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>level_and_flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="6279" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="6279" bodyend="6308"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ad78fe0e35fd725fddef759bd8239d123" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>static mz_bool mz_zip_writer_update_zip64_extension_block</definition>
        <argsstring>(mz_zip_array *pNew_ext, mz_zip_archive *pZip, const mz_uint8 *pExt, uint32_t ext_len, mz_uint64 *pComp_size, mz_uint64 *pUncomp_size, mz_uint64 *pLocal_header_ofs, mz_uint32 *pDisk_start)</argsstring>
        <name>mz_zip_writer_update_zip64_extension_block</name>
        <param>
          <type><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref> *</type>
          <declname>pNew_ext</declname>
        </param>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>const <ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref> *</type>
          <declname>pExt</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>ext_len</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref> *</type>
          <declname>pComp_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref> *</type>
          <declname>pUncomp_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref> *</type>
          <declname>pLocal_header_ofs</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref> *</type>
          <declname>pDisk_start</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="6311" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="6311" bodyend="6388"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a995089c55642ae721d39970627a6f692" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_add_from_zip_reader</definition>
        <argsstring>(mz_zip_archive *pZip, mz_zip_archive *pSource_zip, mz_uint src_file_index)</argsstring>
        <name>mz_zip_writer_add_from_zip_reader</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pSource_zip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>src_file_index</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="6391" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="6391" bodyend="6751"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a0f7c5b26c1200daacd0eefa8744d9d1a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_finalize_archive</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_writer_finalize_archive</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="6753" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="6753" bodyend="6839"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1ae21d7f8237b520a1c8681bddb68cad42" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_finalize_heap_archive</definition>
        <argsstring>(mz_zip_archive *pZip, void **ppBuf, size_t *pSize)</argsstring>
        <name>mz_zip_writer_finalize_heap_archive</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type>void **</type>
          <declname>ppBuf</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>pSize</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="6841" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="6841" bodyend="6864"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a7ac49ded3cc37713226764131602e857" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_writer_end</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_writer_end</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="6866" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="6866" bodyend="6869"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a36c32e80d9a7c3c217ae7afdfe1d30cf" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_add_mem_to_archive_file_in_place</definition>
        <argsstring>(const char *pZip_filename, const char *pArchive_name, const void *pBuf, size_t buf_size, const void *pComment, mz_uint16 comment_size, mz_uint level_and_flags)</argsstring>
        <name>mz_zip_add_mem_to_archive_file_in_place</name>
        <param>
          <type>const char *</type>
          <declname>pZip_filename</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pArchive_name</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>buf_size</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pComment</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>comment_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>level_and_flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="6872" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="6872" bodyend="6875"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a443af52ee783e8ce9dc397761632d30e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_add_mem_to_archive_file_in_place_v2</definition>
        <argsstring>(const char *pZip_filename, const char *pArchive_name, const void *pBuf, size_t buf_size, const void *pComment, mz_uint16 comment_size, mz_uint level_and_flags, mz_zip_error *pErr)</argsstring>
        <name>mz_zip_add_mem_to_archive_file_in_place_v2</name>
        <param>
          <type>const char *</type>
          <declname>pZip_filename</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pArchive_name</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>buf_size</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>pComment</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref></type>
          <declname>comment_size</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>level_and_flags</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref> *</type>
          <declname>pErr</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="6877" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="6877" bodyend="6968"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a94dc7c4eddd98466020dc02881d016d1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void *</type>
        <definition>void* mz_zip_extract_archive_file_to_heap_v2</definition>
        <argsstring>(const char *pZip_filename, const char *pArchive_name, const char *pComment, size_t *pSize, mz_uint flags, mz_zip_error *pErr)</argsstring>
        <name>mz_zip_extract_archive_file_to_heap_v2</name>
        <param>
          <type>const char *</type>
          <declname>pZip_filename</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pArchive_name</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pComment</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>pSize</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref> *</type>
          <declname>pErr</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="6970" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="6970" bodyend="7007"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1aebd3651c5138a33ff42d46ad9596fe6d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void *</type>
        <definition>void* mz_zip_extract_archive_file_to_heap</definition>
        <argsstring>(const char *pZip_filename, const char *pArchive_name, size_t *pSize, mz_uint flags)</argsstring>
        <name>mz_zip_extract_archive_file_to_heap</name>
        <param>
          <type>const char *</type>
          <declname>pZip_filename</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>pArchive_name</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>pSize</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>flags</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7009" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7009" bodyend="7012"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a388a0652c3c8d2b75a418fb2966efe2c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3" kindref="member">mz_zip_mode</ref></type>
        <definition>mz_zip_mode mz_zip_get_mode</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_get_mode</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7020" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7020" bodyend="7023"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a10e9a214efba7f8c6740f05eaafaaf83" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a9e009caf9b469d91618c184666c50da4" kindref="member">mz_zip_type</ref></type>
        <definition>mz_zip_type mz_zip_get_type</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_get_type</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7025" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7025" bodyend="7028"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a9d0a18d927aab166ef7ea84cb98cd9ea" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref></type>
        <definition>mz_zip_error mz_zip_set_last_error</definition>
        <argsstring>(mz_zip_archive *pZip, mz_zip_error err_num)</argsstring>
        <name>mz_zip_set_last_error</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref></type>
          <declname>err_num</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7030" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7030" bodyend="7041"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a5ab3dec70535617213e159a2c9bec0ca" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref></type>
        <definition>mz_zip_error mz_zip_peek_last_error</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_peek_last_error</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7043" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7043" bodyend="7049"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1aece78e8972f5437affc90509550ba82c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref></type>
        <definition>mz_zip_error mz_zip_clear_last_error</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_clear_last_error</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7051" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7051" bodyend="7054"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a5cc8cf2275e42cef6721b84282d690c1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref></type>
        <definition>mz_zip_error mz_zip_get_last_error</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_get_last_error</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7056" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7056" bodyend="7067"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a6d45d0df0da44c7f373d994a9bd3786d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const char *</type>
        <definition>const char* mz_zip_get_error_string</definition>
        <argsstring>(mz_zip_error mz_err)</argsstring>
        <name>mz_zip_get_error_string</name>
        <param>
          <type><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref></type>
          <declname>mz_err</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7069" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7069" bodyend="7142"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a0b0ba17abd48cc98db90960b623b1162" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_is_zip64</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_is_zip64</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7145" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7145" bodyend="7151"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a2828228dbbcf66c0d5ecd66dafd39267" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>size_t mz_zip_get_central_dir_size</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_get_central_dir_size</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7153" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7153" bodyend="7159"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a1cb6b5d48f24b9aef3cb0a3f63793166" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
        <definition>mz_uint mz_zip_reader_get_num_files</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_reader_get_num_files</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7161" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7161" bodyend="7164"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a8ff0f5ba2757db9b36eafcf9cbdbdadd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
        <definition>mz_uint64 mz_zip_get_archive_size</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_get_archive_size</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7166" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7166" bodyend="7171"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1aaf20afef8b149b8653572002646e7e0a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
        <definition>mz_uint64 mz_zip_get_archive_file_start_offset</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_get_archive_file_start_offset</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7173" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7173" bodyend="7178"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a88c5879a7ef605d4d6f5e21557c7c145" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref> *</type>
        <definition>MZ_FILE* mz_zip_get_cfile</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_get_cfile</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7180" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7180" bodyend="7185"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a3e27ad8c1597bb95c808cd841ebae3b7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>size_t mz_zip_read_archive_data</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint64 file_ofs, void *pBuf, size_t n)</argsstring>
        <name>mz_zip_read_archive_data</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref></type>
          <declname>file_ofs</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>pBuf</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>n</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7187" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7187" bodyend="7193"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1af5ea9749b815e356b6df09c166687d13" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
        <definition>mz_uint mz_zip_reader_get_filename</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint file_index, char *pFilename, mz_uint filename_buf_size)</argsstring>
        <name>mz_zip_reader_get_filename</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>file_index</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>pFilename</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>filename_buf_size</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7195" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7195" bodyend="7214"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1aa9d3abc65b4b9b91efc437ec151e9c99" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_reader_file_stat</definition>
        <argsstring>(mz_zip_archive *pZip, mz_uint file_index, mz_zip_archive_file_stat *pStat)</argsstring>
        <name>mz_zip_reader_file_stat</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <param>
          <type><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref></type>
          <declname>file_index</declname>
        </param>
        <param>
          <type><ref refid="structmz__zip__archive__file__stat" kindref="compound">mz_zip_archive_file_stat</ref> *</type>
          <declname>pStat</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7216" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7216" bodyend="7219"/>
      </memberdef>
      <memberdef kind="function" id="miniz_8c_1a18c65a7ddd8d0efbb071e3708bf72105" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref></type>
        <definition>mz_bool mz_zip_end</definition>
        <argsstring>(mz_zip_archive *pZip)</argsstring>
        <name>mz_zip_end</name>
        <param>
          <type><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref> *</type>
          <declname>pZip</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" line="7221" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c" bodystart="7221" bodyend="7234"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/**************************************************************************</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>2013-2014<sp/>RAD<sp/>Game<sp/>Tools<sp/>and<sp/>Valve<sp/>Software</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>2010-2014<sp/>Rich<sp/>Geldreich<sp/>and<sp/>Tenacious<sp/>Software<sp/>LLC</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*<sp/>All<sp/>Rights<sp/>Reserved.</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/>Permission<sp/>is<sp/>hereby<sp/>granted,<sp/>free<sp/>of<sp/>charge,<sp/>to<sp/>any<sp/>person<sp/>obtaining<sp/>a<sp/>copy</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>*<sp/>of<sp/>this<sp/>software<sp/>and<sp/>associated<sp/>documentation<sp/>files<sp/>(the<sp/>&quot;Software&quot;),<sp/>to<sp/>deal</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>*<sp/>in<sp/>the<sp/>Software<sp/>without<sp/>restriction,<sp/>including<sp/>without<sp/>limitation<sp/>the<sp/>rights</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>*<sp/>to<sp/>use,<sp/>copy,<sp/>modify,<sp/>merge,<sp/>publish,<sp/>distribute,<sp/>sublicense,<sp/>and/or<sp/>sell</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>*<sp/>copies<sp/>of<sp/>the<sp/>Software,<sp/>and<sp/>to<sp/>permit<sp/>persons<sp/>to<sp/>whom<sp/>the<sp/>Software<sp/>is</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>*<sp/>furnished<sp/>to<sp/>do<sp/>so,<sp/>subject<sp/>to<sp/>the<sp/>following<sp/>conditions:</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>*<sp/>The<sp/>above<sp/>copyright<sp/>notice<sp/>and<sp/>this<sp/>permission<sp/>notice<sp/>shall<sp/>be<sp/>included<sp/>in</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>*<sp/>all<sp/>copies<sp/>or<sp/>substantial<sp/>portions<sp/>of<sp/>the<sp/>Software.</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>*<sp/>THE<sp/>SOFTWARE<sp/>IS<sp/>PROVIDED<sp/>&quot;AS<sp/>IS&quot;,<sp/>WITHOUT<sp/>WARRANTY<sp/>OF<sp/>ANY<sp/>KIND,<sp/>EXPRESS<sp/>OR</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>*<sp/>IMPLIED,<sp/>INCLUDING<sp/>BUT<sp/>NOT<sp/>LIMITED<sp/>TO<sp/>THE<sp/>WARRANTIES<sp/>OF<sp/>MERCHANTABILITY,</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/>*<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE<sp/>AND<sp/>NONINFRINGEMENT.<sp/>IN<sp/>NO<sp/>EVENT<sp/>SHALL<sp/>THE</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/>*<sp/>AUTHORS<sp/>OR<sp/>COPYRIGHT<sp/>HOLDERS<sp/>BE<sp/>LIABLE<sp/>FOR<sp/>ANY<sp/>CLAIM,<sp/>DAMAGES<sp/>OR<sp/>OTHER</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/>*<sp/>LIABILITY,<sp/>WHETHER<sp/>IN<sp/>AN<sp/>ACTION<sp/>OF<sp/>CONTRACT,<sp/>TORT<sp/>OR<sp/>OTHERWISE,<sp/>ARISING<sp/>FROM,</highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/>*<sp/>OUT<sp/>OF<sp/>OR<sp/>IN<sp/>CONNECTION<sp/>WITH<sp/>THE<sp/>SOFTWARE<sp/>OR<sp/>THE<sp/>USE<sp/>OR<sp/>OTHER<sp/>DEALINGS<sp/>IN</highlight></codeline>
<codeline lineno="23"><highlight class="comment"><sp/>*<sp/>THE<sp/>SOFTWARE.</highlight></codeline>
<codeline lineno="24"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="25"><highlight class="comment"><sp/>**************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/><sp/>&quot;<ref refid="miniz_8h" kindref="compound">miniz.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1ad71dbf45eb01b953c61560cc8cc5d4bc" kindref="member">mz_validate_uint16</ref>[</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>==<sp/>2<sp/>?<sp/>1<sp/>:<sp/>-1];</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1ad342833c3c3a7454ce40ab8ce3ac9a7b" kindref="member">mz_validate_uint32</ref>[</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>==<sp/>4<sp/>?<sp/>1<sp/>:<sp/>-1];</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a1f1a14fcddd2bc4149e0fd63ec31adb7" kindref="member">mz_validate_uint64</ref>[</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)<sp/>==<sp/>8<sp/>?<sp/>1<sp/>:<sp/>-1];</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;C&quot;</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>-------------------<sp/>zlib-style<sp/>API&apos;s<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/><ref refid="miniz_8c_1a094d181afc4c98dc1864f6ce7d636258" kindref="member">mz_adler32</ref>(<ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/>adler,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*ptr,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>buf_len)</highlight></codeline>
<codeline lineno="40"><highlight class="normal">{</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>i,<sp/>s1<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)(adler<sp/>&amp;<sp/>0xffff),<sp/>s2<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)(adler<sp/>&gt;&gt;<sp/>16);</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>block_len<sp/>=<sp/>buf_len<sp/>%<sp/>5552;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!ptr)</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a4d8a6ee7365a49c7a25251e1dbebdd2b" kindref="member">MZ_ADLER32_INIT</ref>;</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(buf_len)</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>+<sp/>7<sp/>&lt;<sp/>block_len;<sp/>i<sp/>+=<sp/>8,<sp/>ptr<sp/>+=<sp/>8)</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>ptr[0],<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>ptr[1],<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>ptr[2],<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>ptr[3],<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>ptr[4],<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>ptr[5],<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>ptr[6],<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>ptr[7],<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;<sp/>i<sp/>&lt;<sp/>block_len;<sp/>++i)</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>*ptr++,<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>%=<sp/>65521U,<sp/>s2<sp/>%=<sp/>65521U;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>buf_len<sp/>-=<sp/>block_len;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>block_len<sp/>=<sp/>5552;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(s2<sp/>&lt;&lt;<sp/>16)<sp/>+<sp/>s1;</highlight></codeline>
<codeline lineno="65"><highlight class="normal">}</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Karl<sp/>Malbrain&apos;s<sp/>compact<sp/>CRC-32.<sp/>See<sp/>&quot;A<sp/>compact<sp/>CCITT<sp/>crc16<sp/>and<sp/>crc32<sp/>C<sp/>implementation<sp/>that<sp/>balances<sp/>processor<sp/>cache<sp/>usage<sp/>against<sp/>speed&quot;:<sp/>http://www.geocities.com/malbrain/<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/><ref refid="miniz_8c_1a8b7cb38252f297265f6b850ab4ae0f01" kindref="member">mz_crc32</ref>(<ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/>crc,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*ptr,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>buf_len)</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>s_crc32[16]<sp/>=<sp/>{<sp/>0,<sp/>0x1db71064,<sp/>0x3b6e20c8,<sp/>0x26d930ac,<sp/>0x76dc4190,<sp/>0x6b6b51f4,<sp/>0x4db26158,<sp/>0x5005713c,</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xedb88320,<sp/>0xf00f9344,<sp/>0xd6d6a3e8,<sp/>0xcb61b38c,<sp/>0x9b64c2b0,<sp/>0x86d3d2d4,<sp/>0xa00ae278,<sp/>0xbdbdf21c<sp/>};</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>crcu32<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)crc;</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!ptr)</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a4e28761db3f5f136f790563dd13a08d6" kindref="member">MZ_CRC32_INIT</ref>;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>crcu32<sp/>=<sp/>~crcu32;</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(buf_len--)</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>b<sp/>=<sp/>*ptr++;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>crcu32<sp/>=<sp/>(crcu32<sp/>&gt;&gt;<sp/>4)<sp/>^<sp/>s_crc32[(crcu32<sp/>&amp;<sp/>0xF)<sp/>^<sp/>(b<sp/>&amp;<sp/>0xF)];</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>crcu32<sp/>=<sp/>(crcu32<sp/>&gt;&gt;<sp/>4)<sp/>^<sp/>s_crc32[(crcu32<sp/>&amp;<sp/>0xF)<sp/>^<sp/>(b<sp/>&gt;&gt;<sp/>4)];</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>~crcu32;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Faster,<sp/>but<sp/>larger<sp/>CPU<sp/>cache<sp/>footprint.</highlight></codeline>
<codeline lineno="87"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/><ref refid="miniz_8c_1a8b7cb38252f297265f6b850ab4ae0f01" kindref="member">mz_crc32</ref>(<ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/>crc,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*ptr,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>buf_len)</highlight></codeline>
<codeline lineno="89"><highlight class="normal">{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>s_crc_table[256]<sp/>=</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x00000000,<sp/>0x77073096,<sp/>0xEE0E612C,<sp/>0x990951BA,<sp/>0x076DC419,<sp/>0x706AF48F,<sp/>0xE963A535,</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x9E6495A3,<sp/>0x0EDB8832,<sp/>0x79DCB8A4,<sp/>0xE0D5E91E,<sp/>0x97D2D988,<sp/>0x09B64C2B,<sp/>0x7EB17CBD,</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xE7B82D07,<sp/>0x90BF1D91,<sp/>0x1DB71064,<sp/>0x6AB020F2,<sp/>0xF3B97148,<sp/>0x84BE41DE,<sp/>0x1ADAD47D,</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x6DDDE4EB,<sp/>0xF4D4B551,<sp/>0x83D385C7,<sp/>0x136C9856,<sp/>0x646BA8C0,<sp/>0xFD62F97A,<sp/>0x8A65C9EC,</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x14015C4F,<sp/>0x63066CD9,<sp/>0xFA0F3D63,<sp/>0x8D080DF5,<sp/>0x3B6E20C8,<sp/>0x4C69105E,<sp/>0xD56041E4,</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xA2677172,<sp/>0x3C03E4D1,<sp/>0x4B04D447,<sp/>0xD20D85FD,<sp/>0xA50AB56B,<sp/>0x35B5A8FA,<sp/>0x42B2986C,</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xDBBBC9D6,<sp/>0xACBCF940,<sp/>0x32D86CE3,<sp/>0x45DF5C75,<sp/>0xDCD60DCF,<sp/>0xABD13D59,<sp/>0x26D930AC,</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x51DE003A,<sp/>0xC8D75180,<sp/>0xBFD06116,<sp/>0x21B4F4B5,<sp/>0x56B3C423,<sp/>0xCFBA9599,<sp/>0xB8BDA50F,</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x2802B89E,<sp/>0x5F058808,<sp/>0xC60CD9B2,<sp/>0xB10BE924,<sp/>0x2F6F7C87,<sp/>0x58684C11,<sp/>0xC1611DAB,</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xB6662D3D,<sp/>0x76DC4190,<sp/>0x01DB7106,<sp/>0x98D220BC,<sp/>0xEFD5102A,<sp/>0x71B18589,<sp/>0x06B6B51F,</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x9FBFE4A5,<sp/>0xE8B8D433,<sp/>0x7807C9A2,<sp/>0x0F00F934,<sp/>0x9609A88E,<sp/>0xE10E9818,<sp/>0x7F6A0DBB,</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x086D3D2D,<sp/>0x91646C97,<sp/>0xE6635C01,<sp/>0x6B6B51F4,<sp/>0x1C6C6162,<sp/>0x856530D8,<sp/>0xF262004E,</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x6C0695ED,<sp/>0x1B01A57B,<sp/>0x8208F4C1,<sp/>0xF50FC457,<sp/>0x65B0D9C6,<sp/>0x12B7E950,<sp/>0x8BBEB8EA,</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xFCB9887C,<sp/>0x62DD1DDF,<sp/>0x15DA2D49,<sp/>0x8CD37CF3,<sp/>0xFBD44C65,<sp/>0x4DB26158,<sp/>0x3AB551CE,</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xA3BC0074,<sp/>0xD4BB30E2,<sp/>0x4ADFA541,<sp/>0x3DD895D7,<sp/>0xA4D1C46D,<sp/>0xD3D6F4FB,<sp/>0x4369E96A,</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x346ED9FC,<sp/>0xAD678846,<sp/>0xDA60B8D0,<sp/>0x44042D73,<sp/>0x33031DE5,<sp/>0xAA0A4C5F,<sp/>0xDD0D7CC9,</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x5005713C,<sp/>0x270241AA,<sp/>0xBE0B1010,<sp/>0xC90C2086,<sp/>0x5768B525,<sp/>0x206F85B3,<sp/>0xB966D409,</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xCE61E49F,<sp/>0x5EDEF90E,<sp/>0x29D9C998,<sp/>0xB0D09822,<sp/>0xC7D7A8B4,<sp/>0x59B33D17,<sp/>0x2EB40D81,</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xB7BD5C3B,<sp/>0xC0BA6CAD,<sp/>0xEDB88320,<sp/>0x9ABFB3B6,<sp/>0x03B6E20C,<sp/>0x74B1D29A,<sp/>0xEAD54739,</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x9DD277AF,<sp/>0x04DB2615,<sp/>0x73DC1683,<sp/>0xE3630B12,<sp/>0x94643B84,<sp/>0x0D6D6A3E,<sp/>0x7A6A5AA8,</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xE40ECF0B,<sp/>0x9309FF9D,<sp/>0x0A00AE27,<sp/>0x7D079EB1,<sp/>0xF00F9344,<sp/>0x8708A3D2,<sp/>0x1E01F268,</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x6906C2FE,<sp/>0xF762575D,<sp/>0x806567CB,<sp/>0x196C3671,<sp/>0x6E6B06E7,<sp/>0xFED41B76,<sp/>0x89D32BE0,</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x10DA7A5A,<sp/>0x67DD4ACC,<sp/>0xF9B9DF6F,<sp/>0x8EBEEFF9,<sp/>0x17B7BE43,<sp/>0x60B08ED5,<sp/>0xD6D6A3E8,</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xA1D1937E,<sp/>0x38D8C2C4,<sp/>0x4FDFF252,<sp/>0xD1BB67F1,<sp/>0xA6BC5767,<sp/>0x3FB506DD,<sp/>0x48B2364B,</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xD80D2BDA,<sp/>0xAF0A1B4C,<sp/>0x36034AF6,<sp/>0x41047A60,<sp/>0xDF60EFC3,<sp/>0xA867DF55,<sp/>0x316E8EEF,</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x4669BE79,<sp/>0xCB61B38C,<sp/>0xBC66831A,<sp/>0x256FD2A0,<sp/>0x5268E236,<sp/>0xCC0C7795,<sp/>0xBB0B4703,</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x220216B9,<sp/>0x5505262F,<sp/>0xC5BA3BBE,<sp/>0xB2BD0B28,<sp/>0x2BB45A92,<sp/>0x5CB36A04,<sp/>0xC2D7FFA7,</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xB5D0CF31,<sp/>0x2CD99E8B,<sp/>0x5BDEAE1D,<sp/>0x9B64C2B0,<sp/>0xEC63F226,<sp/>0x756AA39C,<sp/>0x026D930A,</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x9C0906A9,<sp/>0xEB0E363F,<sp/>0x72076785,<sp/>0x05005713,<sp/>0x95BF4A82,<sp/>0xE2B87A14,<sp/>0x7BB12BAE,</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0CB61B38,<sp/>0x92D28E9B,<sp/>0xE5D5BE0D,<sp/>0x7CDCEFB7,<sp/>0x0BDBDF21,<sp/>0x86D3D2D4,<sp/>0xF1D4E242,</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x68DDB3F8,<sp/>0x1FDA836E,<sp/>0x81BE16CD,<sp/>0xF6B9265B,<sp/>0x6FB077E1,<sp/>0x18B74777,<sp/>0x88085AE6,</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xFF0F6A70,<sp/>0x66063BCA,<sp/>0x11010B5C,<sp/>0x8F659EFF,<sp/>0xF862AE69,<sp/>0x616BFFD3,<sp/>0x166CCF45,</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xA00AE278,<sp/>0xD70DD2EE,<sp/>0x4E048354,<sp/>0x3903B3C2,<sp/>0xA7672661,<sp/>0xD06016F7,<sp/>0x4969474D,</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x3E6E77DB,<sp/>0xAED16A4A,<sp/>0xD9D65ADC,<sp/>0x40DF0B66,<sp/>0x37D83BF0,<sp/>0xA9BCAE53,<sp/>0xDEBB9EC5,</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x47B2CF7F,<sp/>0x30B5FFE9,<sp/>0xBDBDF21C,<sp/>0xCABAC28A,<sp/>0x53B39330,<sp/>0x24B4A3A6,<sp/>0xBAD03605,</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xCDD70693,<sp/>0x54DE5729,<sp/>0x23D967BF,<sp/>0xB3667A2E,<sp/>0xC4614AB8,<sp/>0x5D681B02,<sp/>0x2A6F2B94,</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xB40BBE37,<sp/>0xC30C8EA1,<sp/>0x5A05DF1B,<sp/>0x2D02EF8D</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/><ref refid="miniz_8h_1aa020ce787714a140599b55725bf7c657" kindref="member">crc32</ref><sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)crc<sp/>^<sp/>0xFFFFFFFF;</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pByte_buf<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)ptr;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(buf_len<sp/>&gt;=<sp/>4)</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>crc32<sp/>=<sp/>(crc32<sp/>&gt;&gt;<sp/>8)<sp/>^<sp/>s_crc_table[(crc32<sp/>^<sp/>pByte_buf[0])<sp/>&amp;<sp/>0xFF];</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>crc32<sp/>=<sp/>(crc32<sp/>&gt;&gt;<sp/>8)<sp/>^<sp/>s_crc_table[(crc32<sp/>^<sp/>pByte_buf[1])<sp/>&amp;<sp/>0xFF];</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>crc32<sp/>=<sp/>(crc32<sp/>&gt;&gt;<sp/>8)<sp/>^<sp/>s_crc_table[(crc32<sp/>^<sp/>pByte_buf[2])<sp/>&amp;<sp/>0xFF];</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>crc32<sp/>=<sp/>(crc32<sp/>&gt;&gt;<sp/>8)<sp/>^<sp/>s_crc_table[(crc32<sp/>^<sp/>pByte_buf[3])<sp/>&amp;<sp/>0xFF];</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pByte_buf<sp/>+=<sp/>4;</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>buf_len<sp/>-=<sp/>4;</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(buf_len)</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>crc32<sp/>=<sp/>(crc32<sp/>&gt;&gt;<sp/>8)<sp/>^<sp/>s_crc_table[(crc32<sp/>^<sp/>pByte_buf[0])<sp/>&amp;<sp/>0xFF];</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++pByte_buf;</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>--buf_len;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>~crc32;</highlight></codeline>
<codeline lineno="152"><highlight class="normal">}</highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a7bdc0af59e4ca6d7bd8b7d5d005ff55e" kindref="member">mz_free</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*p)</highlight></codeline>
<codeline lineno="156"><highlight class="normal">{</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ac73e9b464ae92e51b762f496296d7582" kindref="member">MZ_FREE</ref>(p);</highlight></codeline>
<codeline lineno="158"><highlight class="normal">}</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="miniz_8c_1a5b8c4d334248b00bb255a64a7628ab36" kindref="member">miniz_def_alloc_func</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*opaque,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>items,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>size)</highlight></codeline>
<codeline lineno="161"><highlight class="normal">{</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)opaque,<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)items,<sp/>(void)size;</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a09b9e87cb19529df25b3c3e47c9ad393" kindref="member">MZ_MALLOC</ref>(items<sp/>*<sp/>size);</highlight></codeline>
<codeline lineno="164"><highlight class="normal">}</highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a74bd5c1f3f342d2109643cfa500689fc" kindref="member">miniz_def_free_func</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*opaque,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*address)</highlight></codeline>
<codeline lineno="166"><highlight class="normal">{</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)opaque,<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)address;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ac73e9b464ae92e51b762f496296d7582" kindref="member">MZ_FREE</ref>(address);</highlight></codeline>
<codeline lineno="169"><highlight class="normal">}</highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="miniz_8c_1ae51abb9ee6167023388e1d1122b10d89" kindref="member">miniz_def_realloc_func</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*opaque,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*address,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>items,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>size)</highlight></codeline>
<codeline lineno="171"><highlight class="normal">{</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)opaque,<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)address,<sp/>(void)items,<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)size;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/><ref refid="miniz_8h_1a1420c15d77b938f459fa3e8bbd9f4c4d" kindref="member">MZ_REALLOC</ref>(address,<sp/>items<sp/>*<sp/>size);</highlight></codeline>
<codeline lineno="174"><highlight class="normal">}</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal">const<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<ref refid="miniz_8c_1a3d5d232e407e113f68859c17212526cb" kindref="member">mz_version</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="177"><highlight class="normal">{</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a69229ba2b86a229226516575d1a458c8" kindref="member">MZ_VERSION</ref>;</highlight></codeline>
<codeline lineno="179"><highlight class="normal">}</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_ZLIB_APIS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a69f53f93ea50410b674721408b2aff24" kindref="member">mz_deflateInit</ref>(<ref refid="structmz__stream__s" kindref="compound">mz_streamp</ref><sp/>pStream,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>level)</highlight></codeline>
<codeline lineno="184"><highlight class="normal">{</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a66d75d30383d1b7af379b7d19db3aba0" kindref="member">mz_deflateInit2</ref>(pStream,<sp/>level,<sp/><ref refid="miniz_8h_1a3e92e9b3cc525db1fd503d9630ec1bf5" kindref="member">MZ_DEFLATED</ref>,<sp/><ref refid="miniz_8h_1a6027b7b919794d9e1f1852f075d0cbb6" kindref="member">MZ_DEFAULT_WINDOW_BITS</ref>,<sp/>9,<sp/><ref refid="miniz_8h_1a99fb83031ce9923c84392b4e92f956b5a96891a5aa5d03f61da7f4a9c5b94f1d5" kindref="member">MZ_DEFAULT_STRATEGY</ref>);</highlight></codeline>
<codeline lineno="186"><highlight class="normal">}</highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a66d75d30383d1b7af379b7d19db3aba0" kindref="member">mz_deflateInit2</ref>(<ref refid="structmz__stream__s" kindref="compound">mz_streamp</ref><sp/>pStream,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>level,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>method,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>window_bits,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>mem_level,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>strategy)</highlight></codeline>
<codeline lineno="189"><highlight class="normal">{</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*pComp;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>comp_flags<sp/>=<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2daa3c1a489229a817dc6d07efd55a6f5cf" kindref="member">TDEFL_COMPUTE_ADLER32</ref><sp/>|<sp/><ref refid="miniz_8c_1acf2306ec6b7f92753264f68bc554750b" kindref="member">tdefl_create_comp_flags_from_zip_params</ref>(level,<sp/>window_bits,<sp/>strategy);</highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pStream)</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eae1066da08adca98d4715701158591c50" kindref="member">MZ_STREAM_ERROR</ref>;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((method<sp/>!=<sp/><ref refid="miniz_8h_1a3e92e9b3cc525db1fd503d9630ec1bf5" kindref="member">MZ_DEFLATED</ref>)<sp/>||<sp/>((mem_level<sp/>&lt;<sp/>1)<sp/>||<sp/>(mem_level<sp/>&gt;<sp/>9))<sp/>||<sp/>((window_bits<sp/>!=<sp/><ref refid="miniz_8h_1a6027b7b919794d9e1f1852f075d0cbb6" kindref="member">MZ_DEFAULT_WINDOW_BITS</ref>)<sp/>&amp;&amp;<sp/>(-window_bits<sp/>!=<sp/><ref refid="miniz_8h_1a6027b7b919794d9e1f1852f075d0cbb6" kindref="member">MZ_DEFAULT_WINDOW_BITS</ref>)))</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea6bc32d182dcf344e4921fcb604abc35e" kindref="member">MZ_PARAM_ERROR</ref>;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a3e1503f72464a3b7b40d1df232ba9f43" kindref="member">data_type</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a24c6cf42b5b6a655f4664dd15203dce7" kindref="member">adler</ref><sp/>=<sp/><ref refid="miniz_8h_1a4d8a6ee7365a49c7a25251e1dbebdd2b" kindref="member">MZ_ADLER32_INIT</ref>;</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1ad4095b25455e382787dc06d20157e05f" kindref="member">msg</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1ae4fc708fffee7b10a4586964401613fb" kindref="member">reserved</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1abfa083eb7707360c33389ec12fadf376" kindref="member">total_in</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a5cf2c15cc49a99ee7d541375798a3e27" kindref="member">total_out</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pStream-&gt;<ref refid="structmz__stream__s_1abbd8109a7f88713f39b9e3046a223ef2" kindref="member">zalloc</ref>)</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1abbd8109a7f88713f39b9e3046a223ef2" kindref="member">zalloc</ref><sp/>=<sp/><ref refid="miniz_8c_1a5b8c4d334248b00bb255a64a7628ab36" kindref="member">miniz_def_alloc_func</ref>;</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pStream-&gt;<ref refid="structmz__stream__s_1a55dbac0e9b86472bfa41f86dfb35df9a" kindref="member">zfree</ref>)</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a55dbac0e9b86472bfa41f86dfb35df9a" kindref="member">zfree</ref><sp/>=<sp/><ref refid="miniz_8c_1a74bd5c1f3f342d2109643cfa500689fc" kindref="member">miniz_def_free_func</ref>;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>pComp<sp/>=<sp/>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*)pStream-&gt;<ref refid="structmz__stream__s_1abbd8109a7f88713f39b9e3046a223ef2" kindref="member">zalloc</ref>(pStream-&gt;<ref refid="structmz__stream__s_1a31c21928246598992a5cce6d20ae7e78" kindref="member">opaque</ref>,<sp/>1,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref>));</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pComp)</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea00c3c60b8c4dd75a5f19ed84aebc519b" kindref="member">MZ_MEM_ERROR</ref>;</highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref><sp/>=<sp/>(</highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">mz_internal_state<sp/>*)pComp;</highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8c_1a3c2c67a6200147020ba4bfbf77962792" kindref="member">tdefl_init</ref>(pComp,<sp/>NULL,<sp/>NULL,<sp/>comp_flags)<sp/>!=<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fa0db9f12eded9feed194fd0b20fec8b27" kindref="member">TDEFL_STATUS_OKAY</ref>)</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a36e2a62c4a31c1b7f8b51da8cffd7281" kindref="member">mz_deflateEnd</ref>(pStream);</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea6bc32d182dcf344e4921fcb604abc35e" kindref="member">MZ_PARAM_ERROR</ref>;</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eac889ce55af78ff1376747e2e52b8e7e3" kindref="member">MZ_OK</ref>;</highlight></codeline>
<codeline lineno="222"><highlight class="normal">}</highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a2632b66b8e67b1482f24dff4d4b65e8c" kindref="member">mz_deflateReset</ref>(<ref refid="structmz__stream__s" kindref="compound">mz_streamp</ref><sp/>pStream)</highlight></codeline>
<codeline lineno="225"><highlight class="normal">{</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pStream)<sp/>||<sp/>(!pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref>)<sp/>||<sp/>(!pStream-&gt;<ref refid="structmz__stream__s_1abbd8109a7f88713f39b9e3046a223ef2" kindref="member">zalloc</ref>)<sp/>||<sp/>(!pStream-&gt;<ref refid="structmz__stream__s_1a55dbac0e9b86472bfa41f86dfb35df9a" kindref="member">zfree</ref>))</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eae1066da08adca98d4715701158591c50" kindref="member">MZ_STREAM_ERROR</ref>;</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1abfa083eb7707360c33389ec12fadf376" kindref="member">total_in</ref><sp/>=<sp/>pStream-&gt;<ref refid="structmz__stream__s_1a5cf2c15cc49a99ee7d541375798a3e27" kindref="member">total_out</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a3c2c67a6200147020ba4bfbf77962792" kindref="member">tdefl_init</ref>((<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*)pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref>,<sp/>NULL,<sp/>NULL,<sp/>((<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*)pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref>)-&gt;m_flags);</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eac889ce55af78ff1376747e2e52b8e7e3" kindref="member">MZ_OK</ref>;</highlight></codeline>
<codeline lineno="231"><highlight class="normal">}</highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1ab843b570ebaeb31d801a5414260edeaf" kindref="member">mz_deflate</ref>(<ref refid="structmz__stream__s" kindref="compound">mz_streamp</ref><sp/>pStream,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flush)</highlight></codeline>
<codeline lineno="234"><highlight class="normal">{</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>in_bytes,<sp/>out_bytes;</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/>orig_total_in,<sp/>orig_total_out;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>mz_status<sp/>=<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eac889ce55af78ff1376747e2e52b8e7e3" kindref="member">MZ_OK</ref>;</highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pStream)<sp/>||<sp/>(!pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref>)<sp/>||<sp/>(flush<sp/>&lt;<sp/>0)<sp/>||<sp/>(flush<sp/>&gt;<sp/><ref refid="miniz_8h_1adc29c2ff13d900c2f185ee95427fb06ca8c1ad84176153047845d17c151097124" kindref="member">MZ_FINISH</ref>)<sp/>||<sp/>(!pStream-&gt;<ref refid="structmz__stream__s_1a2c569383efce3b9d9e7c02e3e03941bc" kindref="member">next_out</ref>))</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eae1066da08adca98d4715701158591c50" kindref="member">MZ_STREAM_ERROR</ref>;</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pStream-&gt;<ref refid="structmz__stream__s_1a9092fed61f7be520fb1bbcf152905ee8" kindref="member">avail_out</ref>)</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eada9fc0699137425d9e993b3a91eb2b52" kindref="member">MZ_BUF_ERROR</ref>;</highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flush<sp/>==<sp/><ref refid="miniz_8h_1adc29c2ff13d900c2f185ee95427fb06caa074139e59dc5aba5f6461ab5cfaee8f" kindref="member">MZ_PARTIAL_FLUSH</ref>)</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flush<sp/>=<sp/><ref refid="miniz_8h_1adc29c2ff13d900c2f185ee95427fb06ca1a77ad21e37d528c658b024642f347bb" kindref="member">MZ_SYNC_FLUSH</ref>;</highlight></codeline>
<codeline lineno="246"><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*)pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref>)-&gt;m_prev_return_status<sp/>==<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fa9beb7850b5d6941b6860db23f426b0d2" kindref="member">TDEFL_STATUS_DONE</ref>)</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(flush<sp/>==<sp/><ref refid="miniz_8h_1adc29c2ff13d900c2f185ee95427fb06ca8c1ad84176153047845d17c151097124" kindref="member">MZ_FINISH</ref>)<sp/>?<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea9e82839e613eba20eb822b780eb4c312" kindref="member">MZ_STREAM_END</ref><sp/>:<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eada9fc0699137425d9e993b3a91eb2b52" kindref="member">MZ_BUF_ERROR</ref>;</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/>orig_total_in<sp/>=<sp/>pStream-&gt;<ref refid="structmz__stream__s_1abfa083eb7707360c33389ec12fadf376" kindref="member">total_in</ref>;</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/>orig_total_out<sp/>=<sp/>pStream-&gt;<ref refid="structmz__stream__s_1a5cf2c15cc49a99ee7d541375798a3e27" kindref="member">total_out</ref>;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748f" kindref="member">tdefl_status</ref><sp/>defl_status;</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in_bytes<sp/>=<sp/>pStream-&gt;<ref refid="structmz__stream__s_1aafcd4c220622ede6d54015f1fbdadd9e" kindref="member">avail_in</ref>;</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out_bytes<sp/>=<sp/>pStream-&gt;<ref refid="structmz__stream__s_1a9092fed61f7be520fb1bbcf152905ee8" kindref="member">avail_out</ref>;</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>defl_status<sp/>=<sp/><ref refid="miniz_8c_1ae9968978f7ea9f732c5ed08db988208b" kindref="member">tdefl_compress</ref>((<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*)pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref>,<sp/>pStream-&gt;<ref refid="structmz__stream__s_1aa75ed42cc83b0f74d7fcce6299439307" kindref="member">next_in</ref>,<sp/>&amp;in_bytes,<sp/>pStream-&gt;<ref refid="structmz__stream__s_1a2c569383efce3b9d9e7c02e3e03941bc" kindref="member">next_out</ref>,<sp/>&amp;out_bytes,<sp/>(<ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abf" kindref="member">tdefl_flush</ref>)flush);</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1aa75ed42cc83b0f74d7fcce6299439307" kindref="member">next_in</ref><sp/>+=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)in_bytes;</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1aafcd4c220622ede6d54015f1fbdadd9e" kindref="member">avail_in</ref><sp/>-=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)in_bytes;</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1abfa083eb7707360c33389ec12fadf376" kindref="member">total_in</ref><sp/>+=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)in_bytes;</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a24c6cf42b5b6a655f4664dd15203dce7" kindref="member">adler</ref><sp/>=<sp/><ref refid="miniz_8c_1a2ec6403111ea9afbcdc4d76cfda97110" kindref="member">tdefl_get_adler32</ref>((<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*)pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref>);</highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a2c569383efce3b9d9e7c02e3e03941bc" kindref="member">next_out</ref><sp/>+=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)out_bytes;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a9092fed61f7be520fb1bbcf152905ee8" kindref="member">avail_out</ref><sp/>-=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)out_bytes;</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a5cf2c15cc49a99ee7d541375798a3e27" kindref="member">total_out</ref><sp/>+=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)out_bytes;</highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(defl_status<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mz_status<sp/>=<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eae1066da08adca98d4715701158591c50" kindref="member">MZ_STREAM_ERROR</ref>;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(defl_status<sp/>==<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fa9beb7850b5d6941b6860db23f426b0d2" kindref="member">TDEFL_STATUS_DONE</ref>)</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mz_status<sp/>=<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea9e82839e613eba20eb822b780eb4c312" kindref="member">MZ_STREAM_END</ref>;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pStream-&gt;<ref refid="structmz__stream__s_1a9092fed61f7be520fb1bbcf152905ee8" kindref="member">avail_out</ref>)</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pStream-&gt;<ref refid="structmz__stream__s_1aafcd4c220622ede6d54015f1fbdadd9e" kindref="member">avail_in</ref>)<sp/>&amp;&amp;<sp/>(flush<sp/>!=<sp/><ref refid="miniz_8h_1adc29c2ff13d900c2f185ee95427fb06ca8c1ad84176153047845d17c151097124" kindref="member">MZ_FINISH</ref>))</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((flush)<sp/>||<sp/>(pStream-&gt;<ref refid="structmz__stream__s_1abfa083eb7707360c33389ec12fadf376" kindref="member">total_in</ref><sp/>!=<sp/>orig_total_in)<sp/>||<sp/>(pStream-&gt;<ref refid="structmz__stream__s_1a5cf2c15cc49a99ee7d541375798a3e27" kindref="member">total_out</ref><sp/>!=<sp/>orig_total_out))</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eada9fc0699137425d9e993b3a91eb2b52" kindref="member">MZ_BUF_ERROR</ref>;<sp/></highlight><highlight class="comment">/*<sp/>Can&apos;t<sp/>make<sp/>forward<sp/>progress<sp/>without<sp/>some<sp/>input.</highlight></codeline>
<codeline lineno="285"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>mz_status;</highlight></codeline>
<codeline lineno="289"><highlight class="normal">}</highlight></codeline>
<codeline lineno="290"><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a36e2a62c4a31c1b7f8b51da8cffd7281" kindref="member">mz_deflateEnd</ref>(<ref refid="structmz__stream__s" kindref="compound">mz_streamp</ref><sp/>pStream)</highlight></codeline>
<codeline lineno="292"><highlight class="normal">{</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pStream)</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eae1066da08adca98d4715701158591c50" kindref="member">MZ_STREAM_ERROR</ref>;</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref>)</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a55dbac0e9b86472bfa41f86dfb35df9a" kindref="member">zfree</ref>(pStream-&gt;<ref refid="structmz__stream__s_1a31c21928246598992a5cce6d20ae7e78" kindref="member">opaque</ref>,<sp/>pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref>);</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eac889ce55af78ff1376747e2e52b8e7e3" kindref="member">MZ_OK</ref>;</highlight></codeline>
<codeline lineno="301"><highlight class="normal">}</highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/><ref refid="miniz_8c_1acd123a509ce06edd3a97506622873102" kindref="member">mz_deflateBound</ref>(<ref refid="structmz__stream__s" kindref="compound">mz_streamp</ref><sp/>pStream,<sp/><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/>source_len)</highlight></codeline>
<codeline lineno="304"><highlight class="normal">{</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)pStream;</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>is<sp/>really<sp/>over<sp/>conservative.<sp/>(And<sp/>lame,<sp/>but<sp/>it&apos;s<sp/>actually<sp/>pretty<sp/>tricky<sp/>to<sp/>compute<sp/>a<sp/>true<sp/>upper<sp/>bound<sp/>given<sp/>the<sp/>way<sp/>tdefl&apos;s<sp/>blocking<sp/>works.)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>(128<sp/>+<sp/>(source_len<sp/>*<sp/>110)<sp/>/<sp/>100,<sp/>128<sp/>+<sp/>source_len<sp/>+<sp/>((source_len<sp/>/<sp/>(31<sp/>*<sp/>1024))<sp/>+<sp/>1)<sp/>*<sp/>5);</highlight></codeline>
<codeline lineno="308"><highlight class="normal">}</highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a7a7b50a0d965d229ce14f3afa5981edd" kindref="member">mz_compress2</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pDest,<sp/><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/>*pDest_len,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pSource,<sp/><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/>source_len,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>level)</highlight></codeline>
<codeline lineno="311"><highlight class="normal">{</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__stream__s" kindref="compound">mz_stream</ref><sp/>stream;</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;stream,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(stream));</highlight></codeline>
<codeline lineno="315"><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>In<sp/>case<sp/>mz_ulong<sp/>is<sp/>64-bits<sp/>(argh<sp/>I<sp/>hate<sp/>longs).<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((source_len<sp/>|<sp/>*pDest_len)<sp/>&gt;<sp/>0xFFFFFFFFU)</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea6bc32d182dcf344e4921fcb604abc35e" kindref="member">MZ_PARAM_ERROR</ref>;</highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/>stream.<ref refid="structmz__stream__s_1aa75ed42cc83b0f74d7fcce6299439307" kindref="member">next_in</ref><sp/>=<sp/>pSource;</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/>stream.<ref refid="structmz__stream__s_1aafcd4c220622ede6d54015f1fbdadd9e" kindref="member">avail_in</ref><sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)source_len;</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/>stream.<ref refid="structmz__stream__s_1a2c569383efce3b9d9e7c02e3e03941bc" kindref="member">next_out</ref><sp/>=<sp/>pDest;</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/>stream.<ref refid="structmz__stream__s_1a9092fed61f7be520fb1bbcf152905ee8" kindref="member">avail_out</ref><sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>*<sp/>pDest_len;</highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8c_1a69f53f93ea50410b674721408b2aff24" kindref="member">mz_deflateInit</ref>(&amp;stream,<sp/>level);</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>!=<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eac889ce55af78ff1376747e2e52b8e7e3" kindref="member">MZ_OK</ref>)</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8c_1ab843b570ebaeb31d801a5414260edeaf" kindref="member">mz_deflate</ref>(&amp;stream,<sp/><ref refid="miniz_8h_1adc29c2ff13d900c2f185ee95427fb06ca8c1ad84176153047845d17c151097124" kindref="member">MZ_FINISH</ref>);</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>!=<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea9e82839e613eba20eb822b780eb4c312" kindref="member">MZ_STREAM_END</ref>)</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a36e2a62c4a31c1b7f8b51da8cffd7281" kindref="member">mz_deflateEnd</ref>(&amp;stream);</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(status<sp/>==<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eac889ce55af78ff1376747e2e52b8e7e3" kindref="member">MZ_OK</ref>)<sp/>?<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eada9fc0699137425d9e993b3a91eb2b52" kindref="member">MZ_BUF_ERROR</ref><sp/>:<sp/>status;</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="335"><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/>*pDest_len<sp/>=<sp/>stream.<ref refid="structmz__stream__s_1a5cf2c15cc49a99ee7d541375798a3e27" kindref="member">total_out</ref>;</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a36e2a62c4a31c1b7f8b51da8cffd7281" kindref="member">mz_deflateEnd</ref>(&amp;stream);</highlight></codeline>
<codeline lineno="338"><highlight class="normal">}</highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a2e39a706e4a41c7168983f7e7c2e1a1d" kindref="member">mz_compress</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pDest,<sp/><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/>*pDest_len,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pSource,<sp/><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/>source_len)</highlight></codeline>
<codeline lineno="341"><highlight class="normal">{</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a7a7b50a0d965d229ce14f3afa5981edd" kindref="member">mz_compress2</ref>(pDest,<sp/>pDest_len,<sp/>pSource,<sp/>source_len,<sp/><ref refid="miniz_8h_1abc6126af1d45847bc59afa0aa3216b04aceaa50dfb8809ffd1631b0fe01344279" kindref="member">MZ_DEFAULT_COMPRESSION</ref>);</highlight></codeline>
<codeline lineno="343"><highlight class="normal">}</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/><ref refid="miniz_8c_1a3046aad784a296b0064530b4b98f5adb" kindref="member">mz_compressBound</ref>(<ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/>source_len)</highlight></codeline>
<codeline lineno="346"><highlight class="normal">{</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1acd123a509ce06edd3a97506622873102" kindref="member">mz_deflateBound</ref>(NULL,<sp/>source_len);</highlight></codeline>
<codeline lineno="348"><highlight class="normal">}</highlight></codeline>
<codeline lineno="349"><highlight class="normal"></highlight></codeline>
<codeline lineno="350" refid="structinflate__state" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal">{</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtinfl__decompressor__tag" kindref="compound">tinfl_decompressor</ref><sp/>m_decomp;</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>m_dict_ofs,<sp/>m_dict_avail,<sp/>m_first_call,<sp/>m_has_flushed;</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>m_window_bits;</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>m_dict[<ref refid="miniz_8h_1a39dc152de3351183ff8af716f0c556cb" kindref="member">TINFL_LZ_DICT_SIZE</ref>];</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4" kindref="member">tinfl_status</ref><sp/>m_last_status;</highlight></codeline>
<codeline lineno="357"><highlight class="normal">}<sp/><ref refid="structinflate__state" kindref="compound">inflate_state</ref>;</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a95babde50d211fa1d2401e70516d2e93" kindref="member">mz_inflateInit2</ref>(<ref refid="structmz__stream__s" kindref="compound">mz_streamp</ref><sp/>pStream,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>window_bits)</highlight></codeline>
<codeline lineno="360"><highlight class="normal">{</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structinflate__state" kindref="compound">inflate_state</ref><sp/>*pDecomp;</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pStream)</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eae1066da08adca98d4715701158591c50" kindref="member">MZ_STREAM_ERROR</ref>;</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((window_bits<sp/>!=<sp/><ref refid="miniz_8h_1a6027b7b919794d9e1f1852f075d0cbb6" kindref="member">MZ_DEFAULT_WINDOW_BITS</ref>)<sp/>&amp;&amp;<sp/>(-window_bits<sp/>!=<sp/><ref refid="miniz_8h_1a6027b7b919794d9e1f1852f075d0cbb6" kindref="member">MZ_DEFAULT_WINDOW_BITS</ref>))</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea6bc32d182dcf344e4921fcb604abc35e" kindref="member">MZ_PARAM_ERROR</ref>;</highlight></codeline>
<codeline lineno="366"><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a3e1503f72464a3b7b40d1df232ba9f43" kindref="member">data_type</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a24c6cf42b5b6a655f4664dd15203dce7" kindref="member">adler</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1ad4095b25455e382787dc06d20157e05f" kindref="member">msg</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1abfa083eb7707360c33389ec12fadf376" kindref="member">total_in</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a5cf2c15cc49a99ee7d541375798a3e27" kindref="member">total_out</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1ae4fc708fffee7b10a4586964401613fb" kindref="member">reserved</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pStream-&gt;<ref refid="structmz__stream__s_1abbd8109a7f88713f39b9e3046a223ef2" kindref="member">zalloc</ref>)</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1abbd8109a7f88713f39b9e3046a223ef2" kindref="member">zalloc</ref><sp/>=<sp/><ref refid="miniz_8c_1a5b8c4d334248b00bb255a64a7628ab36" kindref="member">miniz_def_alloc_func</ref>;</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pStream-&gt;<ref refid="structmz__stream__s_1a55dbac0e9b86472bfa41f86dfb35df9a" kindref="member">zfree</ref>)</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a55dbac0e9b86472bfa41f86dfb35df9a" kindref="member">zfree</ref><sp/>=<sp/><ref refid="miniz_8c_1a74bd5c1f3f342d2109643cfa500689fc" kindref="member">miniz_def_free_func</ref>;</highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/>pDecomp<sp/>=<sp/>(<ref refid="structinflate__state" kindref="compound">inflate_state</ref><sp/>*)pStream-&gt;<ref refid="structmz__stream__s_1abbd8109a7f88713f39b9e3046a223ef2" kindref="member">zalloc</ref>(pStream-&gt;<ref refid="structmz__stream__s_1a31c21928246598992a5cce6d20ae7e78" kindref="member">opaque</ref>,<sp/>1,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structinflate__state" kindref="compound">inflate_state</ref>));</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pDecomp)</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea00c3c60b8c4dd75a5f19ed84aebc519b" kindref="member">MZ_MEM_ERROR</ref>;</highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref><sp/>=<sp/>(</highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">mz_internal_state<sp/>*)pDecomp;</highlight></codeline>
<codeline lineno="383"><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a38425ff8609fe5fe5a9a48612e6f3e46" kindref="member">tinfl_init</ref>(&amp;pDecomp-&gt;<ref refid="structinflate__state_1aa112419e6fc485a0569d89b0dac4c40d" kindref="member">m_decomp</ref>);</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/>pDecomp-&gt;<ref refid="structinflate__state_1a26b59390ae38c5a0ee081a729479b89f" kindref="member">m_dict_ofs</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/>pDecomp-&gt;<ref refid="structinflate__state_1a45eb73702d5588b380842d55633adfa1" kindref="member">m_dict_avail</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/>pDecomp-&gt;<ref refid="structinflate__state_1a9d2e5eba1b8c7a5bf78289b7a412f154" kindref="member">m_last_status</ref><sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a4150e95aacd9bf414c6f9155263b60e8" kindref="member">TINFL_STATUS_NEEDS_MORE_INPUT</ref>;</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/>pDecomp-&gt;<ref refid="structinflate__state_1a8ed1d9e9a13f5e5f5c4229c67509a5a1" kindref="member">m_first_call</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/>pDecomp-&gt;<ref refid="structinflate__state_1a26ee41a3a0d93350c737252334fe783f" kindref="member">m_has_flushed</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/>pDecomp-&gt;<ref refid="structinflate__state_1a05183fc4ee620dfaac7cdde5c17697a9" kindref="member">m_window_bits</ref><sp/>=<sp/>window_bits;</highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eac889ce55af78ff1376747e2e52b8e7e3" kindref="member">MZ_OK</ref>;</highlight></codeline>
<codeline lineno="393"><highlight class="normal">}</highlight></codeline>
<codeline lineno="394"><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a2cd16abe6e673d9f98d98ae81c2d7c52" kindref="member">mz_inflateInit</ref>(<ref refid="structmz__stream__s" kindref="compound">mz_streamp</ref><sp/>pStream)</highlight></codeline>
<codeline lineno="396"><highlight class="normal">{</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a95babde50d211fa1d2401e70516d2e93" kindref="member">mz_inflateInit2</ref>(pStream,<sp/><ref refid="miniz_8h_1a6027b7b919794d9e1f1852f075d0cbb6" kindref="member">MZ_DEFAULT_WINDOW_BITS</ref>);</highlight></codeline>
<codeline lineno="398"><highlight class="normal">}</highlight></codeline>
<codeline lineno="399"><highlight class="normal"></highlight></codeline>
<codeline lineno="400"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a2d5d109e8f992526202122134e092aa1" kindref="member">mz_inflate</ref>(<ref refid="structmz__stream__s" kindref="compound">mz_streamp</ref><sp/>pStream,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flush)</highlight></codeline>
<codeline lineno="401"><highlight class="normal">{</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structinflate__state" kindref="compound">inflate_state</ref><sp/>*pState;</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>n,<sp/>first_call,<sp/>decomp_flags<sp/>=<sp/><ref refid="miniz_8h_1a385c44f6fb256e5716a2302a5b940388a9454c17ebc5717f8553d01ab99b8c1c9" kindref="member">TINFL_FLAG_COMPUTE_ADLER32</ref>;</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>in_bytes,<sp/>out_bytes,<sp/>orig_avail_in;</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4" kindref="member">tinfl_status</ref><sp/>status;</highlight></codeline>
<codeline lineno="406"><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pStream)<sp/>||<sp/>(!pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref>))</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eae1066da08adca98d4715701158591c50" kindref="member">MZ_STREAM_ERROR</ref>;</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flush<sp/>==<sp/><ref refid="miniz_8h_1adc29c2ff13d900c2f185ee95427fb06caa074139e59dc5aba5f6461ab5cfaee8f" kindref="member">MZ_PARTIAL_FLUSH</ref>)</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flush<sp/>=<sp/><ref refid="miniz_8h_1adc29c2ff13d900c2f185ee95427fb06ca1a77ad21e37d528c658b024642f347bb" kindref="member">MZ_SYNC_FLUSH</ref>;</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((flush)<sp/>&amp;&amp;<sp/>(flush<sp/>!=<sp/><ref refid="miniz_8h_1adc29c2ff13d900c2f185ee95427fb06ca1a77ad21e37d528c658b024642f347bb" kindref="member">MZ_SYNC_FLUSH</ref>)<sp/>&amp;&amp;<sp/>(flush<sp/>!=<sp/><ref refid="miniz_8h_1adc29c2ff13d900c2f185ee95427fb06ca8c1ad84176153047845d17c151097124" kindref="member">MZ_FINISH</ref>))</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eae1066da08adca98d4715701158591c50" kindref="member">MZ_STREAM_ERROR</ref>;</highlight></codeline>
<codeline lineno="413"><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/>pState<sp/>=<sp/>(<ref refid="structinflate__state" kindref="compound">inflate_state</ref><sp/>*)pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref>;</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>(pState-&gt;<ref refid="structinflate__state_1a05183fc4ee620dfaac7cdde5c17697a9" kindref="member">m_window_bits</ref><sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>decomp_flags<sp/>|=<sp/><ref refid="miniz_8h_1a385c44f6fb256e5716a2302a5b940388af085740084ef23d974d043aeda6f2245" kindref="member">TINFL_FLAG_PARSE_ZLIB_HEADER</ref>;</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/>orig_avail_in<sp/>=<sp/>pStream-&gt;<ref refid="structmz__stream__s_1aafcd4c220622ede6d54015f1fbdadd9e" kindref="member">avail_in</ref>;</highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/>first_call<sp/>=<sp/>pState-&gt;<ref refid="structinflate__state_1a8ed1d9e9a13f5e5f5c4229c67509a5a1" kindref="member">m_first_call</ref>;</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structinflate__state_1a8ed1d9e9a13f5e5f5c4229c67509a5a1" kindref="member">m_first_call</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pState-&gt;<ref refid="structinflate__state_1a9d2e5eba1b8c7a5bf78289b7a412f154" kindref="member">m_last_status</ref><sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eae4f65fd7767379614da35ab5c43ad77d" kindref="member">MZ_DATA_ERROR</ref>;</highlight></codeline>
<codeline lineno="423"><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pState-&gt;<ref refid="structinflate__state_1a26ee41a3a0d93350c737252334fe783f" kindref="member">m_has_flushed</ref><sp/>&amp;&amp;<sp/>(flush<sp/>!=<sp/><ref refid="miniz_8h_1adc29c2ff13d900c2f185ee95427fb06ca8c1ad84176153047845d17c151097124" kindref="member">MZ_FINISH</ref>))</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eae1066da08adca98d4715701158591c50" kindref="member">MZ_STREAM_ERROR</ref>;</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structinflate__state_1a26ee41a3a0d93350c737252334fe783f" kindref="member">m_has_flushed</ref><sp/>|=<sp/>(flush<sp/>==<sp/><ref refid="miniz_8h_1adc29c2ff13d900c2f185ee95427fb06ca8c1ad84176153047845d17c151097124" kindref="member">MZ_FINISH</ref>);</highlight></codeline>
<codeline lineno="427"><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((flush<sp/>==<sp/><ref refid="miniz_8h_1adc29c2ff13d900c2f185ee95427fb06ca8c1ad84176153047845d17c151097124" kindref="member">MZ_FINISH</ref>)<sp/>&amp;&amp;<sp/>(first_call))</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>MZ_FINISH<sp/>on<sp/>the<sp/>first<sp/>call<sp/>implies<sp/>that<sp/>the<sp/>input<sp/>and<sp/>output<sp/>buffers<sp/>are<sp/>large<sp/>enough<sp/>to<sp/>hold<sp/>the<sp/>entire<sp/>compressed/decompressed<sp/>file.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>decomp_flags<sp/>|=<sp/><ref refid="miniz_8h_1a385c44f6fb256e5716a2302a5b940388a086ec4df460b3a0c5085e22fd679b7d9" kindref="member">TINFL_FLAG_USING_NON_WRAPPING_OUTPUT_BUF</ref>;</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in_bytes<sp/>=<sp/>pStream-&gt;<ref refid="structmz__stream__s_1aafcd4c220622ede6d54015f1fbdadd9e" kindref="member">avail_in</ref>;</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out_bytes<sp/>=<sp/>pStream-&gt;<ref refid="structmz__stream__s_1a9092fed61f7be520fb1bbcf152905ee8" kindref="member">avail_out</ref>;</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8c_1ac4e4c006d234780922676ecc31fe1416" kindref="member">tinfl_decompress</ref>(&amp;pState-&gt;<ref refid="structinflate__state_1aa112419e6fc485a0569d89b0dac4c40d" kindref="member">m_decomp</ref>,<sp/>pStream-&gt;<ref refid="structmz__stream__s_1aa75ed42cc83b0f74d7fcce6299439307" kindref="member">next_in</ref>,<sp/>&amp;in_bytes,<sp/>pStream-&gt;<ref refid="structmz__stream__s_1a2c569383efce3b9d9e7c02e3e03941bc" kindref="member">next_out</ref>,<sp/>pStream-&gt;<ref refid="structmz__stream__s_1a2c569383efce3b9d9e7c02e3e03941bc" kindref="member">next_out</ref>,<sp/>&amp;out_bytes,<sp/>decomp_flags);</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structinflate__state_1a9d2e5eba1b8c7a5bf78289b7a412f154" kindref="member">m_last_status</ref><sp/>=<sp/>status;</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1aa75ed42cc83b0f74d7fcce6299439307" kindref="member">next_in</ref><sp/>+=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)in_bytes;</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1aafcd4c220622ede6d54015f1fbdadd9e" kindref="member">avail_in</ref><sp/>-=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)in_bytes;</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1abfa083eb7707360c33389ec12fadf376" kindref="member">total_in</ref><sp/>+=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)in_bytes;</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a24c6cf42b5b6a655f4664dd15203dce7" kindref="member">adler</ref><sp/>=<sp/><ref refid="miniz_8h_1a5542a5383b30c24dc30bc2af3857a291" kindref="member">tinfl_get_adler32</ref>(&amp;pState-&gt;<ref refid="structinflate__state_1aa112419e6fc485a0569d89b0dac4c40d" kindref="member">m_decomp</ref>);</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a2c569383efce3b9d9e7c02e3e03941bc" kindref="member">next_out</ref><sp/>+=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)out_bytes;</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a9092fed61f7be520fb1bbcf152905ee8" kindref="member">avail_out</ref><sp/>-=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)out_bytes;</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a5cf2c15cc49a99ee7d541375798a3e27" kindref="member">total_out</ref><sp/>+=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)out_bytes;</highlight></codeline>
<codeline lineno="443"><highlight class="normal"></highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eae4f65fd7767379614da35ab5c43ad77d" kindref="member">MZ_DATA_ERROR</ref>;</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>!=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4af9316c69027621352f435c9a343f1042" kindref="member">TINFL_STATUS_DONE</ref>)</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structinflate__state_1a9d2e5eba1b8c7a5bf78289b7a412f154" kindref="member">m_last_status</ref><sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>;</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eada9fc0699137425d9e993b3a91eb2b52" kindref="member">MZ_BUF_ERROR</ref>;</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea9e82839e613eba20eb822b780eb4c312" kindref="member">MZ_STREAM_END</ref>;</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>flush<sp/>!=<sp/>MZ_FINISH<sp/>then<sp/>we<sp/>must<sp/>assume<sp/>there&apos;s<sp/>more<sp/>input.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flush<sp/>!=<sp/><ref refid="miniz_8h_1adc29c2ff13d900c2f185ee95427fb06ca8c1ad84176153047845d17c151097124" kindref="member">MZ_FINISH</ref>)</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>decomp_flags<sp/>|=<sp/><ref refid="miniz_8h_1a385c44f6fb256e5716a2302a5b940388a2eb96c68c6a8df342d8f12d7efcf96c1" kindref="member">TINFL_FLAG_HAS_MORE_INPUT</ref>;</highlight></codeline>
<codeline lineno="456"><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pState-&gt;<ref refid="structinflate__state_1a45eb73702d5588b380842d55633adfa1" kindref="member">m_dict_avail</ref>)</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(pState-&gt;<ref refid="structinflate__state_1a45eb73702d5588b380842d55633adfa1" kindref="member">m_dict_avail</ref>,<sp/>pStream-&gt;<ref refid="structmz__stream__s_1a9092fed61f7be520fb1bbcf152905ee8" kindref="member">avail_out</ref>);</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pStream-&gt;<ref refid="structmz__stream__s_1a2c569383efce3b9d9e7c02e3e03941bc" kindref="member">next_out</ref>,<sp/>pState-&gt;<ref refid="structinflate__state_1a6d9569803f5139b8bb11b409f69f598b" kindref="member">m_dict</ref><sp/>+<sp/>pState-&gt;<ref refid="structinflate__state_1a26b59390ae38c5a0ee081a729479b89f" kindref="member">m_dict_ofs</ref>,<sp/>n);</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a2c569383efce3b9d9e7c02e3e03941bc" kindref="member">next_out</ref><sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a9092fed61f7be520fb1bbcf152905ee8" kindref="member">avail_out</ref><sp/>-=<sp/>n;</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a5cf2c15cc49a99ee7d541375798a3e27" kindref="member">total_out</ref><sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structinflate__state_1a45eb73702d5588b380842d55633adfa1" kindref="member">m_dict_avail</ref><sp/>-=<sp/>n;</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structinflate__state_1a26b59390ae38c5a0ee081a729479b89f" kindref="member">m_dict_ofs</ref><sp/>=<sp/>(pState-&gt;<ref refid="structinflate__state_1a26b59390ae38c5a0ee081a729479b89f" kindref="member">m_dict_ofs</ref><sp/>+<sp/>n)<sp/>&amp;<sp/>(<ref refid="miniz_8h_1a39dc152de3351183ff8af716f0c556cb" kindref="member">TINFL_LZ_DICT_SIZE</ref><sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>((pState-&gt;<ref refid="structinflate__state_1a9d2e5eba1b8c7a5bf78289b7a412f154" kindref="member">m_last_status</ref><sp/>==<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4af9316c69027621352f435c9a343f1042" kindref="member">TINFL_STATUS_DONE</ref>)<sp/>&amp;&amp;<sp/>(!pState-&gt;<ref refid="structinflate__state_1a45eb73702d5588b380842d55633adfa1" kindref="member">m_dict_avail</ref>))<sp/>?<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea9e82839e613eba20eb822b780eb4c312" kindref="member">MZ_STREAM_END</ref><sp/>:<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eac889ce55af78ff1376747e2e52b8e7e3" kindref="member">MZ_OK</ref>;</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="468"><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in_bytes<sp/>=<sp/>pStream-&gt;<ref refid="structmz__stream__s_1aafcd4c220622ede6d54015f1fbdadd9e" kindref="member">avail_in</ref>;</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out_bytes<sp/>=<sp/><ref refid="miniz_8h_1a39dc152de3351183ff8af716f0c556cb" kindref="member">TINFL_LZ_DICT_SIZE</ref><sp/>-<sp/>pState-&gt;<ref refid="structinflate__state_1a26b59390ae38c5a0ee081a729479b89f" kindref="member">m_dict_ofs</ref>;</highlight></codeline>
<codeline lineno="473"><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8c_1ac4e4c006d234780922676ecc31fe1416" kindref="member">tinfl_decompress</ref>(&amp;pState-&gt;<ref refid="structinflate__state_1aa112419e6fc485a0569d89b0dac4c40d" kindref="member">m_decomp</ref>,<sp/>pStream-&gt;<ref refid="structmz__stream__s_1aa75ed42cc83b0f74d7fcce6299439307" kindref="member">next_in</ref>,<sp/>&amp;in_bytes,<sp/>pState-&gt;<ref refid="structinflate__state_1a6d9569803f5139b8bb11b409f69f598b" kindref="member">m_dict</ref>,<sp/>pState-&gt;<ref refid="structinflate__state_1a6d9569803f5139b8bb11b409f69f598b" kindref="member">m_dict</ref><sp/>+<sp/>pState-&gt;<ref refid="structinflate__state_1a26b59390ae38c5a0ee081a729479b89f" kindref="member">m_dict_ofs</ref>,<sp/>&amp;out_bytes,<sp/>decomp_flags);</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structinflate__state_1a9d2e5eba1b8c7a5bf78289b7a412f154" kindref="member">m_last_status</ref><sp/>=<sp/>status;</highlight></codeline>
<codeline lineno="476"><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1aa75ed42cc83b0f74d7fcce6299439307" kindref="member">next_in</ref><sp/>+=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)in_bytes;</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1aafcd4c220622ede6d54015f1fbdadd9e" kindref="member">avail_in</ref><sp/>-=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)in_bytes;</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1abfa083eb7707360c33389ec12fadf376" kindref="member">total_in</ref><sp/>+=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)in_bytes;</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a24c6cf42b5b6a655f4664dd15203dce7" kindref="member">adler</ref><sp/>=<sp/><ref refid="miniz_8h_1a5542a5383b30c24dc30bc2af3857a291" kindref="member">tinfl_get_adler32</ref>(&amp;pState-&gt;<ref refid="structinflate__state_1aa112419e6fc485a0569d89b0dac4c40d" kindref="member">m_decomp</ref>);</highlight></codeline>
<codeline lineno="481"><highlight class="normal"></highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structinflate__state_1a45eb73702d5588b380842d55633adfa1" kindref="member">m_dict_avail</ref><sp/>=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)out_bytes;</highlight></codeline>
<codeline lineno="483"><highlight class="normal"></highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(pState-&gt;<ref refid="structinflate__state_1a45eb73702d5588b380842d55633adfa1" kindref="member">m_dict_avail</ref>,<sp/>pStream-&gt;<ref refid="structmz__stream__s_1a9092fed61f7be520fb1bbcf152905ee8" kindref="member">avail_out</ref>);</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pStream-&gt;<ref refid="structmz__stream__s_1a2c569383efce3b9d9e7c02e3e03941bc" kindref="member">next_out</ref>,<sp/>pState-&gt;<ref refid="structinflate__state_1a6d9569803f5139b8bb11b409f69f598b" kindref="member">m_dict</ref><sp/>+<sp/>pState-&gt;<ref refid="structinflate__state_1a26b59390ae38c5a0ee081a729479b89f" kindref="member">m_dict_ofs</ref>,<sp/>n);</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a2c569383efce3b9d9e7c02e3e03941bc" kindref="member">next_out</ref><sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a9092fed61f7be520fb1bbcf152905ee8" kindref="member">avail_out</ref><sp/>-=<sp/>n;</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a5cf2c15cc49a99ee7d541375798a3e27" kindref="member">total_out</ref><sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structinflate__state_1a45eb73702d5588b380842d55633adfa1" kindref="member">m_dict_avail</ref><sp/>-=<sp/>n;</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structinflate__state_1a26b59390ae38c5a0ee081a729479b89f" kindref="member">m_dict_ofs</ref><sp/>=<sp/>(pState-&gt;<ref refid="structinflate__state_1a26b59390ae38c5a0ee081a729479b89f" kindref="member">m_dict_ofs</ref><sp/>+<sp/>n)<sp/>&amp;<sp/>(<ref refid="miniz_8h_1a39dc152de3351183ff8af716f0c556cb" kindref="member">TINFL_LZ_DICT_SIZE</ref><sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="491"><highlight class="normal"></highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eae4f65fd7767379614da35ab5c43ad77d" kindref="member">MZ_DATA_ERROR</ref>;<sp/></highlight><highlight class="comment">/*<sp/>Stream<sp/>is<sp/>corrupted<sp/>(there<sp/>could<sp/>be<sp/>some<sp/>uncompressed<sp/>data<sp/>left<sp/>in<sp/>the<sp/>output<sp/>dictionary<sp/>-<sp/>oh<sp/>well).<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((status<sp/>==<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a4150e95aacd9bf414c6f9155263b60e8" kindref="member">TINFL_STATUS_NEEDS_MORE_INPUT</ref>)<sp/>&amp;&amp;<sp/>(!orig_avail_in))</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eada9fc0699137425d9e993b3a91eb2b52" kindref="member">MZ_BUF_ERROR</ref>;<sp/></highlight><highlight class="comment">/*<sp/>Signal<sp/>caller<sp/>that<sp/>we<sp/>can&apos;t<sp/>make<sp/>forward<sp/>progress<sp/>without<sp/>supplying<sp/>more<sp/>input<sp/>or<sp/>by<sp/>setting<sp/>flush<sp/>to<sp/>MZ_FINISH.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flush<sp/>==<sp/><ref refid="miniz_8h_1adc29c2ff13d900c2f185ee95427fb06ca8c1ad84176153047845d17c151097124" kindref="member">MZ_FINISH</ref>)</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>The<sp/>output<sp/>buffer<sp/>MUST<sp/>be<sp/>large<sp/>to<sp/>hold<sp/>the<sp/>remaining<sp/>uncompressed<sp/>data<sp/>when<sp/>flush==MZ_FINISH.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>==<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4af9316c69027621352f435c9a343f1042" kindref="member">TINFL_STATUS_DONE</ref>)</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pState-&gt;<ref refid="structinflate__state_1a45eb73702d5588b380842d55633adfa1" kindref="member">m_dict_avail</ref><sp/>?<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eada9fc0699137425d9e993b3a91eb2b52" kindref="member">MZ_BUF_ERROR</ref><sp/>:<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea9e82839e613eba20eb822b780eb4c312" kindref="member">MZ_STREAM_END</ref>;</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>status<sp/>here<sp/>must<sp/>be<sp/>TINFL_STATUS_HAS_MORE_OUTPUT,<sp/>which<sp/>means<sp/>there&apos;s<sp/>at<sp/>least<sp/>1<sp/>more<sp/>byte<sp/>on<sp/>the<sp/>way.<sp/>If<sp/>there&apos;s<sp/>no<sp/>more<sp/>room<sp/>left<sp/>in<sp/>the<sp/>output<sp/>buffer<sp/>then<sp/>something<sp/>is<sp/>wrong.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pStream-&gt;<ref refid="structmz__stream__s_1a9092fed61f7be520fb1bbcf152905ee8" kindref="member">avail_out</ref>)</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eada9fc0699137425d9e993b3a91eb2b52" kindref="member">MZ_BUF_ERROR</ref>;</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((status<sp/>==<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4af9316c69027621352f435c9a343f1042" kindref="member">TINFL_STATUS_DONE</ref>)<sp/>||<sp/>(!pStream-&gt;<ref refid="structmz__stream__s_1aafcd4c220622ede6d54015f1fbdadd9e" kindref="member">avail_in</ref>)<sp/>||<sp/>(!pStream-&gt;<ref refid="structmz__stream__s_1a9092fed61f7be520fb1bbcf152905ee8" kindref="member">avail_out</ref>)<sp/>||<sp/>(pState-&gt;<ref refid="structinflate__state_1a45eb73702d5588b380842d55633adfa1" kindref="member">m_dict_avail</ref>))</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="508"><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>((status<sp/>==<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4af9316c69027621352f435c9a343f1042" kindref="member">TINFL_STATUS_DONE</ref>)<sp/>&amp;&amp;<sp/>(!pState-&gt;<ref refid="structinflate__state_1a45eb73702d5588b380842d55633adfa1" kindref="member">m_dict_avail</ref>))<sp/>?<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea9e82839e613eba20eb822b780eb4c312" kindref="member">MZ_STREAM_END</ref><sp/>:<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eac889ce55af78ff1376747e2e52b8e7e3" kindref="member">MZ_OK</ref>;</highlight></codeline>
<codeline lineno="510"><highlight class="normal">}</highlight></codeline>
<codeline lineno="511"><highlight class="normal"></highlight></codeline>
<codeline lineno="512"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1ab3074e360c49f66ccd955e6630d23108" kindref="member">mz_inflateEnd</ref>(<ref refid="structmz__stream__s" kindref="compound">mz_streamp</ref><sp/>pStream)</highlight></codeline>
<codeline lineno="513"><highlight class="normal">{</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pStream)</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eae1066da08adca98d4715701158591c50" kindref="member">MZ_STREAM_ERROR</ref>;</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref>)</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a55dbac0e9b86472bfa41f86dfb35df9a" kindref="member">zfree</ref>(pStream-&gt;<ref refid="structmz__stream__s_1a31c21928246598992a5cce6d20ae7e78" kindref="member">opaque</ref>,<sp/>pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref>);</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStream-&gt;<ref refid="structmz__stream__s_1a935cdb239d37161b5a5e6eda1e047df6" kindref="member">state</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eac889ce55af78ff1376747e2e52b8e7e3" kindref="member">MZ_OK</ref>;</highlight></codeline>
<codeline lineno="522"><highlight class="normal">}</highlight></codeline>
<codeline lineno="523"><highlight class="normal"></highlight></codeline>
<codeline lineno="524"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1aa0ce62915456b6c5f0bcf1ed09e94599" kindref="member">mz_uncompress</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pDest,<sp/><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/>*pDest_len,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pSource,<sp/><ref refid="miniz_8h_1a01ae29d9e32fb57d42d52fb83f3fb8e8" kindref="member">mz_ulong</ref><sp/>source_len)</highlight></codeline>
<codeline lineno="525"><highlight class="normal">{</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__stream__s" kindref="compound">mz_stream</ref><sp/>stream;</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;stream,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(stream));</highlight></codeline>
<codeline lineno="529"><highlight class="normal"></highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>In<sp/>case<sp/>mz_ulong<sp/>is<sp/>64-bits<sp/>(argh<sp/>I<sp/>hate<sp/>longs).<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((source_len<sp/>|<sp/>*pDest_len)<sp/>&gt;<sp/>0xFFFFFFFFU)</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea6bc32d182dcf344e4921fcb604abc35e" kindref="member">MZ_PARAM_ERROR</ref>;</highlight></codeline>
<codeline lineno="533"><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/>stream.<ref refid="structmz__stream__s_1aa75ed42cc83b0f74d7fcce6299439307" kindref="member">next_in</ref><sp/>=<sp/>pSource;</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/>stream.<ref refid="structmz__stream__s_1aafcd4c220622ede6d54015f1fbdadd9e" kindref="member">avail_in</ref><sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)source_len;</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/>stream.<ref refid="structmz__stream__s_1a2c569383efce3b9d9e7c02e3e03941bc" kindref="member">next_out</ref><sp/>=<sp/>pDest;</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/>stream.<ref refid="structmz__stream__s_1a9092fed61f7be520fb1bbcf152905ee8" kindref="member">avail_out</ref><sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>*<sp/>pDest_len;</highlight></codeline>
<codeline lineno="538"><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8c_1a2cd16abe6e673d9f98d98ae81c2d7c52" kindref="member">mz_inflateInit</ref>(&amp;stream);</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>!=<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eac889ce55af78ff1376747e2e52b8e7e3" kindref="member">MZ_OK</ref>)</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="542"><highlight class="normal"></highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8c_1a2d5d109e8f992526202122134e092aa1" kindref="member">mz_inflate</ref>(&amp;stream,<sp/><ref refid="miniz_8h_1adc29c2ff13d900c2f185ee95427fb06ca8c1ad84176153047845d17c151097124" kindref="member">MZ_FINISH</ref>);</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>!=<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea9e82839e613eba20eb822b780eb4c312" kindref="member">MZ_STREAM_END</ref>)</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ab3074e360c49f66ccd955e6630d23108" kindref="member">mz_inflateEnd</ref>(&amp;stream);</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>((status<sp/>==<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eada9fc0699137425d9e993b3a91eb2b52" kindref="member">MZ_BUF_ERROR</ref>)<sp/>&amp;&amp;<sp/>(!stream.<ref refid="structmz__stream__s_1aafcd4c220622ede6d54015f1fbdadd9e" kindref="member">avail_in</ref>))<sp/>?<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eae4f65fd7767379614da35ab5c43ad77d" kindref="member">MZ_DATA_ERROR</ref><sp/>:<sp/>status;</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/>*pDest_len<sp/>=<sp/>stream.<ref refid="structmz__stream__s_1a5cf2c15cc49a99ee7d541375798a3e27" kindref="member">total_out</ref>;</highlight></codeline>
<codeline lineno="550"><highlight class="normal"></highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1ab3074e360c49f66ccd955e6630d23108" kindref="member">mz_inflateEnd</ref>(&amp;stream);</highlight></codeline>
<codeline lineno="552"><highlight class="normal">}</highlight></codeline>
<codeline lineno="553"><highlight class="normal"></highlight></codeline>
<codeline lineno="554"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<ref refid="miniz_8c_1ac315062b2450716e20d21843f2022660" kindref="member">mz_error</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>err)</highlight></codeline>
<codeline lineno="555"><highlight class="normal">{</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>m_err;</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*m_pDesc;</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/>s_error_descs[]<sp/>=</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eac889ce55af78ff1376747e2e52b8e7e3" kindref="member">MZ_OK</ref>,<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"><sp/>},<sp/>{<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea9e82839e613eba20eb822b780eb4c312" kindref="member">MZ_STREAM_END</ref>,<sp/></highlight><highlight class="stringliteral">&quot;stream<sp/>end&quot;</highlight><highlight class="normal"><sp/>},<sp/>{<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea8cabf17fbb841935d0bfb626ce61814d" kindref="member">MZ_NEED_DICT</ref>,<sp/></highlight><highlight class="stringliteral">&quot;need<sp/>dictionary&quot;</highlight><highlight class="normal"><sp/>},<sp/>{<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eac7325ec0656a65e1b12861c5b97be96b" kindref="member">MZ_ERRNO</ref>,<sp/></highlight><highlight class="stringliteral">&quot;file<sp/>error&quot;</highlight><highlight class="normal"><sp/>},<sp/>{<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eae1066da08adca98d4715701158591c50" kindref="member">MZ_STREAM_ERROR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;stream<sp/>error&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eae4f65fd7767379614da35ab5c43ad77d" kindref="member">MZ_DATA_ERROR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;data<sp/>error&quot;</highlight><highlight class="normal"><sp/>},<sp/>{<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea00c3c60b8c4dd75a5f19ed84aebc519b" kindref="member">MZ_MEM_ERROR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;out<sp/>of<sp/>memory&quot;</highlight><highlight class="normal"><sp/>},<sp/>{<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9eada9fc0699137425d9e993b3a91eb2b52" kindref="member">MZ_BUF_ERROR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;buf<sp/>error&quot;</highlight><highlight class="normal"><sp/>},<sp/>{<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea8f0080210beb22cd8cc6e4fca5e5f2f4" kindref="member">MZ_VERSION_ERROR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;version<sp/>error&quot;</highlight><highlight class="normal"><sp/>},<sp/>{<sp/><ref refid="miniz_8h_1a61dadd085c1777f559549e05962b2c9ea6bc32d182dcf344e4921fcb604abc35e" kindref="member">MZ_PARAM_ERROR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;parameter<sp/>error&quot;</highlight><highlight class="normal"><sp/>}</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>i;</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(s_error_descs)<sp/>/<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(s_error_descs[0]);<sp/>++i)</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(s_error_descs[i].m_err<sp/>==<sp/>err)</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>s_error_descs[i].m_pDesc;</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="570"><highlight class="normal">}</highlight></codeline>
<codeline lineno="571"><highlight class="normal"></highlight></codeline>
<codeline lineno="572"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*MINIZ_NO_ZLIB_APIS<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="575"><highlight class="normal">}</highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"></highlight></codeline>
<codeline lineno="578"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="579"><highlight class="comment"><sp/><sp/>This<sp/>is<sp/>free<sp/>and<sp/>unencumbered<sp/>software<sp/>released<sp/>into<sp/>the<sp/>public<sp/>domain.</highlight></codeline>
<codeline lineno="580"><highlight class="comment"></highlight></codeline>
<codeline lineno="581"><highlight class="comment"><sp/><sp/>Anyone<sp/>is<sp/>free<sp/>to<sp/>copy,<sp/>modify,<sp/>publish,<sp/>use,<sp/>compile,<sp/>sell,<sp/>or</highlight></codeline>
<codeline lineno="582"><highlight class="comment"><sp/><sp/>distribute<sp/>this<sp/>software,<sp/>either<sp/>in<sp/>source<sp/>code<sp/>form<sp/>or<sp/>as<sp/>a<sp/>compiled</highlight></codeline>
<codeline lineno="583"><highlight class="comment"><sp/><sp/>binary,<sp/>for<sp/>any<sp/>purpose,<sp/>commercial<sp/>or<sp/>non-commercial,<sp/>and<sp/>by<sp/>any</highlight></codeline>
<codeline lineno="584"><highlight class="comment"><sp/><sp/>means.</highlight></codeline>
<codeline lineno="585"><highlight class="comment"></highlight></codeline>
<codeline lineno="586"><highlight class="comment"><sp/><sp/>In<sp/>jurisdictions<sp/>that<sp/>recognize<sp/>copyright<sp/>laws,<sp/>the<sp/>author<sp/>or<sp/>authors</highlight></codeline>
<codeline lineno="587"><highlight class="comment"><sp/><sp/>of<sp/>this<sp/>software<sp/>dedicate<sp/>any<sp/>and<sp/>all<sp/>copyright<sp/>interest<sp/>in<sp/>the</highlight></codeline>
<codeline lineno="588"><highlight class="comment"><sp/><sp/>software<sp/>to<sp/>the<sp/>public<sp/>domain.<sp/>We<sp/>make<sp/>this<sp/>dedication<sp/>for<sp/>the<sp/>benefit</highlight></codeline>
<codeline lineno="589"><highlight class="comment"><sp/><sp/>of<sp/>the<sp/>public<sp/>at<sp/>large<sp/>and<sp/>to<sp/>the<sp/>detriment<sp/>of<sp/>our<sp/>heirs<sp/>and</highlight></codeline>
<codeline lineno="590"><highlight class="comment"><sp/><sp/>successors.<sp/>We<sp/>intend<sp/>this<sp/>dedication<sp/>to<sp/>be<sp/>an<sp/>overt<sp/>act<sp/>of</highlight></codeline>
<codeline lineno="591"><highlight class="comment"><sp/><sp/>relinquishment<sp/>in<sp/>perpetuity<sp/>of<sp/>all<sp/>present<sp/>and<sp/>future<sp/>rights<sp/>to<sp/>this</highlight></codeline>
<codeline lineno="592"><highlight class="comment"><sp/><sp/>software<sp/>under<sp/>copyright<sp/>law.</highlight></codeline>
<codeline lineno="593"><highlight class="comment"></highlight></codeline>
<codeline lineno="594"><highlight class="comment"><sp/><sp/>THE<sp/>SOFTWARE<sp/>IS<sp/>PROVIDED<sp/>&quot;AS<sp/>IS&quot;,<sp/>WITHOUT<sp/>WARRANTY<sp/>OF<sp/>ANY<sp/>KIND,</highlight></codeline>
<codeline lineno="595"><highlight class="comment"><sp/><sp/>EXPRESS<sp/>OR<sp/>IMPLIED,<sp/>INCLUDING<sp/>BUT<sp/>NOT<sp/>LIMITED<sp/>TO<sp/>THE<sp/>WARRANTIES<sp/>OF</highlight></codeline>
<codeline lineno="596"><highlight class="comment"><sp/><sp/>MERCHANTABILITY,<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE<sp/>AND<sp/>NONINFRINGEMENT.</highlight></codeline>
<codeline lineno="597"><highlight class="comment"><sp/><sp/>IN<sp/>NO<sp/>EVENT<sp/>SHALL<sp/>THE<sp/>AUTHORS<sp/>BE<sp/>LIABLE<sp/>FOR<sp/>ANY<sp/>CLAIM,<sp/>DAMAGES<sp/>OR</highlight></codeline>
<codeline lineno="598"><highlight class="comment"><sp/><sp/>OTHER<sp/>LIABILITY,<sp/>WHETHER<sp/>IN<sp/>AN<sp/>ACTION<sp/>OF<sp/>CONTRACT,<sp/>TORT<sp/>OR<sp/>OTHERWISE,</highlight></codeline>
<codeline lineno="599"><highlight class="comment"><sp/><sp/>ARISING<sp/>FROM,<sp/>OUT<sp/>OF<sp/>OR<sp/>IN<sp/>CONNECTION<sp/>WITH<sp/>THE<sp/>SOFTWARE<sp/>OR<sp/>THE<sp/>USE<sp/>OR</highlight></codeline>
<codeline lineno="600"><highlight class="comment"><sp/><sp/>OTHER<sp/>DEALINGS<sp/>IN<sp/>THE<sp/>SOFTWARE.</highlight></codeline>
<codeline lineno="601"><highlight class="comment"></highlight></codeline>
<codeline lineno="602"><highlight class="comment"><sp/><sp/>For<sp/>more<sp/>information,<sp/>please<sp/>refer<sp/>to<sp/>&lt;http://unlicense.org/&gt;</highlight></codeline>
<codeline lineno="603"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="604"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************</highlight></codeline>
<codeline lineno="605"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="606"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>2013-2014<sp/>RAD<sp/>Game<sp/>Tools<sp/>and<sp/>Valve<sp/>Software</highlight></codeline>
<codeline lineno="607"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>2010-2014<sp/>Rich<sp/>Geldreich<sp/>and<sp/>Tenacious<sp/>Software<sp/>LLC</highlight></codeline>
<codeline lineno="608"><highlight class="comment"><sp/>*<sp/>All<sp/>Rights<sp/>Reserved.</highlight></codeline>
<codeline lineno="609"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="610"><highlight class="comment"><sp/>*<sp/>Permission<sp/>is<sp/>hereby<sp/>granted,<sp/>free<sp/>of<sp/>charge,<sp/>to<sp/>any<sp/>person<sp/>obtaining<sp/>a<sp/>copy</highlight></codeline>
<codeline lineno="611"><highlight class="comment"><sp/>*<sp/>of<sp/>this<sp/>software<sp/>and<sp/>associated<sp/>documentation<sp/>files<sp/>(the<sp/>&quot;Software&quot;),<sp/>to<sp/>deal</highlight></codeline>
<codeline lineno="612"><highlight class="comment"><sp/>*<sp/>in<sp/>the<sp/>Software<sp/>without<sp/>restriction,<sp/>including<sp/>without<sp/>limitation<sp/>the<sp/>rights</highlight></codeline>
<codeline lineno="613"><highlight class="comment"><sp/>*<sp/>to<sp/>use,<sp/>copy,<sp/>modify,<sp/>merge,<sp/>publish,<sp/>distribute,<sp/>sublicense,<sp/>and/or<sp/>sell</highlight></codeline>
<codeline lineno="614"><highlight class="comment"><sp/>*<sp/>copies<sp/>of<sp/>the<sp/>Software,<sp/>and<sp/>to<sp/>permit<sp/>persons<sp/>to<sp/>whom<sp/>the<sp/>Software<sp/>is</highlight></codeline>
<codeline lineno="615"><highlight class="comment"><sp/>*<sp/>furnished<sp/>to<sp/>do<sp/>so,<sp/>subject<sp/>to<sp/>the<sp/>following<sp/>conditions:</highlight></codeline>
<codeline lineno="616"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="617"><highlight class="comment"><sp/>*<sp/>The<sp/>above<sp/>copyright<sp/>notice<sp/>and<sp/>this<sp/>permission<sp/>notice<sp/>shall<sp/>be<sp/>included<sp/>in</highlight></codeline>
<codeline lineno="618"><highlight class="comment"><sp/>*<sp/>all<sp/>copies<sp/>or<sp/>substantial<sp/>portions<sp/>of<sp/>the<sp/>Software.</highlight></codeline>
<codeline lineno="619"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="620"><highlight class="comment"><sp/>*<sp/>THE<sp/>SOFTWARE<sp/>IS<sp/>PROVIDED<sp/>&quot;AS<sp/>IS&quot;,<sp/>WITHOUT<sp/>WARRANTY<sp/>OF<sp/>ANY<sp/>KIND,<sp/>EXPRESS<sp/>OR</highlight></codeline>
<codeline lineno="621"><highlight class="comment"><sp/>*<sp/>IMPLIED,<sp/>INCLUDING<sp/>BUT<sp/>NOT<sp/>LIMITED<sp/>TO<sp/>THE<sp/>WARRANTIES<sp/>OF<sp/>MERCHANTABILITY,</highlight></codeline>
<codeline lineno="622"><highlight class="comment"><sp/>*<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE<sp/>AND<sp/>NONINFRINGEMENT.<sp/>IN<sp/>NO<sp/>EVENT<sp/>SHALL<sp/>THE</highlight></codeline>
<codeline lineno="623"><highlight class="comment"><sp/>*<sp/>AUTHORS<sp/>OR<sp/>COPYRIGHT<sp/>HOLDERS<sp/>BE<sp/>LIABLE<sp/>FOR<sp/>ANY<sp/>CLAIM,<sp/>DAMAGES<sp/>OR<sp/>OTHER</highlight></codeline>
<codeline lineno="624"><highlight class="comment"><sp/>*<sp/>LIABILITY,<sp/>WHETHER<sp/>IN<sp/>AN<sp/>ACTION<sp/>OF<sp/>CONTRACT,<sp/>TORT<sp/>OR<sp/>OTHERWISE,<sp/>ARISING<sp/>FROM,</highlight></codeline>
<codeline lineno="625"><highlight class="comment"><sp/>*<sp/>OUT<sp/>OF<sp/>OR<sp/>IN<sp/>CONNECTION<sp/>WITH<sp/>THE<sp/>SOFTWARE<sp/>OR<sp/>THE<sp/>USE<sp/>OR<sp/>OTHER<sp/>DEALINGS<sp/>IN</highlight></codeline>
<codeline lineno="626"><highlight class="comment"><sp/>*<sp/>THE<sp/>SOFTWARE.</highlight></codeline>
<codeline lineno="627"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="628"><highlight class="comment"><sp/>**************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="629"><highlight class="normal"></highlight></codeline>
<codeline lineno="630"><highlight class="normal"></highlight></codeline>
<codeline lineno="631"><highlight class="normal"></highlight></codeline>
<codeline lineno="632"><highlight class="normal"></highlight></codeline>
<codeline lineno="633"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="634"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;C&quot;</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="635"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="636"><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>-------------------<sp/>Low-level<sp/>Compression<sp/>(independent<sp/>from<sp/>all<sp/>decompression<sp/>API&apos;s)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="638"><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Purposely<sp/>making<sp/>these<sp/>tables<sp/>static<sp/>for<sp/>faster<sp/>init<sp/>and<sp/>thread<sp/>safety.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/><ref refid="miniz_8c_1a17a9bb041843f1d98e2ba27139de5081" kindref="member">s_tdefl_len_sym</ref>[256]<sp/>=</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>257,<sp/>258,<sp/>259,<sp/>260,<sp/>261,<sp/>262,<sp/>263,<sp/>264,<sp/>265,<sp/>265,<sp/>266,<sp/>266,<sp/>267,<sp/>267,<sp/>268,<sp/>268,<sp/>269,<sp/>269,<sp/>269,<sp/>269,<sp/>270,<sp/>270,<sp/>270,<sp/>270,<sp/>271,<sp/>271,<sp/>271,<sp/>271,<sp/>272,<sp/>272,<sp/>272,<sp/>272,</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>273,<sp/>273,<sp/>273,<sp/>273,<sp/>273,<sp/>273,<sp/>273,<sp/>273,<sp/>274,<sp/>274,<sp/>274,<sp/>274,<sp/>274,<sp/>274,<sp/>274,<sp/>274,<sp/>275,<sp/>275,<sp/>275,<sp/>275,<sp/>275,<sp/>275,<sp/>275,<sp/>275,<sp/>276,<sp/>276,<sp/>276,<sp/>276,<sp/>276,<sp/>276,<sp/>276,<sp/>276,</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>277,<sp/>277,<sp/>277,<sp/>277,<sp/>277,<sp/>277,<sp/>277,<sp/>277,<sp/>277,<sp/>277,<sp/>277,<sp/>277,<sp/>277,<sp/>277,<sp/>277,<sp/>277,<sp/>278,<sp/>278,<sp/>278,<sp/>278,<sp/>278,<sp/>278,<sp/>278,<sp/>278,<sp/>278,<sp/>278,<sp/>278,<sp/>278,<sp/>278,<sp/>278,<sp/>278,<sp/>278,</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>279,<sp/>279,<sp/>279,<sp/>279,<sp/>279,<sp/>279,<sp/>279,<sp/>279,<sp/>279,<sp/>279,<sp/>279,<sp/>279,<sp/>279,<sp/>279,<sp/>279,<sp/>279,<sp/>280,<sp/>280,<sp/>280,<sp/>280,<sp/>280,<sp/>280,<sp/>280,<sp/>280,<sp/>280,<sp/>280,<sp/>280,<sp/>280,<sp/>280,<sp/>280,<sp/>280,<sp/>280,</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,<sp/>281,</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,<sp/>282,</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,<sp/>283,</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>284,<sp/>285</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="651"><highlight class="normal"></highlight></codeline>
<codeline lineno="652"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/><ref refid="miniz_8c_1a0bfacd5da9a6e0f26f84fdbb7f7309ef" kindref="member">s_tdefl_len_extra</ref>[256]<sp/>=</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,<sp/>0,<sp/>0,<sp/>0,<sp/>0,<sp/>0,<sp/>0,<sp/>0,<sp/>1,<sp/>1,<sp/>1,<sp/>1,<sp/>1,<sp/>1,<sp/>1,<sp/>1,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>0</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="659"><highlight class="normal"></highlight></codeline>
<codeline lineno="660"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/><ref refid="miniz_8c_1a3b07b4b3e26dd52c6bf6289ef88c76e0" kindref="member">s_tdefl_small_dist_sym</ref>[512]<sp/>=</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,<sp/>1,<sp/>2,<sp/>3,<sp/>4,<sp/>4,<sp/>5,<sp/>5,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>8,<sp/>8,<sp/>8,<sp/>8,<sp/>8,<sp/>8,<sp/>8,<sp/>8,<sp/>9,<sp/>9,<sp/>9,<sp/>9,<sp/>9,<sp/>9,<sp/>9,<sp/>9,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>13,</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,</highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>14,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>15,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>16,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17,<sp/>17</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="675"><highlight class="normal"></highlight></codeline>
<codeline lineno="676"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/><ref refid="miniz_8c_1a4e100642a6f096d6bc8926a59bc909f8" kindref="member">s_tdefl_small_dist_extra</ref>[512]<sp/>=</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,<sp/>0,<sp/>0,<sp/>0,<sp/>1,<sp/>1,<sp/>1,<sp/>1,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,</highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,</highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>6,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,</highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,</highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7,<sp/>7</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="687"><highlight class="normal"></highlight></codeline>
<codeline lineno="688"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/><ref refid="miniz_8c_1ac781072b961db555ae58d396ca0e4527" kindref="member">s_tdefl_large_dist_sym</ref>[128]<sp/>=</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,<sp/>0,<sp/>18,<sp/>19,<sp/>20,<sp/>20,<sp/>21,<sp/>21,<sp/>22,<sp/>22,<sp/>22,<sp/>22,<sp/>23,<sp/>23,<sp/>23,<sp/>23,<sp/>24,<sp/>24,<sp/>24,<sp/>24,<sp/>24,<sp/>24,<sp/>24,<sp/>24,<sp/>25,<sp/>25,<sp/>25,<sp/>25,<sp/>25,<sp/>25,<sp/>25,<sp/>25,<sp/>26,<sp/>26,<sp/>26,<sp/>26,<sp/>26,<sp/>26,<sp/>26,<sp/>26,<sp/>26,<sp/>26,<sp/>26,<sp/>26,</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>26,<sp/>26,<sp/>26,<sp/>26,<sp/>27,<sp/>27,<sp/>27,<sp/>27,<sp/>27,<sp/>27,<sp/>27,<sp/>27,<sp/>27,<sp/>27,<sp/>27,<sp/>27,<sp/>27,<sp/>27,<sp/>27,<sp/>27,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>28,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29,<sp/>29</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="694"><highlight class="normal"></highlight></codeline>
<codeline lineno="695"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/><ref refid="miniz_8c_1a61e192db27bc59fa5cc3800aadde8d97" kindref="member">s_tdefl_large_dist_extra</ref>[128]<sp/>=</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,<sp/>0,<sp/>8,<sp/>8,<sp/>9,<sp/>9,<sp/>9,<sp/>9,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>10,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>11,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>12,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13,<sp/>13</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="701"><highlight class="normal"></highlight></codeline>
<codeline lineno="702"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Radix<sp/>sorts<sp/>tdefl_sym_freq[]<sp/>array<sp/>by<sp/>16-bit<sp/>key<sp/>m_key.<sp/>Returns<sp/>ptr<sp/>to<sp/>sorted<sp/>values.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="703" refid="structtdefl__sym__freq" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="704"><highlight class="normal">{</highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>m_key,<sp/>m_sym_index;</highlight></codeline>
<codeline lineno="706"><highlight class="normal">}<sp/><ref refid="structtdefl__sym__freq" kindref="compound">tdefl_sym_freq</ref>;</highlight></codeline>
<codeline lineno="707"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="structtdefl__sym__freq" kindref="compound">tdefl_sym_freq</ref><sp/>*<ref refid="miniz_8c_1a0069262fcca5eec8151a14d35e801e1c" kindref="member">tdefl_radix_sort_syms</ref>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>num_syms,<sp/><ref refid="structtdefl__sym__freq" kindref="compound">tdefl_sym_freq</ref><sp/>*pSyms0,<sp/><ref refid="structtdefl__sym__freq" kindref="compound">tdefl_sym_freq</ref><sp/>*pSyms1)</highlight></codeline>
<codeline lineno="708"><highlight class="normal">{</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>total_passes<sp/>=<sp/>2,<sp/>pass_shift,<sp/>pass,<sp/>i,<sp/>hist[256<sp/>*<sp/>2];</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtdefl__sym__freq" kindref="compound">tdefl_sym_freq</ref><sp/>*pCur_syms<sp/>=<sp/>pSyms0,<sp/>*pNew_syms<sp/>=<sp/>pSyms1;</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(hist);</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>num_syms;<sp/>i++)</highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>freq<sp/>=<sp/>pSyms0[i].<ref refid="structtdefl__sym__freq_1ab3e92f7d87da65857f18f8b8fb0a6ecb" kindref="member">m_key</ref>;</highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hist[freq<sp/>&amp;<sp/>0xFF]++;</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hist[256<sp/>+<sp/>((freq<sp/>&gt;&gt;<sp/>8)<sp/>&amp;<sp/>0xFF)]++;</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((total_passes<sp/>&gt;<sp/>1)<sp/>&amp;&amp;<sp/>(num_syms<sp/>==<sp/>hist[(total_passes<sp/>-<sp/>1)<sp/>*<sp/>256]))</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>total_passes--;</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(pass_shift<sp/>=<sp/>0,<sp/>pass<sp/>=<sp/>0;<sp/>pass<sp/>&lt;<sp/>total_passes;<sp/>pass++,<sp/>pass_shift<sp/>+=<sp/>8)</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>*pHist<sp/>=<sp/>&amp;hist[pass<sp/>&lt;&lt;<sp/>8];</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>offsets[256],<sp/>cur_ofs<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>256;<sp/>i++)</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offsets[i]<sp/>=<sp/>cur_ofs;</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_ofs<sp/>+=<sp/>pHist[i];</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>num_syms;<sp/>i++)</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pNew_syms[offsets[(pCur_syms[i].m_key<sp/>&gt;&gt;<sp/>pass_shift)<sp/>&amp;<sp/>0xFF]++]<sp/>=<sp/>pCur_syms[i];</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtdefl__sym__freq" kindref="compound">tdefl_sym_freq</ref><sp/>*t<sp/>=<sp/>pCur_syms;</highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pCur_syms<sp/>=<sp/>pNew_syms;</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pNew_syms<sp/>=<sp/>t;</highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pCur_syms;</highlight></codeline>
<codeline lineno="738"><highlight class="normal">}</highlight></codeline>
<codeline lineno="739"><highlight class="normal"></highlight></codeline>
<codeline lineno="740"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>tdefl_calculate_minimum_redundancy()<sp/>originally<sp/>written<sp/>by:<sp/>Alistair<sp/>Moffat,<sp/>alistair@cs.mu.oz.au,<sp/>Jyrki<sp/>Katajainen,<sp/>jyrki@diku.dk,<sp/>November<sp/>1996.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="741"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a3a558f4edba2d4f90c80931c5c888267" kindref="member">tdefl_calculate_minimum_redundancy</ref>(<ref refid="structtdefl__sym__freq" kindref="compound">tdefl_sym_freq</ref><sp/>*A,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n)</highlight></codeline>
<codeline lineno="742"><highlight class="normal">{</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>root,<sp/>leaf,<sp/>next,<sp/>avbl,<sp/>used,<sp/>dpth;</highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(n<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(n<sp/>==<sp/>1)</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A[0].<ref refid="structtdefl__sym__freq_1ab3e92f7d87da65857f18f8b8fb0a6ecb" kindref="member">m_key</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/>A[0].<ref refid="structtdefl__sym__freq_1ab3e92f7d87da65857f18f8b8fb0a6ecb" kindref="member">m_key</ref><sp/>+=<sp/>A[1].<ref refid="structtdefl__sym__freq_1ab3e92f7d87da65857f18f8b8fb0a6ecb" kindref="member">m_key</ref>;</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/>root<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/>leaf<sp/>=<sp/>2;</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(next<sp/>=<sp/>1;<sp/>next<sp/>&lt;<sp/>n<sp/>-<sp/>1;<sp/>next++)</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(leaf<sp/>&gt;=<sp/>n<sp/>||<sp/>A[root].m_key<sp/>&lt;<sp/>A[leaf].m_key)</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A[next].<ref refid="structtdefl__sym__freq_1ab3e92f7d87da65857f18f8b8fb0a6ecb" kindref="member">m_key</ref><sp/>=<sp/>A[root].<ref refid="structtdefl__sym__freq_1ab3e92f7d87da65857f18f8b8fb0a6ecb" kindref="member">m_key</ref>;</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A[root++].<ref refid="structtdefl__sym__freq_1ab3e92f7d87da65857f18f8b8fb0a6ecb" kindref="member">m_key</ref><sp/>=<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)next;</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A[next].<ref refid="structtdefl__sym__freq_1ab3e92f7d87da65857f18f8b8fb0a6ecb" kindref="member">m_key</ref><sp/>=<sp/>A[leaf++].<ref refid="structtdefl__sym__freq_1ab3e92f7d87da65857f18f8b8fb0a6ecb" kindref="member">m_key</ref>;</highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(leaf<sp/>&gt;=<sp/>n<sp/>||<sp/>(root<sp/>&lt;<sp/>next<sp/>&amp;&amp;<sp/>A[root].m_key<sp/>&lt;<sp/>A[leaf].m_key))</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A[next].<ref refid="structtdefl__sym__freq_1ab3e92f7d87da65857f18f8b8fb0a6ecb" kindref="member">m_key</ref><sp/>=<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)(A[next].m_key<sp/>+<sp/>A[root].m_key);</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A[root++].<ref refid="structtdefl__sym__freq_1ab3e92f7d87da65857f18f8b8fb0a6ecb" kindref="member">m_key</ref><sp/>=<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)next;</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A[next].<ref refid="structtdefl__sym__freq_1ab3e92f7d87da65857f18f8b8fb0a6ecb" kindref="member">m_key</ref><sp/>=<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)(A[next].m_key<sp/>+<sp/>A[leaf++].m_key);</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/>A[n<sp/>-<sp/>2].<ref refid="structtdefl__sym__freq_1ab3e92f7d87da65857f18f8b8fb0a6ecb" kindref="member">m_key</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(next<sp/>=<sp/>n<sp/>-<sp/>3;<sp/>next<sp/>&gt;=<sp/>0;<sp/>next--)</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A[next].m_key<sp/>=<sp/>A[A[next].m_key].m_key<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/>avbl<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/>used<sp/>=<sp/>dpth<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/>root<sp/>=<sp/>n<sp/>-<sp/>2;</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/>next<sp/>=<sp/>n<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(avbl<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(root<sp/>&gt;=<sp/>0<sp/>&amp;&amp;<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)A[root].<ref refid="structtdefl__sym__freq_1ab3e92f7d87da65857f18f8b8fb0a6ecb" kindref="member">m_key</ref><sp/>==<sp/>dpth)</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>used++;</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>root--;</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(avbl<sp/>&gt;<sp/>used)</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A[next--].<ref refid="structtdefl__sym__freq_1ab3e92f7d87da65857f18f8b8fb0a6ecb" kindref="member">m_key</ref><sp/>=<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)(dpth);</highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>avbl--;</highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>avbl<sp/>=<sp/>2<sp/>*<sp/>used;</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpth++;</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>used<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="794"><highlight class="normal">}</highlight></codeline>
<codeline lineno="795"><highlight class="normal"></highlight></codeline>
<codeline lineno="796"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Limits<sp/>canonical<sp/>Huffman<sp/>code<sp/>table&apos;s<sp/>max<sp/>code<sp/>size.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="797"><highlight class="normal"></highlight><highlight class="keyword">enum</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="798"><highlight class="normal">{</highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a06fc87d81c62e9abb8790b6e5713c55bad686da58671353e21d237bb0d17065bb" kindref="member">TDEFL_MAX_SUPPORTED_HUFF_CODESIZE</ref><sp/>=<sp/>32</highlight></codeline>
<codeline lineno="800"><highlight class="normal">};</highlight></codeline>
<codeline lineno="801"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a76cdb9a006ad356913fdd684a79014d4" kindref="member">tdefl_huffman_enforce_max_code_size</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*pNum_codes,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>code_list_len,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>max_code_size)</highlight></codeline>
<codeline lineno="802"><highlight class="normal">{</highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>total<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(code_list_len<sp/>&lt;=<sp/>1)</highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>max_code_size<sp/>+<sp/>1;<sp/>i<sp/>&lt;=<sp/><ref refid="miniz_8c_1a06fc87d81c62e9abb8790b6e5713c55bad686da58671353e21d237bb0d17065bb" kindref="member">TDEFL_MAX_SUPPORTED_HUFF_CODESIZE</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pNum_codes[max_code_size]<sp/>+=<sp/>pNum_codes[i];</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>max_code_size;<sp/>i<sp/>&gt;<sp/>0;<sp/>i--)</highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>total<sp/>+=<sp/>(((<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)pNum_codes[i])<sp/>&lt;&lt;<sp/>(max_code_size<sp/>-<sp/>i));</highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(total<sp/>!=<sp/>(1UL<sp/>&lt;&lt;<sp/>max_code_size))</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pNum_codes[max_code_size]--;</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>max_code_size<sp/>-<sp/>1;<sp/>i<sp/>&gt;<sp/>0;<sp/>i--)</highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pNum_codes[i])</highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pNum_codes[i]--;</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pNum_codes[i<sp/>+<sp/>1]<sp/>+=<sp/>2;</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>total--;</highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="823"><highlight class="normal">}</highlight></codeline>
<codeline lineno="824"><highlight class="normal"></highlight></codeline>
<codeline lineno="825"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1ac61bf564b19275ee3dcf44a7b6c2e214" kindref="member">tdefl_optimize_huffman_table</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>table_num,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>table_len,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>code_size_limit,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>static_table)</highlight></codeline>
<codeline lineno="826"><highlight class="normal">{</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i,<sp/>j,<sp/>l,<sp/>num_codes[1<sp/>+<sp/><ref refid="miniz_8c_1a06fc87d81c62e9abb8790b6e5713c55bad686da58671353e21d237bb0d17065bb" kindref="member">TDEFL_MAX_SUPPORTED_HUFF_CODESIZE</ref>];</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>next_code[<ref refid="miniz_8c_1a06fc87d81c62e9abb8790b6e5713c55bad686da58671353e21d237bb0d17065bb" kindref="member">TDEFL_MAX_SUPPORTED_HUFF_CODESIZE</ref><sp/>+<sp/>1];</highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(num_codes);</highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(static_table)</highlight></codeline>
<codeline lineno="831"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>table_len;<sp/>i++)</highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_codes[d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[table_num][i]]++;</highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtdefl__sym__freq" kindref="compound">tdefl_sym_freq</ref><sp/>syms0[<ref refid="miniz_8h_1ab04a0655cd1e3bcac5e8f48c18df1a57a0a40feaf86d8aed58861a6bd3964b2f4" kindref="member">TDEFL_MAX_HUFF_SYMBOLS</ref>],<sp/>syms1[<ref refid="miniz_8h_1ab04a0655cd1e3bcac5e8f48c18df1a57a0a40feaf86d8aed58861a6bd3964b2f4" kindref="member">TDEFL_MAX_HUFF_SYMBOLS</ref>],<sp/>*pSyms;</highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_used_syms<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>*pSym_count<sp/>=<sp/>&amp;d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[table_num][0];</highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>table_len;<sp/>i++)</highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pSym_count[i])</highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>syms0[num_used_syms].<ref refid="structtdefl__sym__freq_1ab3e92f7d87da65857f18f8b8fb0a6ecb" kindref="member">m_key</ref><sp/>=<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)pSym_count[i];</highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>syms0[num_used_syms++].<ref refid="structtdefl__sym__freq_1a17b56e7162419d3ea5fe175d3f1c855e" kindref="member">m_sym_index</ref><sp/>=<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)i;</highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="846"><highlight class="normal"></highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSyms<sp/>=<sp/><ref refid="miniz_8c_1a0069262fcca5eec8151a14d35e801e1c" kindref="member">tdefl_radix_sort_syms</ref>(num_used_syms,<sp/>syms0,<sp/>syms1);</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a3a558f4edba2d4f90c80931c5c888267" kindref="member">tdefl_calculate_minimum_redundancy</ref>(pSyms,<sp/>num_used_syms);</highlight></codeline>
<codeline lineno="849"><highlight class="normal"></highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>num_used_syms;<sp/>i++)</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_codes[pSyms[i].m_key]++;</highlight></codeline>
<codeline lineno="852"><highlight class="normal"></highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a76cdb9a006ad356913fdd684a79014d4" kindref="member">tdefl_huffman_enforce_max_code_size</ref>(num_codes,<sp/>num_used_syms,<sp/>code_size_limit);</highlight></codeline>
<codeline lineno="854"><highlight class="normal"></highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[table_num]);</highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(d-&gt;<ref refid="structtdefl__compressor_1a32dd7a7684f0408712fc2b2a2e97edba" kindref="member">m_huff_codes</ref>[table_num]);</highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>1,<sp/>j<sp/>=<sp/>num_used_syms;<sp/>i<sp/>&lt;=<sp/>code_size_limit;<sp/>i++)</highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(l<sp/>=<sp/>num_codes[i];<sp/>l<sp/>&gt;<sp/>0;<sp/>l--)</highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[table_num][pSyms[--j].<ref refid="structtdefl__sym__freq_1a17b56e7162419d3ea5fe175d3f1c855e" kindref="member">m_sym_index</ref>]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(i);</highlight></codeline>
<codeline lineno="860"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="861"><highlight class="normal"></highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/><sp/><sp/>next_code[1]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="863"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(j<sp/>=<sp/>0,<sp/>i<sp/>=<sp/>2;<sp/>i<sp/>&lt;=<sp/>code_size_limit;<sp/>i++)</highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>next_code[i]<sp/>=<sp/>j<sp/>=<sp/>((j<sp/>+<sp/>num_codes[i<sp/>-<sp/>1])<sp/>&lt;&lt;<sp/>1);</highlight></codeline>
<codeline lineno="865"><highlight class="normal"></highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>table_len;<sp/>i++)</highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>rev_code<sp/>=<sp/>0,<sp/>code,<sp/>code_size;</highlight></codeline>
<codeline lineno="869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((code_size<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[table_num][i])<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>code<sp/>=<sp/>next_code[code_size]++;</highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(l<sp/>=<sp/>code_size;<sp/>l<sp/>&gt;<sp/>0;<sp/>l--,<sp/>code<sp/>&gt;&gt;=<sp/>1)</highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rev_code<sp/>=<sp/>(rev_code<sp/>&lt;&lt;<sp/>1)<sp/>|<sp/>(code<sp/>&amp;<sp/>1);</highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a32dd7a7684f0408712fc2b2a2e97edba" kindref="member">m_huff_codes</ref>[table_num][i]<sp/>=<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)rev_code;</highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="876"><highlight class="normal">}</highlight></codeline>
<codeline lineno="877"><highlight class="normal"></highlight></codeline>
<codeline lineno="878"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TDEFL_PUT_BITS(b,<sp/>l)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="879"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>do<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="880"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="881"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mz_uint<sp/>bits<sp/>=<sp/>b;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="882"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mz_uint<sp/>len<sp/>=<sp/>l;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="883"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MZ_ASSERT(bits<sp/>&lt;=<sp/>((1U<sp/>&lt;&lt;<sp/>len)<sp/>-<sp/>1U));<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="884"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;m_bit_buffer<sp/>|=<sp/>(bits<sp/>&lt;&lt;<sp/>d-&gt;m_bits_in);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="885"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;m_bits_in<sp/>+=<sp/>len;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="886"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>while<sp/>(d-&gt;m_bits_in<sp/>&gt;=<sp/>8)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="887"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="888"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(d-&gt;m_pOutput_buf<sp/>&lt;<sp/>d-&gt;m_pOutput_buf_end)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="889"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*d-&gt;m_pOutput_buf++<sp/>=<sp/>(mz_uint8)(d-&gt;m_bit_buffer);<sp/>\</highlight></codeline>
<codeline lineno="890"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;m_bit_buffer<sp/>&gt;&gt;=<sp/>8;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="891"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;m_bits_in<sp/>-=<sp/>8;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="892"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="893"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="894"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>MZ_MACRO_END</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="895"><highlight class="normal"></highlight></codeline>
<codeline lineno="896"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TDEFL_RLE_PREV_CODE_SIZE()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="897"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="898"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(rle_repeat_count)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="899"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="900"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(rle_repeat_count<sp/>&lt;<sp/>3)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="901"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="902"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;m_huff_count[2][prev_code_size]<sp/>=<sp/>(mz_uint16)(d-&gt;m_huff_count[2][prev_code_size]<sp/>+<sp/>rle_repeat_count);<sp/>\</highlight></codeline>
<codeline lineno="903"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>while<sp/>(rle_repeat_count--)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="904"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>packed_code_sizes[num_packed_code_sizes++]<sp/>=<sp/>prev_code_size;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="905"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="906"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="907"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="908"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;m_huff_count[2][16]<sp/>=<sp/>(mz_uint16)(d-&gt;m_huff_count[2][16]<sp/>+<sp/>1);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="909"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>packed_code_sizes[num_packed_code_sizes++]<sp/>=<sp/>16;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="910"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>packed_code_sizes[num_packed_code_sizes++]<sp/>=<sp/>(mz_uint8)(rle_repeat_count<sp/>-<sp/>3);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="911"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="912"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rle_repeat_count<sp/>=<sp/>0;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="913"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="914"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="915"><highlight class="normal"></highlight></codeline>
<codeline lineno="916"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TDEFL_RLE_ZERO_CODE_SIZE()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="917"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="918"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(rle_z_count)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="919"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="920"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(rle_z_count<sp/>&lt;<sp/>3)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="921"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="922"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;m_huff_count[2][0]<sp/>=<sp/>(mz_uint16)(d-&gt;m_huff_count[2][0]<sp/>+<sp/>rle_z_count);<sp/><sp/>\</highlight></codeline>
<codeline lineno="923"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>while<sp/>(rle_z_count--)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="924"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>packed_code_sizes[num_packed_code_sizes++]<sp/>=<sp/>0;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="925"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="926"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else<sp/>if<sp/>(rle_z_count<sp/>&lt;=<sp/>10)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="927"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="928"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;m_huff_count[2][17]<sp/>=<sp/>(mz_uint16)(d-&gt;m_huff_count[2][17]<sp/>+<sp/>1);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="929"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>packed_code_sizes[num_packed_code_sizes++]<sp/>=<sp/>17;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="930"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>packed_code_sizes[num_packed_code_sizes++]<sp/>=<sp/>(mz_uint8)(rle_z_count<sp/>-<sp/>3);<sp/><sp/>\</highlight></codeline>
<codeline lineno="931"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="932"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="933"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="934"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;m_huff_count[2][18]<sp/>=<sp/>(mz_uint16)(d-&gt;m_huff_count[2][18]<sp/>+<sp/>1);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="935"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>packed_code_sizes[num_packed_code_sizes++]<sp/>=<sp/>18;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="936"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>packed_code_sizes[num_packed_code_sizes++]<sp/>=<sp/>(mz_uint8)(rle_z_count<sp/>-<sp/>11);<sp/>\</highlight></codeline>
<codeline lineno="937"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="938"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rle_z_count<sp/>=<sp/>0;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="939"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="940"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="941"><highlight class="normal"></highlight></codeline>
<codeline lineno="942"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/><ref refid="miniz_8c_1abcfd71697c3d190d2493720d56bc0ca2" kindref="member">s_tdefl_packed_code_size_syms_swizzle</ref>[]<sp/>=<sp/>{<sp/>16,<sp/>17,<sp/>18,<sp/>0,<sp/>8,<sp/>7,<sp/>9,<sp/>6,<sp/>10,<sp/>5,<sp/>11,<sp/>4,<sp/>12,<sp/>3,<sp/>13,<sp/>2,<sp/>14,<sp/>1,<sp/>15<sp/>};</highlight></codeline>
<codeline lineno="943"><highlight class="normal"></highlight></codeline>
<codeline lineno="944"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a2495a765ac27434a15efab455434e7f7" kindref="member">tdefl_start_dynamic_block</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d)</highlight></codeline>
<codeline lineno="945"><highlight class="normal">{</highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_lit_codes,<sp/>num_dist_codes,<sp/>num_bit_lengths;</highlight></codeline>
<codeline lineno="947"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>i,<sp/>total_code_sizes_to_pack,<sp/>num_packed_code_sizes,<sp/>rle_z_count,<sp/>rle_repeat_count,<sp/>packed_code_sizes_index;</highlight></codeline>
<codeline lineno="948"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>code_sizes_to_pack[<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a30643ecd31dedddcdb265685027c3730" kindref="member">TDEFL_MAX_HUFF_SYMBOLS_0</ref><sp/>+<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600ab31107f9bbadea4b9a371a4c52885471" kindref="member">TDEFL_MAX_HUFF_SYMBOLS_1</ref>],<sp/>packed_code_sizes[<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a30643ecd31dedddcdb265685027c3730" kindref="member">TDEFL_MAX_HUFF_SYMBOLS_0</ref><sp/>+<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600ab31107f9bbadea4b9a371a4c52885471" kindref="member">TDEFL_MAX_HUFF_SYMBOLS_1</ref>],<sp/>prev_code_size<sp/>=<sp/>0xFF;</highlight></codeline>
<codeline lineno="949"><highlight class="normal"></highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[0][256]<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="951"><highlight class="normal"></highlight></codeline>
<codeline lineno="952"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ac61bf564b19275ee3dcf44a7b6c2e214" kindref="member">tdefl_optimize_huffman_table</ref>(d,<sp/>0,<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a30643ecd31dedddcdb265685027c3730" kindref="member">TDEFL_MAX_HUFF_SYMBOLS_0</ref>,<sp/>15,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ac61bf564b19275ee3dcf44a7b6c2e214" kindref="member">tdefl_optimize_huffman_table</ref>(d,<sp/>1,<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600ab31107f9bbadea4b9a371a4c52885471" kindref="member">TDEFL_MAX_HUFF_SYMBOLS_1</ref>,<sp/>15,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="954"><highlight class="normal"></highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(num_lit_codes<sp/>=<sp/>286;<sp/>num_lit_codes<sp/>&gt;<sp/>257;<sp/>num_lit_codes--)</highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][num_lit_codes<sp/>-<sp/>1])</highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(num_dist_codes<sp/>=<sp/>30;<sp/>num_dist_codes<sp/>&gt;<sp/>1;<sp/>num_dist_codes--)</highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[1][num_dist_codes<sp/>-<sp/>1])</highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="961"><highlight class="normal"></highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy(code_sizes_to_pack,<sp/>&amp;d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][0],<sp/>num_lit_codes);</highlight></codeline>
<codeline lineno="963"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy(code_sizes_to_pack<sp/>+<sp/>num_lit_codes,<sp/>&amp;d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[1][0],<sp/>num_dist_codes);</highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/>total_code_sizes_to_pack<sp/>=<sp/>num_lit_codes<sp/>+<sp/>num_dist_codes;</highlight></codeline>
<codeline lineno="965"><highlight class="normal"><sp/><sp/><sp/><sp/>num_packed_code_sizes<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="966"><highlight class="normal"><sp/><sp/><sp/><sp/>rle_z_count<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="967"><highlight class="normal"><sp/><sp/><sp/><sp/>rle_repeat_count<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="968"><highlight class="normal"></highlight></codeline>
<codeline lineno="969"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[2][0],<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[2][0])<sp/>*<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600ae84d30193f96d7234e473ee98ee25087" kindref="member">TDEFL_MAX_HUFF_SYMBOLS_2</ref>);</highlight></codeline>
<codeline lineno="970"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>total_code_sizes_to_pack;<sp/>i++)</highlight></codeline>
<codeline lineno="971"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>code_size<sp/>=<sp/>code_sizes_to_pack[i];</highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!code_size)</highlight></codeline>
<codeline lineno="974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1af22ccc4520994a5f54caa5a43a75d012" kindref="member">TDEFL_RLE_PREV_CODE_SIZE</ref>();</highlight></codeline>
<codeline lineno="976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(++rle_z_count<sp/>==<sp/>138)</highlight></codeline>
<codeline lineno="977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a30333e6e68452b9e96ee7c5141f2b506" kindref="member">TDEFL_RLE_ZERO_CODE_SIZE</ref>();</highlight></codeline>
<codeline lineno="979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a30333e6e68452b9e96ee7c5141f2b506" kindref="member">TDEFL_RLE_ZERO_CODE_SIZE</ref>();</highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(code_size<sp/>!=<sp/>prev_code_size)</highlight></codeline>
<codeline lineno="985"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1af22ccc4520994a5f54caa5a43a75d012" kindref="member">TDEFL_RLE_PREV_CODE_SIZE</ref>();</highlight></codeline>
<codeline lineno="987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[2][code_size]<sp/>=<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)(d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[2][code_size]<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>packed_code_sizes[num_packed_code_sizes++]<sp/>=<sp/>code_size;</highlight></codeline>
<codeline lineno="989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(++rle_repeat_count<sp/>==<sp/>6)</highlight></codeline>
<codeline lineno="991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1af22ccc4520994a5f54caa5a43a75d012" kindref="member">TDEFL_RLE_PREV_CODE_SIZE</ref>();</highlight></codeline>
<codeline lineno="993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="995"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prev_code_size<sp/>=<sp/>code_size;</highlight></codeline>
<codeline lineno="996"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="997"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rle_repeat_count)</highlight></codeline>
<codeline lineno="998"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1af22ccc4520994a5f54caa5a43a75d012" kindref="member">TDEFL_RLE_PREV_CODE_SIZE</ref>();</highlight></codeline>
<codeline lineno="1000"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1002"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a30333e6e68452b9e96ee7c5141f2b506" kindref="member">TDEFL_RLE_ZERO_CODE_SIZE</ref>();</highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1005"><highlight class="normal"></highlight></codeline>
<codeline lineno="1006"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ac61bf564b19275ee3dcf44a7b6c2e214" kindref="member">tdefl_optimize_huffman_table</ref>(d,<sp/>2,<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600ae84d30193f96d7234e473ee98ee25087" kindref="member">TDEFL_MAX_HUFF_SYMBOLS_2</ref>,<sp/>7,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="1007"><highlight class="normal"></highlight></codeline>
<codeline lineno="1008"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(2,<sp/>2);</highlight></codeline>
<codeline lineno="1009"><highlight class="normal"></highlight></codeline>
<codeline lineno="1010"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(num_lit_codes<sp/>-<sp/>257,<sp/>5);</highlight></codeline>
<codeline lineno="1011"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(num_dist_codes<sp/>-<sp/>1,<sp/>5);</highlight></codeline>
<codeline lineno="1012"><highlight class="normal"></highlight></codeline>
<codeline lineno="1013"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(num_bit_lengths<sp/>=<sp/>18;<sp/>num_bit_lengths<sp/>&gt;=<sp/>0;<sp/>num_bit_lengths--)</highlight></codeline>
<codeline lineno="1014"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[2][s_tdefl_packed_code_size_syms_swizzle[num_bit_lengths]])</highlight></codeline>
<codeline lineno="1015"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1016"><highlight class="normal"><sp/><sp/><sp/><sp/>num_bit_lengths<sp/>=<sp/><ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>(4,<sp/>(num_bit_lengths<sp/>+<sp/>1));</highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(num_bit_lengths<sp/>-<sp/>4,<sp/>4);</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>(int)i<sp/>&lt;<sp/>num_bit_lengths;<sp/>i++)</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[2][s_tdefl_packed_code_size_syms_swizzle[i]],<sp/>3);</highlight></codeline>
<codeline lineno="1020"><highlight class="normal"></highlight></codeline>
<codeline lineno="1021"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(packed_code_sizes_index<sp/>=<sp/>0;<sp/>packed_code_sizes_index<sp/>&lt;<sp/>num_packed_code_sizes;)</highlight></codeline>
<codeline lineno="1022"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1023"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>code<sp/>=<sp/>packed_code_sizes[packed_code_sizes_index++];</highlight></codeline>
<codeline lineno="1024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(code<sp/>&lt;<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600ae84d30193f96d7234e473ee98ee25087" kindref="member">TDEFL_MAX_HUFF_SYMBOLS_2</ref>);</highlight></codeline>
<codeline lineno="1025"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(d-&gt;<ref refid="structtdefl__compressor_1a32dd7a7684f0408712fc2b2a2e97edba" kindref="member">m_huff_codes</ref>[2][code],<sp/>d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[2][code]);</highlight></codeline>
<codeline lineno="1026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(code<sp/>&gt;=<sp/>16)</highlight></codeline>
<codeline lineno="1027"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(packed_code_sizes[packed_code_sizes_index++],<sp/></highlight><highlight class="stringliteral">&quot;\02\03\07&quot;</highlight><highlight class="normal">[code<sp/>-<sp/>16]);</highlight></codeline>
<codeline lineno="1028"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1029"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1030"><highlight class="normal"></highlight></codeline>
<codeline lineno="1031"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a77bb6572e95227d4a0e7eff475e1ca35" kindref="member">tdefl_start_static_block</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d)</highlight></codeline>
<codeline lineno="1032"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1033"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>i;</highlight></codeline>
<codeline lineno="1034"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*p<sp/>=<sp/>&amp;d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][0];</highlight></codeline>
<codeline lineno="1035"><highlight class="normal"></highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;=<sp/>143;<sp/>++i)</highlight></codeline>
<codeline lineno="1037"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*p++<sp/>=<sp/>8;</highlight></codeline>
<codeline lineno="1038"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;<sp/>i<sp/>&lt;=<sp/>255;<sp/>++i)</highlight></codeline>
<codeline lineno="1039"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*p++<sp/>=<sp/>9;</highlight></codeline>
<codeline lineno="1040"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;<sp/>i<sp/>&lt;=<sp/>279;<sp/>++i)</highlight></codeline>
<codeline lineno="1041"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*p++<sp/>=<sp/>7;</highlight></codeline>
<codeline lineno="1042"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;<sp/>i<sp/>&lt;=<sp/>287;<sp/>++i)</highlight></codeline>
<codeline lineno="1043"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*p++<sp/>=<sp/>8;</highlight></codeline>
<codeline lineno="1044"><highlight class="normal"></highlight></codeline>
<codeline lineno="1045"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[1],<sp/>5,<sp/>32);</highlight></codeline>
<codeline lineno="1046"><highlight class="normal"></highlight></codeline>
<codeline lineno="1047"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ac61bf564b19275ee3dcf44a7b6c2e214" kindref="member">tdefl_optimize_huffman_table</ref>(d,<sp/>0,<sp/>288,<sp/>15,<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>);</highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ac61bf564b19275ee3dcf44a7b6c2e214" kindref="member">tdefl_optimize_huffman_table</ref>(d,<sp/>1,<sp/>32,<sp/>15,<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>);</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"></highlight></codeline>
<codeline lineno="1050"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(1,<sp/>2);</highlight></codeline>
<codeline lineno="1051"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1052"><highlight class="normal"></highlight></codeline>
<codeline lineno="1053"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/><ref refid="miniz_8c_1ab5ec1195b9190fe4ddedd7b1b9d38222" kindref="member">mz_bitmasks</ref>[17]<sp/>=<sp/>{<sp/>0x0000,<sp/>0x0001,<sp/>0x0003,<sp/>0x0007,<sp/>0x000F,<sp/>0x001F,<sp/>0x003F,<sp/>0x007F,<sp/>0x00FF,<sp/>0x01FF,<sp/>0x03FF,<sp/>0x07FF,<sp/>0x0FFF,<sp/>0x1FFF,<sp/>0x3FFF,<sp/>0x7FFF,<sp/>0xFFFF<sp/>};</highlight></codeline>
<codeline lineno="1054"><highlight class="normal"></highlight></codeline>
<codeline lineno="1055"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MINIZ_USE_UNALIGNED_LOADS_AND_STORES<sp/>&amp;&amp;MINIZ_LITTLE_ENDIAN<sp/>&amp;&amp;MINIZ_HAS_64BIT_REGISTERS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1056"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a3c9a86d4f0f78987f13f113276127114" kindref="member">tdefl_compress_lz_codes</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d)</highlight></codeline>
<codeline lineno="1057"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1058"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags;</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pLZ_codes;</highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pOutput_buf<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1afd5820d45d173546cc6b996fdca53689" kindref="member">m_pOutput_buf</ref>;</highlight></codeline>
<codeline lineno="1061"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pLZ_code_buf_end<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref>;</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>bit_buffer<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1aa284ab359fd885497d90995e2f6aec10" kindref="member">m_bit_buffer</ref>;</highlight></codeline>
<codeline lineno="1063"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>bits_in<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1aa4e386df487da24a7451a0e16a4de3b5" kindref="member">m_bits_in</ref>;</highlight></codeline>
<codeline lineno="1064"><highlight class="normal"></highlight></codeline>
<codeline lineno="1065"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TDEFL_PUT_BITS_FAST(b,<sp/>l)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="1066"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="1067"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_buffer<sp/>|=<sp/>(((mz_uint64)(b))<sp/>&lt;&lt;<sp/>bits_in);<sp/>\</highlight></codeline>
<codeline lineno="1068"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bits_in<sp/>+=<sp/>(l);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="1069"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1070"><highlight class="normal"></highlight></codeline>
<codeline lineno="1071"><highlight class="normal"><sp/><sp/><sp/><sp/>flags<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="1072"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(pLZ_codes<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1ac4233d89f25c3f5f9c9eda73bcf3e6c4" kindref="member">m_lz_code_buf</ref>;<sp/>pLZ_codes<sp/>&lt;<sp/>pLZ_code_buf_end;<sp/>flags<sp/>&gt;&gt;=<sp/>1)</highlight></codeline>
<codeline lineno="1073"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1074"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flags<sp/>==<sp/>1)</highlight></codeline>
<codeline lineno="1075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flags<sp/>=<sp/>*pLZ_codes++<sp/>|<sp/>0x100;</highlight></codeline>
<codeline lineno="1076"><highlight class="normal"></highlight></codeline>
<codeline lineno="1077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flags<sp/>&amp;<sp/>1)</highlight></codeline>
<codeline lineno="1078"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>s0,<sp/>s1,<sp/>n0,<sp/>n1,<sp/>sym,<sp/>num_extra_bits;</highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>match_len<sp/>=<sp/>pLZ_codes[0],<sp/>match_dist<sp/>=<sp/>*(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>*)(pLZ_codes<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pLZ_codes<sp/>+=<sp/>3;</highlight></codeline>
<codeline lineno="1082"><highlight class="normal"></highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][s_tdefl_len_sym[match_len]]);</highlight></codeline>
<codeline lineno="1084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TDEFL_PUT_BITS_FAST(d-&gt;<ref refid="structtdefl__compressor_1a32dd7a7684f0408712fc2b2a2e97edba" kindref="member">m_huff_codes</ref>[0][s_tdefl_len_sym[match_len]],<sp/>d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][s_tdefl_len_sym[match_len]]);</highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TDEFL_PUT_BITS_FAST(match_len<sp/>&amp;<sp/>mz_bitmasks[s_tdefl_len_extra[match_len]],<sp/>s_tdefl_len_extra[match_len]);</highlight></codeline>
<codeline lineno="1086"><highlight class="normal"></highlight></codeline>
<codeline lineno="1087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>sequence<sp/>coaxes<sp/>MSVC<sp/>into<sp/>using<sp/>cmov&apos;s<sp/>vs.<sp/>jmp&apos;s.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s0<sp/>=<sp/>s_tdefl_small_dist_sym[match_dist<sp/>&amp;<sp/>511];</highlight></codeline>
<codeline lineno="1089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n0<sp/>=<sp/>s_tdefl_small_dist_extra[match_dist<sp/>&amp;<sp/>511];</highlight></codeline>
<codeline lineno="1090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>=<sp/>s_tdefl_large_dist_sym[match_dist<sp/>&gt;&gt;<sp/>8];</highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n1<sp/>=<sp/>s_tdefl_large_dist_extra[match_dist<sp/>&gt;&gt;<sp/>8];</highlight></codeline>
<codeline lineno="1092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sym<sp/>=<sp/>(match_dist<sp/>&lt;<sp/>512)<sp/>?<sp/>s0<sp/>:<sp/>s1;</highlight></codeline>
<codeline lineno="1093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_extra_bits<sp/>=<sp/>(match_dist<sp/>&lt;<sp/>512)<sp/>?<sp/>n0<sp/>:<sp/>n1;</highlight></codeline>
<codeline lineno="1094"><highlight class="normal"></highlight></codeline>
<codeline lineno="1095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[1][sym]);</highlight></codeline>
<codeline lineno="1096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TDEFL_PUT_BITS_FAST(d-&gt;<ref refid="structtdefl__compressor_1a32dd7a7684f0408712fc2b2a2e97edba" kindref="member">m_huff_codes</ref>[1][sym],<sp/>d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[1][sym]);</highlight></codeline>
<codeline lineno="1097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TDEFL_PUT_BITS_FAST(match_dist<sp/>&amp;<sp/>mz_bitmasks[num_extra_bits],<sp/>num_extra_bits);</highlight></codeline>
<codeline lineno="1098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>lit<sp/>=<sp/>*pLZ_codes++;</highlight></codeline>
<codeline lineno="1102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][lit]);</highlight></codeline>
<codeline lineno="1103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TDEFL_PUT_BITS_FAST(d-&gt;<ref refid="structtdefl__compressor_1a32dd7a7684f0408712fc2b2a2e97edba" kindref="member">m_huff_codes</ref>[0][lit],<sp/>d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][lit]);</highlight></codeline>
<codeline lineno="1104"><highlight class="normal"></highlight></codeline>
<codeline lineno="1105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((flags<sp/>&amp;<sp/>2)<sp/>==<sp/>0)<sp/>&amp;&amp;<sp/>(pLZ_codes<sp/>&lt;<sp/>pLZ_code_buf_end))</highlight></codeline>
<codeline lineno="1106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flags<sp/>&gt;&gt;=<sp/>1;</highlight></codeline>
<codeline lineno="1108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lit<sp/>=<sp/>*pLZ_codes++;</highlight></codeline>
<codeline lineno="1109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][lit]);</highlight></codeline>
<codeline lineno="1110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TDEFL_PUT_BITS_FAST(d-&gt;<ref refid="structtdefl__compressor_1a32dd7a7684f0408712fc2b2a2e97edba" kindref="member">m_huff_codes</ref>[0][lit],<sp/>d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][lit]);</highlight></codeline>
<codeline lineno="1111"><highlight class="normal"></highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((flags<sp/>&amp;<sp/>2)<sp/>==<sp/>0)<sp/>&amp;&amp;<sp/>(pLZ_codes<sp/>&lt;<sp/>pLZ_code_buf_end))</highlight></codeline>
<codeline lineno="1113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flags<sp/>&gt;&gt;=<sp/>1;</highlight></codeline>
<codeline lineno="1115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lit<sp/>=<sp/>*pLZ_codes++;</highlight></codeline>
<codeline lineno="1116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][lit]);</highlight></codeline>
<codeline lineno="1117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TDEFL_PUT_BITS_FAST(d-&gt;<ref refid="structtdefl__compressor_1a32dd7a7684f0408712fc2b2a2e97edba" kindref="member">m_huff_codes</ref>[0][lit],<sp/>d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][lit]);</highlight></codeline>
<codeline lineno="1118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1121"><highlight class="normal"></highlight></codeline>
<codeline lineno="1122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pOutput_buf<sp/>&gt;=<sp/>d-&gt;<ref refid="structtdefl__compressor_1aa790d06026f9cd65e5ab373c46447694" kindref="member">m_pOutput_buf_end</ref>)</highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="1124"><highlight class="normal"></highlight></codeline>
<codeline lineno="1125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>*)pOutput_buf<sp/>=<sp/>bit_buffer;</highlight></codeline>
<codeline lineno="1126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOutput_buf<sp/>+=<sp/>(bits_in<sp/>&gt;&gt;<sp/>3);</highlight></codeline>
<codeline lineno="1127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_buffer<sp/>&gt;&gt;=<sp/>(bits_in<sp/>&amp;<sp/>~7);</highlight></codeline>
<codeline lineno="1128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bits_in<sp/>&amp;=<sp/>7;</highlight></codeline>
<codeline lineno="1129"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1130"><highlight class="normal"></highlight></codeline>
<codeline lineno="1131"><highlight class="normal"></highlight><highlight class="preprocessor">#undef<sp/>TDEFL_PUT_BITS_FAST</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1132"><highlight class="normal"></highlight></codeline>
<codeline lineno="1133"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1afd5820d45d173546cc6b996fdca53689" kindref="member">m_pOutput_buf</ref><sp/>=<sp/>pOutput_buf;</highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aa4e386df487da24a7451a0e16a4de3b5" kindref="member">m_bits_in</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aa284ab359fd885497d90995e2f6aec10" kindref="member">m_bit_buffer</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"></highlight></codeline>
<codeline lineno="1137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(bits_in)</highlight></codeline>
<codeline lineno="1138"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>n<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(bits_in,<sp/>16);</highlight></codeline>
<codeline lineno="1140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>((<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)bit_buffer<sp/>&amp;<sp/>mz_bitmasks[n],<sp/>n);</highlight></codeline>
<codeline lineno="1141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_buffer<sp/>&gt;&gt;=<sp/>n;</highlight></codeline>
<codeline lineno="1142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bits_in<sp/>-=<sp/>n;</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1144"><highlight class="normal"></highlight></codeline>
<codeline lineno="1145"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(d-&gt;<ref refid="structtdefl__compressor_1a32dd7a7684f0408712fc2b2a2e97edba" kindref="member">m_huff_codes</ref>[0][256],<sp/>d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][256]);</highlight></codeline>
<codeline lineno="1146"><highlight class="normal"></highlight></codeline>
<codeline lineno="1147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1afd5820d45d173546cc6b996fdca53689" kindref="member">m_pOutput_buf</ref><sp/>&lt;<sp/>d-&gt;<ref refid="structtdefl__compressor_1aa790d06026f9cd65e5ab373c46447694" kindref="member">m_pOutput_buf_end</ref>);</highlight></codeline>
<codeline lineno="1148"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1149"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1150"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a3c9a86d4f0f78987f13f113276127114" kindref="member">tdefl_compress_lz_codes</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d)</highlight></codeline>
<codeline lineno="1151"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags;</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pLZ_codes;</highlight></codeline>
<codeline lineno="1154"><highlight class="normal"></highlight></codeline>
<codeline lineno="1155"><highlight class="normal"><sp/><sp/><sp/><sp/>flags<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="1156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(pLZ_codes<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1ac4233d89f25c3f5f9c9eda73bcf3e6c4" kindref="member">m_lz_code_buf</ref>;<sp/>pLZ_codes<sp/>&lt;<sp/>d-&gt;m_pLZ_code_buf;<sp/>flags<sp/>&gt;&gt;=<sp/>1)</highlight></codeline>
<codeline lineno="1157"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flags<sp/>==<sp/>1)</highlight></codeline>
<codeline lineno="1159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flags<sp/>=<sp/>*pLZ_codes++<sp/>|<sp/>0x100;</highlight></codeline>
<codeline lineno="1160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flags<sp/>&amp;<sp/>1)</highlight></codeline>
<codeline lineno="1161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>sym,<sp/>num_extra_bits;</highlight></codeline>
<codeline lineno="1163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>match_len<sp/>=<sp/>pLZ_codes[0],<sp/>match_dist<sp/>=<sp/>(pLZ_codes[1]<sp/>|<sp/>(pLZ_codes[2]<sp/>&lt;&lt;<sp/>8));</highlight></codeline>
<codeline lineno="1164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pLZ_codes<sp/>+=<sp/>3;</highlight></codeline>
<codeline lineno="1165"><highlight class="normal"></highlight></codeline>
<codeline lineno="1166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][s_tdefl_len_sym[match_len]]);</highlight></codeline>
<codeline lineno="1167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(d-&gt;<ref refid="structtdefl__compressor_1a32dd7a7684f0408712fc2b2a2e97edba" kindref="member">m_huff_codes</ref>[0][s_tdefl_len_sym[match_len]],<sp/>d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][s_tdefl_len_sym[match_len]]);</highlight></codeline>
<codeline lineno="1168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(match_len<sp/>&amp;<sp/>mz_bitmasks[s_tdefl_len_extra[match_len]],<sp/>s_tdefl_len_extra[match_len]);</highlight></codeline>
<codeline lineno="1169"><highlight class="normal"></highlight></codeline>
<codeline lineno="1170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(match_dist<sp/>&lt;<sp/>512)</highlight></codeline>
<codeline lineno="1171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sym<sp/>=<sp/>s_tdefl_small_dist_sym[match_dist];</highlight></codeline>
<codeline lineno="1173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_extra_bits<sp/>=<sp/>s_tdefl_small_dist_extra[match_dist];</highlight></codeline>
<codeline lineno="1174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sym<sp/>=<sp/>s_tdefl_large_dist_sym[match_dist<sp/>&gt;&gt;<sp/>8];</highlight></codeline>
<codeline lineno="1178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_extra_bits<sp/>=<sp/>s_tdefl_large_dist_extra[match_dist<sp/>&gt;&gt;<sp/>8];</highlight></codeline>
<codeline lineno="1179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[1][sym]);</highlight></codeline>
<codeline lineno="1181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(d-&gt;<ref refid="structtdefl__compressor_1a32dd7a7684f0408712fc2b2a2e97edba" kindref="member">m_huff_codes</ref>[1][sym],<sp/>d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[1][sym]);</highlight></codeline>
<codeline lineno="1182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(match_dist<sp/>&amp;<sp/>mz_bitmasks[num_extra_bits],<sp/>num_extra_bits);</highlight></codeline>
<codeline lineno="1183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>lit<sp/>=<sp/>*pLZ_codes++;</highlight></codeline>
<codeline lineno="1187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][lit]);</highlight></codeline>
<codeline lineno="1188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(d-&gt;<ref refid="structtdefl__compressor_1a32dd7a7684f0408712fc2b2a2e97edba" kindref="member">m_huff_codes</ref>[0][lit],<sp/>d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][lit]);</highlight></codeline>
<codeline lineno="1189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1190"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1191"><highlight class="normal"></highlight></codeline>
<codeline lineno="1192"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(d-&gt;<ref refid="structtdefl__compressor_1a32dd7a7684f0408712fc2b2a2e97edba" kindref="member">m_huff_codes</ref>[0][256],<sp/>d-&gt;<ref refid="structtdefl__compressor_1ae77276d53c663acfa812990426d45197" kindref="member">m_huff_code_sizes</ref>[0][256]);</highlight></codeline>
<codeline lineno="1193"><highlight class="normal"></highlight></codeline>
<codeline lineno="1194"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1afd5820d45d173546cc6b996fdca53689" kindref="member">m_pOutput_buf</ref><sp/>&lt;<sp/>d-&gt;<ref refid="structtdefl__compressor_1aa790d06026f9cd65e5ab373c46447694" kindref="member">m_pOutput_buf_end</ref>);</highlight></codeline>
<codeline lineno="1195"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1196"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MINIZ_USE_UNALIGNED_LOADS_AND_STORES<sp/>&amp;&amp;<sp/>MINIZ_LITTLE_ENDIAN<sp/>&amp;&amp;<sp/>MINIZ_HAS_64BIT_REGISTERS<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1197"><highlight class="normal"></highlight></codeline>
<codeline lineno="1198"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1ad390ee6c264106529198b6c5b6c6d96b" kindref="member">tdefl_compress_block</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d,<sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>static_block)</highlight></codeline>
<codeline lineno="1199"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1200"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(static_block)</highlight></codeline>
<codeline lineno="1201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a77bb6572e95227d4a0e7eff475e1ca35" kindref="member">tdefl_start_static_block</ref>(d);</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a2495a765ac27434a15efab455434e7f7" kindref="member">tdefl_start_dynamic_block</ref>(d);</highlight></codeline>
<codeline lineno="1204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a3c9a86d4f0f78987f13f113276127114" kindref="member">tdefl_compress_lz_codes</ref>(d);</highlight></codeline>
<codeline lineno="1205"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1206"><highlight class="normal"></highlight></codeline>
<codeline lineno="1207"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a1adafac587d2839277822cea5bdc224d" kindref="member">tdefl_flush_block</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flush)</highlight></codeline>
<codeline lineno="1208"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1209"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>saved_bit_buf,<sp/>saved_bits_in;</highlight></codeline>
<codeline lineno="1210"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pSaved_output_buf;</highlight></codeline>
<codeline lineno="1211"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>comp_block_succeeded<sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="1212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n,<sp/>use_raw_block<sp/>=<sp/>((d-&gt;<ref refid="structtdefl__compressor_1ac344aa36a4ec2cb54d39bea652994228" kindref="member">m_flags</ref><sp/>&amp;<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2da24f00beb8f787cbdf73b33a535be747b" kindref="member">TDEFL_FORCE_ALL_RAW_BLOCKS</ref>)<sp/>!=<sp/>0)<sp/>&amp;&amp;<sp/>(d-&gt;<ref refid="structtdefl__compressor_1a40ff57dba8b2e99a4f6cd1a709138bfe" kindref="member">m_lookahead_pos</ref><sp/>-<sp/>d-&gt;<ref refid="structtdefl__compressor_1abd08bd557ee4ad3d37667a9efbe27b08" kindref="member">m_lz_code_buf_dict_pos</ref>)<sp/>&lt;=<sp/>d-&gt;<ref refid="structtdefl__compressor_1adec95fc9dfeab97c6df6865ee960d425" kindref="member">m_dict_size</ref>;</highlight></codeline>
<codeline lineno="1213"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pOutput_buf_start<sp/>=<sp/>((d-&gt;<ref refid="structtdefl__compressor_1a744d78e0e02c77ff224a3a2eefc6c39f" kindref="member">m_pPut_buf_func</ref><sp/>==<sp/>NULL)<sp/>&amp;&amp;<sp/>((*d-&gt;<ref refid="structtdefl__compressor_1a2629e9f8046f0d2d8898303ed6e50fbf" kindref="member">m_pOut_buf_size</ref><sp/>-<sp/>d-&gt;<ref refid="structtdefl__compressor_1a9450656373de691c1e2606b272d4d6f6" kindref="member">m_out_buf_ofs</ref>)<sp/>&gt;=<sp/><ref refid="miniz_8h_1ab04a0655cd1e3bcac5e8f48c18df1a57ad79ca716ebec4ef5fa4752f32acc9418" kindref="member">TDEFL_OUT_BUF_SIZE</ref>))<sp/>?<sp/>((<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)d-&gt;<ref refid="structtdefl__compressor_1abaf4c7afc0fc8e487340c3461e8028a4" kindref="member">m_pOut_buf</ref><sp/>+<sp/>d-&gt;<ref refid="structtdefl__compressor_1a9450656373de691c1e2606b272d4d6f6" kindref="member">m_out_buf_ofs</ref>)<sp/>:<sp/>d-&gt;<ref refid="structtdefl__compressor_1af3767449a43c686c7870b4bf939c878a" kindref="member">m_output_buf</ref>;</highlight></codeline>
<codeline lineno="1214"><highlight class="normal"></highlight></codeline>
<codeline lineno="1215"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1afd5820d45d173546cc6b996fdca53689" kindref="member">m_pOutput_buf</ref><sp/>=<sp/>pOutput_buf_start;</highlight></codeline>
<codeline lineno="1216"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aa790d06026f9cd65e5ab373c46447694" kindref="member">m_pOutput_buf_end</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1afd5820d45d173546cc6b996fdca53689" kindref="member">m_pOutput_buf</ref><sp/>+<sp/><ref refid="miniz_8h_1ab04a0655cd1e3bcac5e8f48c18df1a57ad79ca716ebec4ef5fa4752f32acc9418" kindref="member">TDEFL_OUT_BUF_SIZE</ref><sp/>-<sp/>16;</highlight></codeline>
<codeline lineno="1217"><highlight class="normal"></highlight></codeline>
<codeline lineno="1218"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(!d-&gt;<ref refid="structtdefl__compressor_1a3c5fd8ac7a2f308e7e3a5a2ab2ba9961" kindref="member">m_output_flush_remaining</ref>);</highlight></codeline>
<codeline lineno="1219"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a8d5490f8411406a1e368f21f978c1aa7" kindref="member">m_output_flush_ofs</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1220"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a3c5fd8ac7a2f308e7e3a5a2ab2ba9961" kindref="member">m_output_flush_remaining</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1221"><highlight class="normal"></highlight></codeline>
<codeline lineno="1222"><highlight class="normal"><sp/><sp/><sp/><sp/>*d-&gt;<ref refid="structtdefl__compressor_1aade7b1d1a658e5cb9ae353aae2c2e704" kindref="member">m_pLZ_flags</ref><sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(*d-&gt;<ref refid="structtdefl__compressor_1aade7b1d1a658e5cb9ae353aae2c2e704" kindref="member">m_pLZ_flags</ref><sp/>&gt;&gt;<sp/>d-&gt;<ref refid="structtdefl__compressor_1a40c86e813b29892434bfd9bfd3027088" kindref="member">m_num_flags_left</ref>);</highlight></codeline>
<codeline lineno="1223"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref><sp/>-=<sp/>(d-&gt;<ref refid="structtdefl__compressor_1a40c86e813b29892434bfd9bfd3027088" kindref="member">m_num_flags_left</ref><sp/>==<sp/>8);</highlight></codeline>
<codeline lineno="1224"><highlight class="normal"></highlight></codeline>
<codeline lineno="1225"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((d-&gt;<ref refid="structtdefl__compressor_1ac344aa36a4ec2cb54d39bea652994228" kindref="member">m_flags</ref><sp/>&amp;<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2daddb3970da5e697152049482043174c63" kindref="member">TDEFL_WRITE_ZLIB_HEADER</ref>)<sp/>&amp;&amp;<sp/>(!d-&gt;<ref refid="structtdefl__compressor_1a06aa0468391490b3279acb1877475d9a" kindref="member">m_block_index</ref>))</highlight></codeline>
<codeline lineno="1226"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(0x78,<sp/>8);</highlight></codeline>
<codeline lineno="1228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(0x01,<sp/>8);</highlight></codeline>
<codeline lineno="1229"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1230"><highlight class="normal"></highlight></codeline>
<codeline lineno="1231"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(flush<sp/>==<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abfaea9e4d7ec26223f627ff02c5335b7e66" kindref="member">TDEFL_FINISH</ref>,<sp/>1);</highlight></codeline>
<codeline lineno="1232"><highlight class="normal"></highlight></codeline>
<codeline lineno="1233"><highlight class="normal"><sp/><sp/><sp/><sp/>pSaved_output_buf<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1afd5820d45d173546cc6b996fdca53689" kindref="member">m_pOutput_buf</ref>;</highlight></codeline>
<codeline lineno="1234"><highlight class="normal"><sp/><sp/><sp/><sp/>saved_bit_buf<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1aa284ab359fd885497d90995e2f6aec10" kindref="member">m_bit_buffer</ref>;</highlight></codeline>
<codeline lineno="1235"><highlight class="normal"><sp/><sp/><sp/><sp/>saved_bits_in<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1aa4e386df487da24a7451a0e16a4de3b5" kindref="member">m_bits_in</ref>;</highlight></codeline>
<codeline lineno="1236"><highlight class="normal"></highlight></codeline>
<codeline lineno="1237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!use_raw_block)</highlight></codeline>
<codeline lineno="1238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_block_succeeded<sp/>=<sp/><ref refid="miniz_8c_1ad390ee6c264106529198b6c5b6c6d96b" kindref="member">tdefl_compress_block</ref>(d,<sp/>(d-&gt;<ref refid="structtdefl__compressor_1ac344aa36a4ec2cb54d39bea652994228" kindref="member">m_flags</ref><sp/>&amp;<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2da8fd3e432af0453833eb7168b8f63a064" kindref="member">TDEFL_FORCE_ALL_STATIC_BLOCKS</ref>)<sp/>||<sp/>(d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref><sp/>&lt;<sp/>48));</highlight></codeline>
<codeline lineno="1239"><highlight class="normal"></highlight></codeline>
<codeline lineno="1240"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>the<sp/>block<sp/>gets<sp/>expanded,<sp/>forget<sp/>the<sp/>current<sp/>contents<sp/>of<sp/>the<sp/>output<sp/>buffer<sp/>and<sp/>send<sp/>a<sp/>raw<sp/>block<sp/>instead.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((use_raw_block)<sp/>||<sp/>((d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref>)<sp/>&amp;&amp;<sp/>((d-&gt;<ref refid="structtdefl__compressor_1afd5820d45d173546cc6b996fdca53689" kindref="member">m_pOutput_buf</ref><sp/>-<sp/>pSaved_output_buf<sp/>+<sp/>1U)<sp/>&gt;=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref>)))<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((d-&gt;<ref refid="structtdefl__compressor_1a40ff57dba8b2e99a4f6cd1a709138bfe" kindref="member">m_lookahead_pos</ref><sp/>-<sp/>d-&gt;<ref refid="structtdefl__compressor_1abd08bd557ee4ad3d37667a9efbe27b08" kindref="member">m_lz_code_buf_dict_pos</ref>)<sp/>&lt;=<sp/>d-&gt;<ref refid="structtdefl__compressor_1adec95fc9dfeab97c6df6865ee960d425" kindref="member">m_dict_size</ref>))</highlight></codeline>
<codeline lineno="1243"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>i;</highlight></codeline>
<codeline lineno="1245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1afd5820d45d173546cc6b996fdca53689" kindref="member">m_pOutput_buf</ref><sp/>=<sp/>pSaved_output_buf;</highlight></codeline>
<codeline lineno="1246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aa284ab359fd885497d90995e2f6aec10" kindref="member">m_bit_buffer</ref><sp/>=<sp/>saved_bit_buf,<sp/>d-&gt;<ref refid="structtdefl__compressor_1aa4e386df487da24a7451a0e16a4de3b5" kindref="member">m_bits_in</ref><sp/>=<sp/>saved_bits_in;</highlight></codeline>
<codeline lineno="1247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(0,<sp/>2);</highlight></codeline>
<codeline lineno="1248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1aa4e386df487da24a7451a0e16a4de3b5" kindref="member">m_bits_in</ref>)</highlight></codeline>
<codeline lineno="1249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(0,<sp/>8<sp/>-<sp/>d-&gt;<ref refid="structtdefl__compressor_1aa4e386df487da24a7451a0e16a4de3b5" kindref="member">m_bits_in</ref>);</highlight></codeline>
<codeline lineno="1251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>2;<sp/>i;<sp/>--i,<sp/>d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref><sp/>^=<sp/>0xFFFF)</highlight></codeline>
<codeline lineno="1253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref><sp/>&amp;<sp/>0xFFFF,<sp/>16);</highlight></codeline>
<codeline lineno="1255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref>;<sp/>++i)</highlight></codeline>
<codeline lineno="1257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[(d-&gt;<ref refid="structtdefl__compressor_1abd08bd557ee4ad3d37667a9efbe27b08" kindref="member">m_lz_code_buf_dict_pos</ref><sp/>+<sp/>i)<sp/>&amp;<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a60ad8ff42b02877e23881e2475f641d7" kindref="member">TDEFL_LZ_DICT_SIZE_MASK</ref>],<sp/>8);</highlight></codeline>
<codeline lineno="1259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1260"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>for<sp/>the<sp/>extremely<sp/>unlikely<sp/>(if<sp/>not<sp/>impossible)<sp/>case<sp/>of<sp/>the<sp/>compressed<sp/>block<sp/>not<sp/>fitting<sp/>into<sp/>the<sp/>output<sp/>buffer<sp/>when<sp/>using<sp/>dynamic<sp/>codes.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1262"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!comp_block_succeeded)</highlight></codeline>
<codeline lineno="1263"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1afd5820d45d173546cc6b996fdca53689" kindref="member">m_pOutput_buf</ref><sp/>=<sp/>pSaved_output_buf;</highlight></codeline>
<codeline lineno="1265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aa284ab359fd885497d90995e2f6aec10" kindref="member">m_bit_buffer</ref><sp/>=<sp/>saved_bit_buf,<sp/>d-&gt;<ref refid="structtdefl__compressor_1aa4e386df487da24a7451a0e16a4de3b5" kindref="member">m_bits_in</ref><sp/>=<sp/>saved_bits_in;</highlight></codeline>
<codeline lineno="1266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ad390ee6c264106529198b6c5b6c6d96b" kindref="member">tdefl_compress_block</ref>(d,<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>);</highlight></codeline>
<codeline lineno="1267"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1268"><highlight class="normal"></highlight></codeline>
<codeline lineno="1269"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flush)</highlight></codeline>
<codeline lineno="1270"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flush<sp/>==<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abfaea9e4d7ec26223f627ff02c5335b7e66" kindref="member">TDEFL_FINISH</ref>)</highlight></codeline>
<codeline lineno="1272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1aa4e386df487da24a7451a0e16a4de3b5" kindref="member">m_bits_in</ref>)</highlight></codeline>
<codeline lineno="1274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(0,<sp/>8<sp/>-<sp/>d-&gt;<ref refid="structtdefl__compressor_1aa4e386df487da24a7451a0e16a4de3b5" kindref="member">m_bits_in</ref>);</highlight></codeline>
<codeline lineno="1276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1ac344aa36a4ec2cb54d39bea652994228" kindref="member">m_flags</ref><sp/>&amp;<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2daddb3970da5e697152049482043174c63" kindref="member">TDEFL_WRITE_ZLIB_HEADER</ref>)</highlight></codeline>
<codeline lineno="1278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>i,<sp/>a<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1aee1dafacfd0672f0940e391dcb26852f" kindref="member">m_adler32</ref>;</highlight></codeline>
<codeline lineno="1280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>4;<sp/>i++)</highlight></codeline>
<codeline lineno="1281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>((a<sp/>&gt;&gt;<sp/>24)<sp/>&amp;<sp/>0xFF,<sp/>8);</highlight></codeline>
<codeline lineno="1283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a<sp/>&lt;&lt;=<sp/>8;</highlight></codeline>
<codeline lineno="1284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>i,<sp/>z<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(0,<sp/>3);</highlight></codeline>
<codeline lineno="1291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1aa4e386df487da24a7451a0e16a4de3b5" kindref="member">m_bits_in</ref>)</highlight></codeline>
<codeline lineno="1292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(0,<sp/>8<sp/>-<sp/>d-&gt;<ref refid="structtdefl__compressor_1aa4e386df487da24a7451a0e16a4de3b5" kindref="member">m_bits_in</ref>);</highlight></codeline>
<codeline lineno="1294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>2;<sp/>i;<sp/>--i,<sp/>z<sp/>^=<sp/>0xFFFF)</highlight></codeline>
<codeline lineno="1296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1afa82f58d261e57808ff2b08cf9482b1d" kindref="member">TDEFL_PUT_BITS</ref>(z<sp/>&amp;<sp/>0xFFFF,<sp/>16);</highlight></codeline>
<codeline lineno="1298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1300"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1301"><highlight class="normal"></highlight></codeline>
<codeline lineno="1302"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(d-&gt;<ref refid="structtdefl__compressor_1afd5820d45d173546cc6b996fdca53689" kindref="member">m_pOutput_buf</ref><sp/>&lt;<sp/>d-&gt;<ref refid="structtdefl__compressor_1aa790d06026f9cd65e5ab373c46447694" kindref="member">m_pOutput_buf_end</ref>);</highlight></codeline>
<codeline lineno="1303"><highlight class="normal"></highlight></codeline>
<codeline lineno="1304"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[0][0],<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[0][0])<sp/>*<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a30643ecd31dedddcdb265685027c3730" kindref="member">TDEFL_MAX_HUFF_SYMBOLS_0</ref>);</highlight></codeline>
<codeline lineno="1305"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[1][0],<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[1][0])<sp/>*<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600ab31107f9bbadea4b9a371a4c52885471" kindref="member">TDEFL_MAX_HUFF_SYMBOLS_1</ref>);</highlight></codeline>
<codeline lineno="1306"><highlight class="normal"></highlight></codeline>
<codeline lineno="1307"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1ac4233d89f25c3f5f9c9eda73bcf3e6c4" kindref="member">m_lz_code_buf</ref><sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="1308"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aade7b1d1a658e5cb9ae353aae2c2e704" kindref="member">m_pLZ_flags</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1ac4233d89f25c3f5f9c9eda73bcf3e6c4" kindref="member">m_lz_code_buf</ref>;</highlight></codeline>
<codeline lineno="1309"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a40c86e813b29892434bfd9bfd3027088" kindref="member">m_num_flags_left</ref><sp/>=<sp/>8;</highlight></codeline>
<codeline lineno="1310"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1abd08bd557ee4ad3d37667a9efbe27b08" kindref="member">m_lz_code_buf_dict_pos</ref><sp/>+=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref>;</highlight></codeline>
<codeline lineno="1311"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1312"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a06aa0468391490b3279acb1877475d9a" kindref="member">m_block_index</ref>++;</highlight></codeline>
<codeline lineno="1313"><highlight class="normal"></highlight></codeline>
<codeline lineno="1314"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((n<sp/>=<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)(d-&gt;<ref refid="structtdefl__compressor_1afd5820d45d173546cc6b996fdca53689" kindref="member">m_pOutput_buf</ref><sp/>-<sp/>pOutput_buf_start))<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="1315"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1a744d78e0e02c77ff224a3a2eefc6c39f" kindref="member">m_pPut_buf_func</ref>)</highlight></codeline>
<codeline lineno="1317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*d-&gt;<ref refid="structtdefl__compressor_1ae8da57cd67dace66f2e45ee1a51cb11f" kindref="member">m_pIn_buf_size</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a2fe623583532f09b395e99e3d25c123e" kindref="member">m_pSrc</ref><sp/>-<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)d-&gt;<ref refid="structtdefl__compressor_1ac131b5e6ff8ca9af418b01eefd77c7f9" kindref="member">m_pIn_buf</ref>;</highlight></codeline>
<codeline lineno="1319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(!(*d-&gt;<ref refid="structtdefl__compressor_1a744d78e0e02c77ff224a3a2eefc6c39f" kindref="member">m_pPut_buf_func</ref>)(d-&gt;<ref refid="structtdefl__compressor_1af3767449a43c686c7870b4bf939c878a" kindref="member">m_output_buf</ref>,<sp/>n,<sp/>d-&gt;<ref refid="structtdefl__compressor_1ad495682142ede0ea54a774a45a1e4145" kindref="member">m_pPut_buf_user</ref>))</highlight></codeline>
<codeline lineno="1320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1a58be7740c1c0bbc9bc1dc52a79e420bf" kindref="member">m_prev_return_status</ref><sp/>=<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fad33a46f2b32817746e26144ecb16687f" kindref="member">TDEFL_STATUS_PUT_BUF_FAILED</ref>);</highlight></codeline>
<codeline lineno="1321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pOutput_buf_start<sp/>==<sp/>d-&gt;<ref refid="structtdefl__compressor_1af3767449a43c686c7870b4bf939c878a" kindref="member">m_output_buf</ref>)</highlight></codeline>
<codeline lineno="1323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bytes_to_copy<sp/>=<sp/>(int)<ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>((</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)n,<sp/>(size_t)(*d-&gt;<ref refid="structtdefl__compressor_1a2629e9f8046f0d2d8898303ed6e50fbf" kindref="member">m_pOut_buf_size</ref><sp/>-<sp/>d-&gt;<ref refid="structtdefl__compressor_1a9450656373de691c1e2606b272d4d6f6" kindref="member">m_out_buf_ofs</ref>));</highlight></codeline>
<codeline lineno="1325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy((<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)d-&gt;<ref refid="structtdefl__compressor_1abaf4c7afc0fc8e487340c3461e8028a4" kindref="member">m_pOut_buf</ref><sp/>+<sp/>d-&gt;<ref refid="structtdefl__compressor_1a9450656373de691c1e2606b272d4d6f6" kindref="member">m_out_buf_ofs</ref>,<sp/>d-&gt;<ref refid="structtdefl__compressor_1af3767449a43c686c7870b4bf939c878a" kindref="member">m_output_buf</ref>,<sp/>bytes_to_copy);</highlight></codeline>
<codeline lineno="1326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a9450656373de691c1e2606b272d4d6f6" kindref="member">m_out_buf_ofs</ref><sp/>+=<sp/>bytes_to_copy;</highlight></codeline>
<codeline lineno="1327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((n<sp/>-=<sp/>bytes_to_copy)<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="1328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a8d5490f8411406a1e368f21f978c1aa7" kindref="member">m_output_flush_ofs</ref><sp/>=<sp/>bytes_to_copy;</highlight></codeline>
<codeline lineno="1330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a3c5fd8ac7a2f308e7e3a5a2ab2ba9961" kindref="member">m_output_flush_remaining</ref><sp/>=<sp/>n;</highlight></codeline>
<codeline lineno="1331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a9450656373de691c1e2606b272d4d6f6" kindref="member">m_out_buf_ofs</ref><sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="1336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1337"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1338"><highlight class="normal"></highlight></codeline>
<codeline lineno="1339"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;<ref refid="structtdefl__compressor_1a3c5fd8ac7a2f308e7e3a5a2ab2ba9961" kindref="member">m_output_flush_remaining</ref>;</highlight></codeline>
<codeline lineno="1340"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1341"><highlight class="normal"></highlight></codeline>
<codeline lineno="1342"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MINIZ_USE_UNALIGNED_LOADS_AND_STORES</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1343"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TDEFL_READ_UNALIGNED_WORD(p)<sp/>*(const<sp/>mz_uint16<sp/>*)(p)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1344"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a72ea4abdadc19539c9275883bbb5aeda" kindref="member">tdefl_find_match</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>lookahead_pos,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>max_dist,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>max_match_len,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>*pMatch_dist,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>*pMatch_len)</highlight></codeline>
<codeline lineno="1345"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1346"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>dist,<sp/>pos<sp/>=<sp/>lookahead_pos<sp/>&amp;<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a60ad8ff42b02877e23881e2475f641d7" kindref="member">TDEFL_LZ_DICT_SIZE_MASK</ref>,<sp/>match_len<sp/>=<sp/>*pMatch_len,<sp/>probe_pos<sp/>=<sp/>pos,<sp/>next_probe_pos,<sp/>probe_len;</highlight></codeline>
<codeline lineno="1347"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>num_probes_left<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a019a2a421ee743e69dc0b3abdad00d67" kindref="member">m_max_probes</ref>[match_len<sp/>&gt;=<sp/>32];</highlight></codeline>
<codeline lineno="1348"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>*s<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>*)(d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref><sp/>+<sp/>pos),<sp/>*p,<sp/>*q;</highlight></codeline>
<codeline lineno="1349"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>c01<sp/>=<sp/>TDEFL_READ_UNALIGNED_WORD(&amp;d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[pos<sp/>+<sp/>match_len<sp/>-<sp/>1]),<sp/>s01<sp/>=<sp/>TDEFL_READ_UNALIGNED_WORD(s);</highlight></codeline>
<codeline lineno="1350"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(max_match_len<sp/>&lt;=<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a0d179990872afd64535490e85825edca" kindref="member">TDEFL_MAX_MATCH_LEN</ref>);</highlight></codeline>
<codeline lineno="1351"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(max_match_len<sp/>&lt;=<sp/>match_len)</highlight></codeline>
<codeline lineno="1352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1353"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="1354"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="1356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(--num_probes_left<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="1358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1359"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TDEFL_PROBE<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="1360"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>next_probe_pos<sp/>=<sp/>d-&gt;m_next[probe_pos];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="1361"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>if<sp/>((!next_probe_pos)<sp/>||<sp/>((dist<sp/>=<sp/>(mz_uint16)(lookahead_pos<sp/>-<sp/>next_probe_pos))<sp/>&gt;<sp/>max_dist))<sp/>\</highlight></codeline>
<codeline lineno="1362"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="1363"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>probe_pos<sp/>=<sp/>next_probe_pos<sp/>&amp;<sp/>TDEFL_LZ_DICT_SIZE_MASK;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="1364"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>if<sp/>(TDEFL_READ_UNALIGNED_WORD(&amp;d-&gt;m_dict[probe_pos<sp/>+<sp/>match_len<sp/>-<sp/>1])<sp/>==<sp/>c01)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="1365"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ac784b1f49138601c5d8daab0d17f9e83" kindref="member">TDEFL_PROBE</ref>;</highlight></codeline>
<codeline lineno="1367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ac784b1f49138601c5d8daab0d17f9e83" kindref="member">TDEFL_PROBE</ref>;</highlight></codeline>
<codeline lineno="1368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ac784b1f49138601c5d8daab0d17f9e83" kindref="member">TDEFL_PROBE</ref>;</highlight></codeline>
<codeline lineno="1369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!dist)</highlight></codeline>
<codeline lineno="1371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>*)(d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref><sp/>+<sp/>probe_pos);</highlight></codeline>
<codeline lineno="1373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(TDEFL_READ_UNALIGNED_WORD(q)<sp/>!=<sp/>s01)</highlight></codeline>
<codeline lineno="1374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>s;</highlight></codeline>
<codeline lineno="1376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>probe_len<sp/>=<sp/>32;</highlight></codeline>
<codeline lineno="1377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((TDEFL_READ_UNALIGNED_WORD(++p)<sp/>==<sp/>TDEFL_READ_UNALIGNED_WORD(++q))<sp/>&amp;&amp;<sp/>(TDEFL_READ_UNALIGNED_WORD(++p)<sp/>==<sp/>TDEFL_READ_UNALIGNED_WORD(++q))<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(TDEFL_READ_UNALIGNED_WORD(++p)<sp/>==<sp/>TDEFL_READ_UNALIGNED_WORD(++q))<sp/>&amp;&amp;<sp/>(TDEFL_READ_UNALIGNED_WORD(++p)<sp/>==<sp/>TDEFL_READ_UNALIGNED_WORD(++q))<sp/>&amp;&amp;<sp/>(--probe_len<sp/>&gt;<sp/>0));</highlight></codeline>
<codeline lineno="1381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!probe_len)</highlight></codeline>
<codeline lineno="1382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pMatch_dist<sp/>=<sp/>dist;</highlight></codeline>
<codeline lineno="1384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pMatch_len<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(max_match_len,<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a0d179990872afd64535490e85825edca" kindref="member">TDEFL_MAX_MATCH_LEN</ref>);</highlight></codeline>
<codeline lineno="1385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((probe_len<sp/>=<sp/>((<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)(p<sp/>-<sp/>s)<sp/>*<sp/>2)<sp/>+<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)(*(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)p<sp/>==<sp/>*(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)q))<sp/>&gt;<sp/>match_len)</highlight></codeline>
<codeline lineno="1388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pMatch_dist<sp/>=<sp/>dist;</highlight></codeline>
<codeline lineno="1390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((*pMatch_len<sp/>=<sp/>match_len<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(max_match_len,<sp/>probe_len))<sp/>==<sp/>max_match_len)</highlight></codeline>
<codeline lineno="1391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c01<sp/>=<sp/>TDEFL_READ_UNALIGNED_WORD(&amp;d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[pos<sp/>+<sp/>match_len<sp/>-<sp/>1]);</highlight></codeline>
<codeline lineno="1393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1394"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1395"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1396"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1397"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a72ea4abdadc19539c9275883bbb5aeda" kindref="member">tdefl_find_match</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>lookahead_pos,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>max_dist,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>max_match_len,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>*pMatch_dist,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>*pMatch_len)</highlight></codeline>
<codeline lineno="1398"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1399"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>dist,<sp/>pos<sp/>=<sp/>lookahead_pos<sp/>&amp;<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a60ad8ff42b02877e23881e2475f641d7" kindref="member">TDEFL_LZ_DICT_SIZE_MASK</ref>,<sp/>match_len<sp/>=<sp/>*pMatch_len,<sp/>probe_pos<sp/>=<sp/>pos,<sp/>next_probe_pos,<sp/>probe_len;</highlight></codeline>
<codeline lineno="1400"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>num_probes_left<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a019a2a421ee743e69dc0b3abdad00d67" kindref="member">m_max_probes</ref>[match_len<sp/>&gt;=<sp/>32];</highlight></codeline>
<codeline lineno="1401"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*s<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref><sp/>+<sp/>pos,<sp/>*p,<sp/>*q;</highlight></codeline>
<codeline lineno="1402"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>c0<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[pos<sp/>+<sp/>match_len],<sp/>c1<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[pos<sp/>+<sp/>match_len<sp/>-<sp/>1];</highlight></codeline>
<codeline lineno="1403"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(max_match_len<sp/>&lt;=<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a0d179990872afd64535490e85825edca" kindref="member">TDEFL_MAX_MATCH_LEN</ref>);</highlight></codeline>
<codeline lineno="1404"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(max_match_len<sp/>&lt;=<sp/>match_len)</highlight></codeline>
<codeline lineno="1405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1406"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="1407"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="1409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(--num_probes_left<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="1411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1412"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TDEFL_PROBE<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="1413"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>next_probe_pos<sp/>=<sp/>d-&gt;m_next[probe_pos];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="1414"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>if<sp/>((!next_probe_pos)<sp/>||<sp/>((dist<sp/>=<sp/>(mz_uint16)(lookahead_pos<sp/>-<sp/>next_probe_pos))<sp/>&gt;<sp/>max_dist))<sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="1415"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="1416"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>probe_pos<sp/>=<sp/>next_probe_pos<sp/>&amp;<sp/>TDEFL_LZ_DICT_SIZE_MASK;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="1417"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>if<sp/>((d-&gt;m_dict[probe_pos<sp/>+<sp/>match_len]<sp/>==<sp/>c0)<sp/>&amp;&amp;<sp/>(d-&gt;m_dict[probe_pos<sp/>+<sp/>match_len<sp/>-<sp/>1]<sp/>==<sp/>c1))<sp/>\</highlight></codeline>
<codeline lineno="1418"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ac784b1f49138601c5d8daab0d17f9e83" kindref="member">TDEFL_PROBE</ref>;</highlight></codeline>
<codeline lineno="1420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ac784b1f49138601c5d8daab0d17f9e83" kindref="member">TDEFL_PROBE</ref>;</highlight></codeline>
<codeline lineno="1421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ac784b1f49138601c5d8daab0d17f9e83" kindref="member">TDEFL_PROBE</ref>;</highlight></codeline>
<codeline lineno="1422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!dist)</highlight></codeline>
<codeline lineno="1424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>s;</highlight></codeline>
<codeline lineno="1426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref><sp/>+<sp/>probe_pos;</highlight></codeline>
<codeline lineno="1427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(probe_len<sp/>=<sp/>0;<sp/>probe_len<sp/>&lt;<sp/>max_match_len;<sp/>probe_len++)</highlight></codeline>
<codeline lineno="1428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*p++<sp/>!=<sp/>*q++)</highlight></codeline>
<codeline lineno="1429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(probe_len<sp/>&gt;<sp/>match_len)</highlight></codeline>
<codeline lineno="1431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pMatch_dist<sp/>=<sp/>dist;</highlight></codeline>
<codeline lineno="1433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((*pMatch_len<sp/>=<sp/>match_len<sp/>=<sp/>probe_len)<sp/>==<sp/>max_match_len)</highlight></codeline>
<codeline lineno="1434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c0<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[pos<sp/>+<sp/>match_len];</highlight></codeline>
<codeline lineno="1436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c1<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[pos<sp/>+<sp/>match_len<sp/>-<sp/>1];</highlight></codeline>
<codeline lineno="1437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1438"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1439"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1440"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#if<sp/>MINIZ_USE_UNALIGNED_LOADS_AND_STORES<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1441"><highlight class="normal"></highlight></codeline>
<codeline lineno="1442"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MINIZ_USE_UNALIGNED_LOADS_AND_STORES<sp/>&amp;&amp;MINIZ_LITTLE_ENDIAN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1443"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>tdefl_compress_fast(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d)</highlight></codeline>
<codeline lineno="1444"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1445"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Faster,<sp/>minimally<sp/>featured<sp/>LZRW1-style<sp/>match+parse<sp/>loop<sp/>with<sp/>better<sp/>register<sp/>utilization.<sp/>Intended<sp/>for<sp/>applications<sp/>where<sp/>raw<sp/>throughput<sp/>is<sp/>valued<sp/>more<sp/>highly<sp/>than<sp/>ratio.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1446"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>lookahead_pos<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a40ff57dba8b2e99a4f6cd1a709138bfe" kindref="member">m_lookahead_pos</ref>,<sp/>lookahead_size<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref>,<sp/>dict_size<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1adec95fc9dfeab97c6df6865ee960d425" kindref="member">m_dict_size</ref>,<sp/>total_lz_bytes<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref>,<sp/>num_flags_left<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a40c86e813b29892434bfd9bfd3027088" kindref="member">m_num_flags_left</ref>;</highlight></codeline>
<codeline lineno="1447"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pLZ_code_buf<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref>,<sp/>*pLZ_flags<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1aade7b1d1a658e5cb9ae353aae2c2e704" kindref="member">m_pLZ_flags</ref>;</highlight></codeline>
<codeline lineno="1448"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>cur_pos<sp/>=<sp/>lookahead_pos<sp/>&amp;<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a60ad8ff42b02877e23881e2475f641d7" kindref="member">TDEFL_LZ_DICT_SIZE_MASK</ref>;</highlight></codeline>
<codeline lineno="1449"><highlight class="normal"></highlight></codeline>
<codeline lineno="1450"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((d-&gt;<ref refid="structtdefl__compressor_1a5405cb47173aa1c06cb7bb067a036f07" kindref="member">m_src_buf_left</ref>)<sp/>||<sp/>((d-&gt;<ref refid="structtdefl__compressor_1a8a3cce846b9849371735935790d8bab5" kindref="member">m_flush</ref>)<sp/>&amp;&amp;<sp/>(lookahead_size)))</highlight></codeline>
<codeline lineno="1451"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>TDEFL_COMP_FAST_LOOKAHEAD_SIZE<sp/>=<sp/>4096;</highlight></codeline>
<codeline lineno="1453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>dst_pos<sp/>=<sp/>(lookahead_pos<sp/>+<sp/>lookahead_size)<sp/>&amp;<sp/>TDEFL_LZ_DICT_SIZE_MASK;</highlight></codeline>
<codeline lineno="1454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>num_bytes_to_process<sp/>=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)<ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(d-&gt;<ref refid="structtdefl__compressor_1a5405cb47173aa1c06cb7bb067a036f07" kindref="member">m_src_buf_left</ref>,<sp/>TDEFL_COMP_FAST_LOOKAHEAD_SIZE<sp/>-<sp/>lookahead_size);</highlight></codeline>
<codeline lineno="1455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a5405cb47173aa1c06cb7bb067a036f07" kindref="member">m_src_buf_left</ref><sp/>-=<sp/>num_bytes_to_process;</highlight></codeline>
<codeline lineno="1456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lookahead_size<sp/>+=<sp/>num_bytes_to_process;</highlight></codeline>
<codeline lineno="1457"><highlight class="normal"></highlight></codeline>
<codeline lineno="1458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(num_bytes_to_process)</highlight></codeline>
<codeline lineno="1459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>n<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a784fb221e94e69893e546101919879b4" kindref="member">TDEFL_LZ_DICT_SIZE</ref><sp/>-<sp/>dst_pos,<sp/>num_bytes_to_process);</highlight></codeline>
<codeline lineno="1461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref><sp/>+<sp/>dst_pos,<sp/>d-&gt;<ref refid="structtdefl__compressor_1a2fe623583532f09b395e99e3d25c123e" kindref="member">m_pSrc</ref>,<sp/>n);</highlight></codeline>
<codeline lineno="1462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dst_pos<sp/>&lt;<sp/>(<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a0d179990872afd64535490e85825edca" kindref="member">TDEFL_MAX_MATCH_LEN</ref><sp/>-<sp/>1))</highlight></codeline>
<codeline lineno="1463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref><sp/>+<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a784fb221e94e69893e546101919879b4" kindref="member">TDEFL_LZ_DICT_SIZE</ref><sp/>+<sp/>dst_pos,<sp/>d-&gt;<ref refid="structtdefl__compressor_1a2fe623583532f09b395e99e3d25c123e" kindref="member">m_pSrc</ref>,<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(n,<sp/>(<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a0d179990872afd64535490e85825edca" kindref="member">TDEFL_MAX_MATCH_LEN</ref><sp/>-<sp/>1)<sp/>-<sp/>dst_pos));</highlight></codeline>
<codeline lineno="1464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a2fe623583532f09b395e99e3d25c123e" kindref="member">m_pSrc</ref><sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="1465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dst_pos<sp/>=<sp/>(dst_pos<sp/>+<sp/>n)<sp/>&amp;<sp/>TDEFL_LZ_DICT_SIZE_MASK;</highlight></codeline>
<codeline lineno="1466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_bytes_to_process<sp/>-=<sp/>n;</highlight></codeline>
<codeline lineno="1467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1468"><highlight class="normal"></highlight></codeline>
<codeline lineno="1469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dict_size<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a784fb221e94e69893e546101919879b4" kindref="member">TDEFL_LZ_DICT_SIZE</ref><sp/>-<sp/>lookahead_size,<sp/>dict_size);</highlight></codeline>
<codeline lineno="1470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!d-&gt;<ref refid="structtdefl__compressor_1a8a3cce846b9849371735935790d8bab5" kindref="member">m_flush</ref>)<sp/>&amp;&amp;<sp/>(lookahead_size<sp/>&lt;<sp/>TDEFL_COMP_FAST_LOOKAHEAD_SIZE))</highlight></codeline>
<codeline lineno="1471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1472"><highlight class="normal"></highlight></codeline>
<codeline lineno="1473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(lookahead_size<sp/>&gt;=<sp/>4)</highlight></codeline>
<codeline lineno="1474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>cur_match_dist,<sp/>cur_match_len<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="1476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pCur_dict<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref><sp/>+<sp/>cur_pos;</highlight></codeline>
<codeline lineno="1477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>first_trigram<sp/>=<sp/>(*(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>*)pCur_dict)<sp/>&amp;<sp/>0xFFFFFF;</highlight></codeline>
<codeline lineno="1478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>hash<sp/>=<sp/>(first_trigram<sp/>^<sp/>(first_trigram<sp/>&gt;&gt;<sp/>(24<sp/>-<sp/>(<ref refid="miniz_8h_1ab04a0655cd1e3bcac5e8f48c18df1a57a2b22a3813245c6d00c5a802f8593daf2" kindref="member">TDEFL_LZ_HASH_BITS</ref><sp/>-<sp/>8))))<sp/>&amp;<sp/><ref refid="miniz_8h_1ab04a0655cd1e3bcac5e8f48c18df1a57a202a52e3c2065cea2c36a18630e1f863" kindref="member">TDEFL_LEVEL1_HASH_SIZE_MASK</ref>;</highlight></codeline>
<codeline lineno="1479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>probe_pos<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a2dffbb84dd4d9bf24bc3b1476cbd636c" kindref="member">m_hash</ref>[hash];</highlight></codeline>
<codeline lineno="1480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a2dffbb84dd4d9bf24bc3b1476cbd636c" kindref="member">m_hash</ref>[hash]<sp/>=<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)lookahead_pos;</highlight></codeline>
<codeline lineno="1481"><highlight class="normal"></highlight></codeline>
<codeline lineno="1482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((cur_match_dist<sp/>=<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)(lookahead_pos<sp/>-<sp/>probe_pos))<sp/>&lt;=<sp/>dict_size)<sp/>&amp;&amp;<sp/>((*(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>*)(d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref><sp/>+<sp/>(probe_pos<sp/>&amp;=<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a60ad8ff42b02877e23881e2475f641d7" kindref="member">TDEFL_LZ_DICT_SIZE_MASK</ref>))<sp/>&amp;<sp/>0xFFFFFF)<sp/>==<sp/>first_trigram))</highlight></codeline>
<codeline lineno="1483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>*p<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>*)pCur_dict;</highlight></codeline>
<codeline lineno="1485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>*q<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>*)(d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref><sp/>+<sp/>probe_pos);</highlight></codeline>
<codeline lineno="1486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>probe_len<sp/>=<sp/>32;</highlight></codeline>
<codeline lineno="1487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((TDEFL_READ_UNALIGNED_WORD(++p)<sp/>==<sp/>TDEFL_READ_UNALIGNED_WORD(++q))<sp/>&amp;&amp;<sp/>(TDEFL_READ_UNALIGNED_WORD(++p)<sp/>==<sp/>TDEFL_READ_UNALIGNED_WORD(++q))<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(TDEFL_READ_UNALIGNED_WORD(++p)<sp/>==<sp/>TDEFL_READ_UNALIGNED_WORD(++q))<sp/>&amp;&amp;<sp/>(TDEFL_READ_UNALIGNED_WORD(++p)<sp/>==<sp/>TDEFL_READ_UNALIGNED_WORD(++q))<sp/>&amp;&amp;<sp/>(--probe_len<sp/>&gt;<sp/>0));</highlight></codeline>
<codeline lineno="1491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_match_len<sp/>=<sp/>((<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)(p<sp/>-<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>*)pCur_dict)<sp/>*<sp/>2)<sp/>+<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)(*(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)p<sp/>==<sp/>*(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)q);</highlight></codeline>
<codeline lineno="1492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!probe_len)</highlight></codeline>
<codeline lineno="1493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_match_len<sp/>=<sp/>cur_match_dist<sp/>?<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a0d179990872afd64535490e85825edca" kindref="member">TDEFL_MAX_MATCH_LEN</ref><sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="1494"><highlight class="normal"></highlight></codeline>
<codeline lineno="1495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((cur_match_len<sp/>&lt;<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a9697a9d6cfbbf8d8cb2c3367aec5ba9a" kindref="member">TDEFL_MIN_MATCH_LEN</ref>)<sp/>||<sp/>((cur_match_len<sp/>==<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a9697a9d6cfbbf8d8cb2c3367aec5ba9a" kindref="member">TDEFL_MIN_MATCH_LEN</ref>)<sp/>&amp;&amp;<sp/>(cur_match_dist<sp/>&gt;=<sp/>8U<sp/>*<sp/>1024U)))</highlight></codeline>
<codeline lineno="1496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_match_len<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="1498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pLZ_code_buf++<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)first_trigram;</highlight></codeline>
<codeline lineno="1499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pLZ_flags<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(*pLZ_flags<sp/>&gt;&gt;<sp/>1);</highlight></codeline>
<codeline lineno="1500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[0][(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)first_trigram]++;</highlight></codeline>
<codeline lineno="1501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>s0,<sp/>s1;</highlight></codeline>
<codeline lineno="1505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_match_len<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(cur_match_len,<sp/>lookahead_size);</highlight></codeline>
<codeline lineno="1506"><highlight class="normal"></highlight></codeline>
<codeline lineno="1507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>((cur_match_len<sp/>&gt;=<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a9697a9d6cfbbf8d8cb2c3367aec5ba9a" kindref="member">TDEFL_MIN_MATCH_LEN</ref>)<sp/>&amp;&amp;<sp/>(cur_match_dist<sp/>&gt;=<sp/>1)<sp/>&amp;&amp;<sp/>(cur_match_dist<sp/>&lt;=<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a784fb221e94e69893e546101919879b4" kindref="member">TDEFL_LZ_DICT_SIZE</ref>));</highlight></codeline>
<codeline lineno="1508"><highlight class="normal"></highlight></codeline>
<codeline lineno="1509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_match_dist--;</highlight></codeline>
<codeline lineno="1510"><highlight class="normal"></highlight></codeline>
<codeline lineno="1511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pLZ_code_buf[0]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(cur_match_len<sp/>-<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a9697a9d6cfbbf8d8cb2c3367aec5ba9a" kindref="member">TDEFL_MIN_MATCH_LEN</ref>);</highlight></codeline>
<codeline lineno="1512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>*)(&amp;pLZ_code_buf[1])<sp/>=<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)cur_match_dist;</highlight></codeline>
<codeline lineno="1513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pLZ_code_buf<sp/>+=<sp/>3;</highlight></codeline>
<codeline lineno="1514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pLZ_flags<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)((*pLZ_flags<sp/>&gt;&gt;<sp/>1)<sp/>|<sp/>0x80);</highlight></codeline>
<codeline lineno="1515"><highlight class="normal"></highlight></codeline>
<codeline lineno="1516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s0<sp/>=<sp/>s_tdefl_small_dist_sym[cur_match_dist<sp/>&amp;<sp/>511];</highlight></codeline>
<codeline lineno="1517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>=<sp/>s_tdefl_large_dist_sym[cur_match_dist<sp/>&gt;&gt;<sp/>8];</highlight></codeline>
<codeline lineno="1518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[1][(cur_match_dist<sp/>&lt;<sp/>512)<sp/>?<sp/>s0<sp/>:<sp/>s1]++;</highlight></codeline>
<codeline lineno="1519"><highlight class="normal"></highlight></codeline>
<codeline lineno="1520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[0][s_tdefl_len_sym[cur_match_len<sp/>-<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a9697a9d6cfbbf8d8cb2c3367aec5ba9a" kindref="member">TDEFL_MIN_MATCH_LEN</ref>]]++;</highlight></codeline>
<codeline lineno="1521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pLZ_code_buf++<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)first_trigram;</highlight></codeline>
<codeline lineno="1526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pLZ_flags<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(*pLZ_flags<sp/>&gt;&gt;<sp/>1);</highlight></codeline>
<codeline lineno="1527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[0][(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)first_trigram]++;</highlight></codeline>
<codeline lineno="1528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1529"><highlight class="normal"></highlight></codeline>
<codeline lineno="1530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(--num_flags_left<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="1531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_flags_left<sp/>=<sp/>8;</highlight></codeline>
<codeline lineno="1533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pLZ_flags<sp/>=<sp/>pLZ_code_buf++;</highlight></codeline>
<codeline lineno="1534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1535"><highlight class="normal"></highlight></codeline>
<codeline lineno="1536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>total_lz_bytes<sp/>+=<sp/>cur_match_len;</highlight></codeline>
<codeline lineno="1537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lookahead_pos<sp/>+=<sp/>cur_match_len;</highlight></codeline>
<codeline lineno="1538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dict_size<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(dict_size<sp/>+<sp/>cur_match_len,<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a784fb221e94e69893e546101919879b4" kindref="member">TDEFL_LZ_DICT_SIZE</ref>);</highlight></codeline>
<codeline lineno="1539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_pos<sp/>=<sp/>(cur_pos<sp/>+<sp/>cur_match_len)<sp/>&amp;<sp/>TDEFL_LZ_DICT_SIZE_MASK;</highlight></codeline>
<codeline lineno="1540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(lookahead_size<sp/>&gt;=<sp/>cur_match_len);</highlight></codeline>
<codeline lineno="1541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lookahead_size<sp/>-=<sp/>cur_match_len;</highlight></codeline>
<codeline lineno="1542"><highlight class="normal"></highlight></codeline>
<codeline lineno="1543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pLZ_code_buf<sp/>&gt;<sp/>&amp;d-&gt;<ref refid="structtdefl__compressor_1ac4233d89f25c3f5f9c9eda73bcf3e6c4" kindref="member">m_lz_code_buf</ref>[<ref refid="miniz_8h_1ab04a0655cd1e3bcac5e8f48c18df1a57aa31c23d99c4bf4bb9857de2286b6d7e6" kindref="member">TDEFL_LZ_CODE_BUF_SIZE</ref><sp/>-<sp/>8])</highlight></codeline>
<codeline lineno="1544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n;</highlight></codeline>
<codeline lineno="1546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a40ff57dba8b2e99a4f6cd1a709138bfe" kindref="member">m_lookahead_pos</ref><sp/>=<sp/>lookahead_pos;</highlight></codeline>
<codeline lineno="1547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref><sp/>=<sp/>lookahead_size;</highlight></codeline>
<codeline lineno="1548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1adec95fc9dfeab97c6df6865ee960d425" kindref="member">m_dict_size</ref><sp/>=<sp/>dict_size;</highlight></codeline>
<codeline lineno="1549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref><sp/>=<sp/>total_lz_bytes;</highlight></codeline>
<codeline lineno="1550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref><sp/>=<sp/>pLZ_code_buf;</highlight></codeline>
<codeline lineno="1551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aade7b1d1a658e5cb9ae353aae2c2e704" kindref="member">m_pLZ_flags</ref><sp/>=<sp/>pLZ_flags;</highlight></codeline>
<codeline lineno="1552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a40c86e813b29892434bfd9bfd3027088" kindref="member">m_num_flags_left</ref><sp/>=<sp/>num_flags_left;</highlight></codeline>
<codeline lineno="1553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((n<sp/>=<sp/><ref refid="miniz_8c_1a1adafac587d2839277822cea5bdc224d" kindref="member">tdefl_flush_block</ref>(d,<sp/>0))<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="1554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(n<sp/>&lt;<sp/>0)<sp/>?<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref><sp/>:<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="1555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>total_lz_bytes<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref>;</highlight></codeline>
<codeline lineno="1556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pLZ_code_buf<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref>;</highlight></codeline>
<codeline lineno="1557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pLZ_flags<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1aade7b1d1a658e5cb9ae353aae2c2e704" kindref="member">m_pLZ_flags</ref>;</highlight></codeline>
<codeline lineno="1558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_flags_left<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a40c86e813b29892434bfd9bfd3027088" kindref="member">m_num_flags_left</ref>;</highlight></codeline>
<codeline lineno="1559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1561"><highlight class="normal"></highlight></codeline>
<codeline lineno="1562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(lookahead_size)</highlight></codeline>
<codeline lineno="1563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>lit<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[cur_pos];</highlight></codeline>
<codeline lineno="1565"><highlight class="normal"></highlight></codeline>
<codeline lineno="1566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>total_lz_bytes++;</highlight></codeline>
<codeline lineno="1567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pLZ_code_buf++<sp/>=<sp/>lit;</highlight></codeline>
<codeline lineno="1568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pLZ_flags<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(*pLZ_flags<sp/>&gt;&gt;<sp/>1);</highlight></codeline>
<codeline lineno="1569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(--num_flags_left<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="1570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_flags_left<sp/>=<sp/>8;</highlight></codeline>
<codeline lineno="1572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pLZ_flags<sp/>=<sp/>pLZ_code_buf++;</highlight></codeline>
<codeline lineno="1573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1574"><highlight class="normal"></highlight></codeline>
<codeline lineno="1575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[0][lit]++;</highlight></codeline>
<codeline lineno="1576"><highlight class="normal"></highlight></codeline>
<codeline lineno="1577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lookahead_pos++;</highlight></codeline>
<codeline lineno="1578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dict_size<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(dict_size<sp/>+<sp/>1,<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a784fb221e94e69893e546101919879b4" kindref="member">TDEFL_LZ_DICT_SIZE</ref>);</highlight></codeline>
<codeline lineno="1579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_pos<sp/>=<sp/>(cur_pos<sp/>+<sp/>1)<sp/>&amp;<sp/>TDEFL_LZ_DICT_SIZE_MASK;</highlight></codeline>
<codeline lineno="1580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lookahead_size--;</highlight></codeline>
<codeline lineno="1581"><highlight class="normal"></highlight></codeline>
<codeline lineno="1582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pLZ_code_buf<sp/>&gt;<sp/>&amp;d-&gt;<ref refid="structtdefl__compressor_1ac4233d89f25c3f5f9c9eda73bcf3e6c4" kindref="member">m_lz_code_buf</ref>[<ref refid="miniz_8h_1ab04a0655cd1e3bcac5e8f48c18df1a57aa31c23d99c4bf4bb9857de2286b6d7e6" kindref="member">TDEFL_LZ_CODE_BUF_SIZE</ref><sp/>-<sp/>8])</highlight></codeline>
<codeline lineno="1583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n;</highlight></codeline>
<codeline lineno="1585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a40ff57dba8b2e99a4f6cd1a709138bfe" kindref="member">m_lookahead_pos</ref><sp/>=<sp/>lookahead_pos;</highlight></codeline>
<codeline lineno="1586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref><sp/>=<sp/>lookahead_size;</highlight></codeline>
<codeline lineno="1587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1adec95fc9dfeab97c6df6865ee960d425" kindref="member">m_dict_size</ref><sp/>=<sp/>dict_size;</highlight></codeline>
<codeline lineno="1588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref><sp/>=<sp/>total_lz_bytes;</highlight></codeline>
<codeline lineno="1589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref><sp/>=<sp/>pLZ_code_buf;</highlight></codeline>
<codeline lineno="1590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aade7b1d1a658e5cb9ae353aae2c2e704" kindref="member">m_pLZ_flags</ref><sp/>=<sp/>pLZ_flags;</highlight></codeline>
<codeline lineno="1591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a40c86e813b29892434bfd9bfd3027088" kindref="member">m_num_flags_left</ref><sp/>=<sp/>num_flags_left;</highlight></codeline>
<codeline lineno="1592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((n<sp/>=<sp/><ref refid="miniz_8c_1a1adafac587d2839277822cea5bdc224d" kindref="member">tdefl_flush_block</ref>(d,<sp/>0))<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="1593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(n<sp/>&lt;<sp/>0)<sp/>?<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref><sp/>:<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="1594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>total_lz_bytes<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref>;</highlight></codeline>
<codeline lineno="1595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pLZ_code_buf<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref>;</highlight></codeline>
<codeline lineno="1596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pLZ_flags<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1aade7b1d1a658e5cb9ae353aae2c2e704" kindref="member">m_pLZ_flags</ref>;</highlight></codeline>
<codeline lineno="1597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_flags_left<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a40c86e813b29892434bfd9bfd3027088" kindref="member">m_num_flags_left</ref>;</highlight></codeline>
<codeline lineno="1598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1600"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1601"><highlight class="normal"></highlight></codeline>
<codeline lineno="1602"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a40ff57dba8b2e99a4f6cd1a709138bfe" kindref="member">m_lookahead_pos</ref><sp/>=<sp/>lookahead_pos;</highlight></codeline>
<codeline lineno="1603"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref><sp/>=<sp/>lookahead_size;</highlight></codeline>
<codeline lineno="1604"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1adec95fc9dfeab97c6df6865ee960d425" kindref="member">m_dict_size</ref><sp/>=<sp/>dict_size;</highlight></codeline>
<codeline lineno="1605"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref><sp/>=<sp/>total_lz_bytes;</highlight></codeline>
<codeline lineno="1606"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref><sp/>=<sp/>pLZ_code_buf;</highlight></codeline>
<codeline lineno="1607"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aade7b1d1a658e5cb9ae353aae2c2e704" kindref="member">m_pLZ_flags</ref><sp/>=<sp/>pLZ_flags;</highlight></codeline>
<codeline lineno="1608"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a40c86e813b29892434bfd9bfd3027088" kindref="member">m_num_flags_left</ref><sp/>=<sp/>num_flags_left;</highlight></codeline>
<codeline lineno="1609"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="1610"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1611"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MINIZ_USE_UNALIGNED_LOADS_AND_STORES<sp/>&amp;&amp;<sp/>MINIZ_LITTLE_ENDIAN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1612"><highlight class="normal"></highlight></codeline>
<codeline lineno="1613"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1aa1d7593a37246e096639528e5fe7c1c0" kindref="member">tdefl_record_literal</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d,<sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>lit)</highlight></codeline>
<codeline lineno="1614"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1615"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref>++;</highlight></codeline>
<codeline lineno="1616"><highlight class="normal"><sp/><sp/><sp/><sp/>*d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref>++<sp/>=<sp/>lit;</highlight></codeline>
<codeline lineno="1617"><highlight class="normal"><sp/><sp/><sp/><sp/>*d-&gt;<ref refid="structtdefl__compressor_1aade7b1d1a658e5cb9ae353aae2c2e704" kindref="member">m_pLZ_flags</ref><sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(*d-&gt;<ref refid="structtdefl__compressor_1aade7b1d1a658e5cb9ae353aae2c2e704" kindref="member">m_pLZ_flags</ref><sp/>&gt;&gt;<sp/>1);</highlight></codeline>
<codeline lineno="1618"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(--d-&gt;<ref refid="structtdefl__compressor_1a40c86e813b29892434bfd9bfd3027088" kindref="member">m_num_flags_left</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="1619"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a40c86e813b29892434bfd9bfd3027088" kindref="member">m_num_flags_left</ref><sp/>=<sp/>8;</highlight></codeline>
<codeline lineno="1621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aade7b1d1a658e5cb9ae353aae2c2e704" kindref="member">m_pLZ_flags</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref>++;</highlight></codeline>
<codeline lineno="1622"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1623"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[0][lit]++;</highlight></codeline>
<codeline lineno="1624"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1625"><highlight class="normal"></highlight></codeline>
<codeline lineno="1626"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1ad67ea1952b814c7b86267773ebf8da84" kindref="member">tdefl_record_match</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>match_len,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>match_dist)</highlight></codeline>
<codeline lineno="1627"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1628"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>s0,<sp/>s1;</highlight></codeline>
<codeline lineno="1629"><highlight class="normal"></highlight></codeline>
<codeline lineno="1630"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>((match_len<sp/>&gt;=<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a9697a9d6cfbbf8d8cb2c3367aec5ba9a" kindref="member">TDEFL_MIN_MATCH_LEN</ref>)<sp/>&amp;&amp;<sp/>(match_dist<sp/>&gt;=<sp/>1)<sp/>&amp;&amp;<sp/>(match_dist<sp/>&lt;=<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a784fb221e94e69893e546101919879b4" kindref="member">TDEFL_LZ_DICT_SIZE</ref>));</highlight></codeline>
<codeline lineno="1631"><highlight class="normal"></highlight></codeline>
<codeline lineno="1632"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref><sp/>+=<sp/>match_len;</highlight></codeline>
<codeline lineno="1633"><highlight class="normal"></highlight></codeline>
<codeline lineno="1634"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref>[0]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(match_len<sp/>-<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a9697a9d6cfbbf8d8cb2c3367aec5ba9a" kindref="member">TDEFL_MIN_MATCH_LEN</ref>);</highlight></codeline>
<codeline lineno="1635"><highlight class="normal"></highlight></codeline>
<codeline lineno="1636"><highlight class="normal"><sp/><sp/><sp/><sp/>match_dist<sp/>-=<sp/>1;</highlight></codeline>
<codeline lineno="1637"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref>[1]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(match_dist<sp/>&amp;<sp/>0xFF);</highlight></codeline>
<codeline lineno="1638"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref>[2]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(match_dist<sp/>&gt;&gt;<sp/>8);</highlight></codeline>
<codeline lineno="1639"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref><sp/>+=<sp/>3;</highlight></codeline>
<codeline lineno="1640"><highlight class="normal"></highlight></codeline>
<codeline lineno="1641"><highlight class="normal"><sp/><sp/><sp/><sp/>*d-&gt;<ref refid="structtdefl__compressor_1aade7b1d1a658e5cb9ae353aae2c2e704" kindref="member">m_pLZ_flags</ref><sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)((*d-&gt;<ref refid="structtdefl__compressor_1aade7b1d1a658e5cb9ae353aae2c2e704" kindref="member">m_pLZ_flags</ref><sp/>&gt;&gt;<sp/>1)<sp/>|<sp/>0x80);</highlight></codeline>
<codeline lineno="1642"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(--d-&gt;<ref refid="structtdefl__compressor_1a40c86e813b29892434bfd9bfd3027088" kindref="member">m_num_flags_left</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="1643"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a40c86e813b29892434bfd9bfd3027088" kindref="member">m_num_flags_left</ref><sp/>=<sp/>8;</highlight></codeline>
<codeline lineno="1645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aade7b1d1a658e5cb9ae353aae2c2e704" kindref="member">m_pLZ_flags</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref>++;</highlight></codeline>
<codeline lineno="1646"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1647"><highlight class="normal"></highlight></codeline>
<codeline lineno="1648"><highlight class="normal"><sp/><sp/><sp/><sp/>s0<sp/>=<sp/>s_tdefl_small_dist_sym[match_dist<sp/>&amp;<sp/>511];</highlight></codeline>
<codeline lineno="1649"><highlight class="normal"><sp/><sp/><sp/><sp/>s1<sp/>=<sp/>s_tdefl_large_dist_sym[(match_dist<sp/>&gt;&gt;<sp/>8)<sp/>&amp;<sp/>127];</highlight></codeline>
<codeline lineno="1650"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[1][(match_dist<sp/>&lt;<sp/>512)<sp/>?<sp/>s0<sp/>:<sp/>s1]++;</highlight></codeline>
<codeline lineno="1651"><highlight class="normal"></highlight></codeline>
<codeline lineno="1652"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(match_len<sp/>&gt;=<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a9697a9d6cfbbf8d8cb2c3367aec5ba9a" kindref="member">TDEFL_MIN_MATCH_LEN</ref>)</highlight></codeline>
<codeline lineno="1653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[0][s_tdefl_len_sym[match_len<sp/>-<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a9697a9d6cfbbf8d8cb2c3367aec5ba9a" kindref="member">TDEFL_MIN_MATCH_LEN</ref>]]++;</highlight></codeline>
<codeline lineno="1654"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1655"><highlight class="normal"></highlight></codeline>
<codeline lineno="1656"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a693b5cf938e6f7d2fc439f8ab65ea466" kindref="member">tdefl_compress_normal</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d)</highlight></codeline>
<codeline lineno="1657"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1658"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pSrc<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a2fe623583532f09b395e99e3d25c123e" kindref="member">m_pSrc</ref>;</highlight></codeline>
<codeline lineno="1659"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>src_buf_left<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a5405cb47173aa1c06cb7bb067a036f07" kindref="member">m_src_buf_left</ref>;</highlight></codeline>
<codeline lineno="1660"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abf" kindref="member">tdefl_flush</ref><sp/>flush<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a8a3cce846b9849371735935790d8bab5" kindref="member">m_flush</ref>;</highlight></codeline>
<codeline lineno="1661"><highlight class="normal"></highlight></codeline>
<codeline lineno="1662"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((src_buf_left)<sp/>||<sp/>((flush)<sp/>&amp;&amp;<sp/>(d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref>)))</highlight></codeline>
<codeline lineno="1663"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>len_to_move,<sp/>cur_match_dist,<sp/>cur_match_len,<sp/>cur_pos;</highlight></codeline>
<codeline lineno="1665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>dictionary<sp/>and<sp/>hash<sp/>chains.<sp/>Keeps<sp/>the<sp/>lookahead<sp/>size<sp/>equal<sp/>to<sp/>TDEFL_MAX_MATCH_LEN.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref><sp/>+<sp/>d-&gt;<ref refid="structtdefl__compressor_1adec95fc9dfeab97c6df6865ee960d425" kindref="member">m_dict_size</ref>)<sp/>&gt;=<sp/>(<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a9697a9d6cfbbf8d8cb2c3367aec5ba9a" kindref="member">TDEFL_MIN_MATCH_LEN</ref><sp/>-<sp/>1))</highlight></codeline>
<codeline lineno="1667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>dst_pos<sp/>=<sp/>(d-&gt;<ref refid="structtdefl__compressor_1a40ff57dba8b2e99a4f6cd1a709138bfe" kindref="member">m_lookahead_pos</ref><sp/>+<sp/>d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref>)<sp/>&amp;<sp/>TDEFL_LZ_DICT_SIZE_MASK,<sp/>ins_pos<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a40ff57dba8b2e99a4f6cd1a709138bfe" kindref="member">m_lookahead_pos</ref><sp/>+<sp/>d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref><sp/>-<sp/>2;</highlight></codeline>
<codeline lineno="1669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>hash<sp/>=<sp/>(d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[ins_pos<sp/>&amp;<sp/>TDEFL_LZ_DICT_SIZE_MASK]<sp/>&lt;&lt;<sp/><ref refid="miniz_8h_1ab04a0655cd1e3bcac5e8f48c18df1a57ab7e1aa0f0ee51ac5ed2976f7af52d138" kindref="member">TDEFL_LZ_HASH_SHIFT</ref>)<sp/>^<sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[(ins_pos<sp/>+<sp/>1)<sp/>&amp;<sp/>TDEFL_LZ_DICT_SIZE_MASK];</highlight></codeline>
<codeline lineno="1670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>num_bytes_to_process<sp/>=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)<ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(src_buf_left,<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a0d179990872afd64535490e85825edca" kindref="member">TDEFL_MAX_MATCH_LEN</ref><sp/>-<sp/>d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref>);</highlight></codeline>
<codeline lineno="1671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pSrc_end<sp/>=<sp/>pSrc<sp/>+<sp/>num_bytes_to_process;</highlight></codeline>
<codeline lineno="1672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>src_buf_left<sp/>-=<sp/>num_bytes_to_process;</highlight></codeline>
<codeline lineno="1673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref><sp/>+=<sp/>num_bytes_to_process;</highlight></codeline>
<codeline lineno="1674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(pSrc<sp/>!=<sp/>pSrc_end)</highlight></codeline>
<codeline lineno="1675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>c<sp/>=<sp/>*pSrc++;</highlight></codeline>
<codeline lineno="1677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[dst_pos]<sp/>=<sp/>c;</highlight></codeline>
<codeline lineno="1678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dst_pos<sp/>&lt;<sp/>(<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a0d179990872afd64535490e85825edca" kindref="member">TDEFL_MAX_MATCH_LEN</ref><sp/>-<sp/>1))</highlight></codeline>
<codeline lineno="1679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a784fb221e94e69893e546101919879b4" kindref="member">TDEFL_LZ_DICT_SIZE</ref><sp/>+<sp/>dst_pos]<sp/>=<sp/>c;</highlight></codeline>
<codeline lineno="1680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hash<sp/>=<sp/>((hash<sp/>&lt;&lt;<sp/><ref refid="miniz_8h_1ab04a0655cd1e3bcac5e8f48c18df1a57ab7e1aa0f0ee51ac5ed2976f7af52d138" kindref="member">TDEFL_LZ_HASH_SHIFT</ref>)<sp/>^<sp/>c)<sp/>&amp;<sp/>(<ref refid="miniz_8h_1ab04a0655cd1e3bcac5e8f48c18df1a57a2dc98b78800f2aa4dffe5438b01bd4c0" kindref="member">TDEFL_LZ_HASH_SIZE</ref><sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="1681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aa55f0314f4b7bfff6999060bdf2d96fc" kindref="member">m_next</ref>[ins_pos<sp/>&amp;<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a60ad8ff42b02877e23881e2475f641d7" kindref="member">TDEFL_LZ_DICT_SIZE_MASK</ref>]<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a2dffbb84dd4d9bf24bc3b1476cbd636c" kindref="member">m_hash</ref>[hash];</highlight></codeline>
<codeline lineno="1682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a2dffbb84dd4d9bf24bc3b1476cbd636c" kindref="member">m_hash</ref>[hash]<sp/>=<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)(ins_pos);</highlight></codeline>
<codeline lineno="1683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dst_pos<sp/>=<sp/>(dst_pos<sp/>+<sp/>1)<sp/>&amp;<sp/>TDEFL_LZ_DICT_SIZE_MASK;</highlight></codeline>
<codeline lineno="1684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ins_pos++;</highlight></codeline>
<codeline lineno="1685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((src_buf_left)<sp/>&amp;&amp;<sp/>(d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref><sp/>&lt;<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a0d179990872afd64535490e85825edca" kindref="member">TDEFL_MAX_MATCH_LEN</ref>))</highlight></codeline>
<codeline lineno="1690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>c<sp/>=<sp/>*pSrc++;</highlight></codeline>
<codeline lineno="1692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>dst_pos<sp/>=<sp/>(d-&gt;<ref refid="structtdefl__compressor_1a40ff57dba8b2e99a4f6cd1a709138bfe" kindref="member">m_lookahead_pos</ref><sp/>+<sp/>d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref>)<sp/>&amp;<sp/>TDEFL_LZ_DICT_SIZE_MASK;</highlight></codeline>
<codeline lineno="1693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>src_buf_left--;</highlight></codeline>
<codeline lineno="1694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[dst_pos]<sp/>=<sp/>c;</highlight></codeline>
<codeline lineno="1695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dst_pos<sp/>&lt;<sp/>(<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a0d179990872afd64535490e85825edca" kindref="member">TDEFL_MAX_MATCH_LEN</ref><sp/>-<sp/>1))</highlight></codeline>
<codeline lineno="1696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a784fb221e94e69893e546101919879b4" kindref="member">TDEFL_LZ_DICT_SIZE</ref><sp/>+<sp/>dst_pos]<sp/>=<sp/>c;</highlight></codeline>
<codeline lineno="1697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>((++d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref><sp/>+<sp/>d-&gt;<ref refid="structtdefl__compressor_1adec95fc9dfeab97c6df6865ee960d425" kindref="member">m_dict_size</ref>)<sp/>&gt;=<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a9697a9d6cfbbf8d8cb2c3367aec5ba9a" kindref="member">TDEFL_MIN_MATCH_LEN</ref>)</highlight></codeline>
<codeline lineno="1698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>ins_pos<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a40ff57dba8b2e99a4f6cd1a709138bfe" kindref="member">m_lookahead_pos</ref><sp/>+<sp/>(d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref><sp/>-<sp/>1)<sp/>-<sp/>2;</highlight></codeline>
<codeline lineno="1700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>hash<sp/>=<sp/>((d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[ins_pos<sp/>&amp;<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a60ad8ff42b02877e23881e2475f641d7" kindref="member">TDEFL_LZ_DICT_SIZE_MASK</ref>]<sp/>&lt;&lt;<sp/>(<ref refid="miniz_8h_1ab04a0655cd1e3bcac5e8f48c18df1a57ab7e1aa0f0ee51ac5ed2976f7af52d138" kindref="member">TDEFL_LZ_HASH_SHIFT</ref><sp/>*<sp/>2))<sp/>^<sp/>(d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[(ins_pos<sp/>+<sp/>1)<sp/>&amp;<sp/>TDEFL_LZ_DICT_SIZE_MASK]<sp/>&lt;&lt;<sp/><ref refid="miniz_8h_1ab04a0655cd1e3bcac5e8f48c18df1a57ab7e1aa0f0ee51ac5ed2976f7af52d138" kindref="member">TDEFL_LZ_HASH_SHIFT</ref>)<sp/>^<sp/>c)<sp/>&amp;<sp/>(<ref refid="miniz_8h_1ab04a0655cd1e3bcac5e8f48c18df1a57a2dc98b78800f2aa4dffe5438b01bd4c0" kindref="member">TDEFL_LZ_HASH_SIZE</ref><sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="1701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aa55f0314f4b7bfff6999060bdf2d96fc" kindref="member">m_next</ref>[ins_pos<sp/>&amp;<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a60ad8ff42b02877e23881e2475f641d7" kindref="member">TDEFL_LZ_DICT_SIZE_MASK</ref>]<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a2dffbb84dd4d9bf24bc3b1476cbd636c" kindref="member">m_hash</ref>[hash];</highlight></codeline>
<codeline lineno="1702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a2dffbb84dd4d9bf24bc3b1476cbd636c" kindref="member">m_hash</ref>[hash]<sp/>=<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)(ins_pos);</highlight></codeline>
<codeline lineno="1703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1adec95fc9dfeab97c6df6865ee960d425" kindref="member">m_dict_size</ref><sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a784fb221e94e69893e546101919879b4" kindref="member">TDEFL_LZ_DICT_SIZE</ref><sp/>-<sp/>d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref>,<sp/>d-&gt;<ref refid="structtdefl__compressor_1adec95fc9dfeab97c6df6865ee960d425" kindref="member">m_dict_size</ref>);</highlight></codeline>
<codeline lineno="1707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!flush)<sp/>&amp;&amp;<sp/>(d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref><sp/>&lt;<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a0d179990872afd64535490e85825edca" kindref="member">TDEFL_MAX_MATCH_LEN</ref>))</highlight></codeline>
<codeline lineno="1708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1709"><highlight class="normal"></highlight></codeline>
<codeline lineno="1710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Simple<sp/>lazy/greedy<sp/>parsing<sp/>state<sp/>machine.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>len_to_move<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="1712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_match_dist<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_match_len<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1ab36eefb0ddf349133c84fd9bb418b63f" kindref="member">m_saved_match_len</ref><sp/>?<sp/>d-&gt;<ref refid="structtdefl__compressor_1ab36eefb0ddf349133c84fd9bb418b63f" kindref="member">m_saved_match_len</ref><sp/>:<sp/>(<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a9697a9d6cfbbf8d8cb2c3367aec5ba9a" kindref="member">TDEFL_MIN_MATCH_LEN</ref><sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="1714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_pos<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a40ff57dba8b2e99a4f6cd1a709138bfe" kindref="member">m_lookahead_pos</ref><sp/>&amp;<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a60ad8ff42b02877e23881e2475f641d7" kindref="member">TDEFL_LZ_DICT_SIZE_MASK</ref>;</highlight></codeline>
<codeline lineno="1715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1ac344aa36a4ec2cb54d39bea652994228" kindref="member">m_flags</ref><sp/>&amp;<sp/>(<ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2dafc9a53ebb5a5fdb1d1727eef9b21a524" kindref="member">TDEFL_RLE_MATCHES</ref><sp/>|<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2da24f00beb8f787cbdf73b33a535be747b" kindref="member">TDEFL_FORCE_ALL_RAW_BLOCKS</ref>))</highlight></codeline>
<codeline lineno="1716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((d-&gt;<ref refid="structtdefl__compressor_1adec95fc9dfeab97c6df6865ee960d425" kindref="member">m_dict_size</ref>)<sp/>&amp;&amp;<sp/>(!(d-&gt;<ref refid="structtdefl__compressor_1ac344aa36a4ec2cb54d39bea652994228" kindref="member">m_flags</ref><sp/>&amp;<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2da24f00beb8f787cbdf73b33a535be747b" kindref="member">TDEFL_FORCE_ALL_RAW_BLOCKS</ref>)))</highlight></codeline>
<codeline lineno="1718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>c<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[(cur_pos<sp/>-<sp/>1)<sp/>&amp;<sp/>TDEFL_LZ_DICT_SIZE_MASK];</highlight></codeline>
<codeline lineno="1720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_match_len<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(cur_match_len<sp/>&lt;<sp/>d-&gt;m_lookahead_size)</highlight></codeline>
<codeline lineno="1722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[cur_pos<sp/>+<sp/>cur_match_len]<sp/>!=<sp/>c)</highlight></codeline>
<codeline lineno="1724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_match_len++;</highlight></codeline>
<codeline lineno="1726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cur_match_len<sp/>&lt;<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a9697a9d6cfbbf8d8cb2c3367aec5ba9a" kindref="member">TDEFL_MIN_MATCH_LEN</ref>)</highlight></codeline>
<codeline lineno="1728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_match_len<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_match_dist<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="1731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a72ea4abdadc19539c9275883bbb5aeda" kindref="member">tdefl_find_match</ref>(d,<sp/>d-&gt;<ref refid="structtdefl__compressor_1a40ff57dba8b2e99a4f6cd1a709138bfe" kindref="member">m_lookahead_pos</ref>,<sp/>d-&gt;<ref refid="structtdefl__compressor_1adec95fc9dfeab97c6df6865ee960d425" kindref="member">m_dict_size</ref>,<sp/>d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref>,<sp/>&amp;cur_match_dist,<sp/>&amp;cur_match_len);</highlight></codeline>
<codeline lineno="1736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((cur_match_len<sp/>==<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a9697a9d6cfbbf8d8cb2c3367aec5ba9a" kindref="member">TDEFL_MIN_MATCH_LEN</ref>)<sp/>&amp;&amp;<sp/>(cur_match_dist<sp/>&gt;=<sp/>8U<sp/>*<sp/>1024U))<sp/>||<sp/>(cur_pos<sp/>==<sp/>cur_match_dist)<sp/>||<sp/>((d-&gt;<ref refid="structtdefl__compressor_1ac344aa36a4ec2cb54d39bea652994228" kindref="member">m_flags</ref><sp/>&amp;<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2dabea695964526498a4a869b3172e39707" kindref="member">TDEFL_FILTER_MATCHES</ref>)<sp/>&amp;&amp;<sp/>(cur_match_len<sp/>&lt;=<sp/>5)))</highlight></codeline>
<codeline lineno="1738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_match_dist<sp/>=<sp/>cur_match_len<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1ab36eefb0ddf349133c84fd9bb418b63f" kindref="member">m_saved_match_len</ref>)</highlight></codeline>
<codeline lineno="1742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cur_match_len<sp/>&gt;<sp/>d-&gt;<ref refid="structtdefl__compressor_1ab36eefb0ddf349133c84fd9bb418b63f" kindref="member">m_saved_match_len</ref>)</highlight></codeline>
<codeline lineno="1744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1aa1d7593a37246e096639528e5fe7c1c0" kindref="member">tdefl_record_literal</ref>(d,<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)d-&gt;<ref refid="structtdefl__compressor_1a161b24984ce5e86f7c36378b9145a8a5" kindref="member">m_saved_lit</ref>);</highlight></codeline>
<codeline lineno="1746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cur_match_len<sp/>&gt;=<sp/>128)</highlight></codeline>
<codeline lineno="1747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ad67ea1952b814c7b86267773ebf8da84" kindref="member">tdefl_record_match</ref>(d,<sp/>cur_match_len,<sp/>cur_match_dist);</highlight></codeline>
<codeline lineno="1749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ab36eefb0ddf349133c84fd9bb418b63f" kindref="member">m_saved_match_len</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>len_to_move<sp/>=<sp/>cur_match_len;</highlight></codeline>
<codeline lineno="1751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a161b24984ce5e86f7c36378b9145a8a5" kindref="member">m_saved_lit</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[cur_pos];</highlight></codeline>
<codeline lineno="1755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a181e0aa6797e436af3625de2482ab563" kindref="member">m_saved_match_dist</ref><sp/>=<sp/>cur_match_dist;</highlight></codeline>
<codeline lineno="1756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ab36eefb0ddf349133c84fd9bb418b63f" kindref="member">m_saved_match_len</ref><sp/>=<sp/>cur_match_len;</highlight></codeline>
<codeline lineno="1757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ad67ea1952b814c7b86267773ebf8da84" kindref="member">tdefl_record_match</ref>(d,<sp/>d-&gt;<ref refid="structtdefl__compressor_1ab36eefb0ddf349133c84fd9bb418b63f" kindref="member">m_saved_match_len</ref>,<sp/>d-&gt;<ref refid="structtdefl__compressor_1a181e0aa6797e436af3625de2482ab563" kindref="member">m_saved_match_dist</ref>);</highlight></codeline>
<codeline lineno="1762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>len_to_move<sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1ab36eefb0ddf349133c84fd9bb418b63f" kindref="member">m_saved_match_len</ref><sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="1763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ab36eefb0ddf349133c84fd9bb418b63f" kindref="member">m_saved_match_len</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!cur_match_dist)</highlight></codeline>
<codeline lineno="1767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1aa1d7593a37246e096639528e5fe7c1c0" kindref="member">tdefl_record_literal</ref>(d,<sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[<ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(cur_pos,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>)<sp/>-<sp/>1)]);</highlight></codeline>
<codeline lineno="1768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((d-&gt;<ref refid="structtdefl__compressor_1acd97ca2c9c322def4d1873145f5c8e50" kindref="member">m_greedy_parsing</ref>)<sp/>||<sp/>(d-&gt;<ref refid="structtdefl__compressor_1ac344aa36a4ec2cb54d39bea652994228" kindref="member">m_flags</ref><sp/>&amp;<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2dafc9a53ebb5a5fdb1d1727eef9b21a524" kindref="member">TDEFL_RLE_MATCHES</ref>)<sp/>||<sp/>(cur_match_len<sp/>&gt;=<sp/>128))</highlight></codeline>
<codeline lineno="1769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ad67ea1952b814c7b86267773ebf8da84" kindref="member">tdefl_record_match</ref>(d,<sp/>cur_match_len,<sp/>cur_match_dist);</highlight></codeline>
<codeline lineno="1771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>len_to_move<sp/>=<sp/>cur_match_len;</highlight></codeline>
<codeline lineno="1772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a161b24984ce5e86f7c36378b9145a8a5" kindref="member">m_saved_lit</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>[<ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(cur_pos,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(d-&gt;<ref refid="structtdefl__compressor_1a5dfd187e5e547f16920cf3cf48b7a151" kindref="member">m_dict</ref>)<sp/>-<sp/>1)];</highlight></codeline>
<codeline lineno="1776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a181e0aa6797e436af3625de2482ab563" kindref="member">m_saved_match_dist</ref><sp/>=<sp/>cur_match_dist;</highlight></codeline>
<codeline lineno="1777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ab36eefb0ddf349133c84fd9bb418b63f" kindref="member">m_saved_match_len</ref><sp/>=<sp/>cur_match_len;</highlight></codeline>
<codeline lineno="1778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Move<sp/>the<sp/>lookahead<sp/>forward<sp/>by<sp/>len_to_move<sp/>bytes.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a40ff57dba8b2e99a4f6cd1a709138bfe" kindref="member">m_lookahead_pos</ref><sp/>+=<sp/>len_to_move;</highlight></codeline>
<codeline lineno="1781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref><sp/>&gt;=<sp/>len_to_move);</highlight></codeline>
<codeline lineno="1782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref><sp/>-=<sp/>len_to_move;</highlight></codeline>
<codeline lineno="1783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1adec95fc9dfeab97c6df6865ee960d425" kindref="member">m_dict_size</ref><sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(d-&gt;<ref refid="structtdefl__compressor_1adec95fc9dfeab97c6df6865ee960d425" kindref="member">m_dict_size</ref><sp/>+<sp/>len_to_move,<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)<ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a784fb221e94e69893e546101919879b4" kindref="member">TDEFL_LZ_DICT_SIZE</ref>);</highlight></codeline>
<codeline lineno="1784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>it&apos;s<sp/>time<sp/>to<sp/>flush<sp/>the<sp/>current<sp/>LZ<sp/>codes<sp/>to<sp/>the<sp/>internal<sp/>output<sp/>buffer.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref><sp/>&gt;<sp/>&amp;d-&gt;<ref refid="structtdefl__compressor_1ac4233d89f25c3f5f9c9eda73bcf3e6c4" kindref="member">m_lz_code_buf</ref>[<ref refid="miniz_8h_1ab04a0655cd1e3bcac5e8f48c18df1a57aa31c23d99c4bf4bb9857de2286b6d7e6" kindref="member">TDEFL_LZ_CODE_BUF_SIZE</ref><sp/>-<sp/>8])<sp/>||</highlight></codeline>
<codeline lineno="1786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref><sp/>&gt;<sp/>31<sp/>*<sp/>1024)<sp/>&amp;&amp;<sp/>(((((<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)(d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref><sp/>-<sp/>d-&gt;<ref refid="structtdefl__compressor_1ac4233d89f25c3f5f9c9eda73bcf3e6c4" kindref="member">m_lz_code_buf</ref>)<sp/>*<sp/>115)<sp/>&gt;&gt;<sp/>7)<sp/>&gt;=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref>)<sp/>||<sp/>(d-&gt;<ref refid="structtdefl__compressor_1ac344aa36a4ec2cb54d39bea652994228" kindref="member">m_flags</ref><sp/>&amp;<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2da24f00beb8f787cbdf73b33a535be747b" kindref="member">TDEFL_FORCE_ALL_RAW_BLOCKS</ref>))))</highlight></codeline>
<codeline lineno="1787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n;</highlight></codeline>
<codeline lineno="1789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a2fe623583532f09b395e99e3d25c123e" kindref="member">m_pSrc</ref><sp/>=<sp/>pSrc;</highlight></codeline>
<codeline lineno="1790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a5405cb47173aa1c06cb7bb067a036f07" kindref="member">m_src_buf_left</ref><sp/>=<sp/>src_buf_left;</highlight></codeline>
<codeline lineno="1791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((n<sp/>=<sp/><ref refid="miniz_8c_1a1adafac587d2839277822cea5bdc224d" kindref="member">tdefl_flush_block</ref>(d,<sp/>0))<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="1792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(n<sp/>&lt;<sp/>0)<sp/>?<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref><sp/>:<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="1793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1794"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1795"><highlight class="normal"></highlight></codeline>
<codeline lineno="1796"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a2fe623583532f09b395e99e3d25c123e" kindref="member">m_pSrc</ref><sp/>=<sp/>pSrc;</highlight></codeline>
<codeline lineno="1797"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a5405cb47173aa1c06cb7bb067a036f07" kindref="member">m_src_buf_left</ref><sp/>=<sp/>src_buf_left;</highlight></codeline>
<codeline lineno="1798"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="1799"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1800"><highlight class="normal"></highlight></codeline>
<codeline lineno="1801"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748f" kindref="member">tdefl_status</ref><sp/><ref refid="miniz_8c_1af80414324052552afda66f992ee246e9" kindref="member">tdefl_flush_output_buffer</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d)</highlight></codeline>
<codeline lineno="1802"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1803"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1ae8da57cd67dace66f2e45ee1a51cb11f" kindref="member">m_pIn_buf_size</ref>)</highlight></codeline>
<codeline lineno="1804"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*d-&gt;<ref refid="structtdefl__compressor_1ae8da57cd67dace66f2e45ee1a51cb11f" kindref="member">m_pIn_buf_size</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a2fe623583532f09b395e99e3d25c123e" kindref="member">m_pSrc</ref><sp/>-<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)d-&gt;<ref refid="structtdefl__compressor_1ac131b5e6ff8ca9af418b01eefd77c7f9" kindref="member">m_pIn_buf</ref>;</highlight></codeline>
<codeline lineno="1806"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1807"><highlight class="normal"></highlight></codeline>
<codeline lineno="1808"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1a2629e9f8046f0d2d8898303ed6e50fbf" kindref="member">m_pOut_buf_size</ref>)</highlight></codeline>
<codeline lineno="1809"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>n<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(*d-&gt;<ref refid="structtdefl__compressor_1a2629e9f8046f0d2d8898303ed6e50fbf" kindref="member">m_pOut_buf_size</ref><sp/>-<sp/>d-&gt;<ref refid="structtdefl__compressor_1a9450656373de691c1e2606b272d4d6f6" kindref="member">m_out_buf_ofs</ref>,<sp/>d-&gt;<ref refid="structtdefl__compressor_1a3c5fd8ac7a2f308e7e3a5a2ab2ba9961" kindref="member">m_output_flush_remaining</ref>);</highlight></codeline>
<codeline lineno="1811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy((<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)d-&gt;<ref refid="structtdefl__compressor_1abaf4c7afc0fc8e487340c3461e8028a4" kindref="member">m_pOut_buf</ref><sp/>+<sp/>d-&gt;<ref refid="structtdefl__compressor_1a9450656373de691c1e2606b272d4d6f6" kindref="member">m_out_buf_ofs</ref>,<sp/>d-&gt;<ref refid="structtdefl__compressor_1af3767449a43c686c7870b4bf939c878a" kindref="member">m_output_buf</ref><sp/>+<sp/>d-&gt;<ref refid="structtdefl__compressor_1a8d5490f8411406a1e368f21f978c1aa7" kindref="member">m_output_flush_ofs</ref>,<sp/>n);</highlight></codeline>
<codeline lineno="1812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a8d5490f8411406a1e368f21f978c1aa7" kindref="member">m_output_flush_ofs</ref><sp/>+=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)n;</highlight></codeline>
<codeline lineno="1813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a3c5fd8ac7a2f308e7e3a5a2ab2ba9961" kindref="member">m_output_flush_remaining</ref><sp/>-=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)n;</highlight></codeline>
<codeline lineno="1814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a9450656373de691c1e2606b272d4d6f6" kindref="member">m_out_buf_ofs</ref><sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="1815"><highlight class="normal"></highlight></codeline>
<codeline lineno="1816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*d-&gt;<ref refid="structtdefl__compressor_1a2629e9f8046f0d2d8898303ed6e50fbf" kindref="member">m_pOut_buf_size</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a9450656373de691c1e2606b272d4d6f6" kindref="member">m_out_buf_ofs</ref>;</highlight></codeline>
<codeline lineno="1817"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1818"><highlight class="normal"></highlight></codeline>
<codeline lineno="1819"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1a4b1ae01e9c3d091617762ae27a15e1dd" kindref="member">m_finished</ref><sp/>&amp;&amp;<sp/>!d-&gt;<ref refid="structtdefl__compressor_1a3c5fd8ac7a2f308e7e3a5a2ab2ba9961" kindref="member">m_output_flush_remaining</ref>)<sp/>?<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fa9beb7850b5d6941b6860db23f426b0d2" kindref="member">TDEFL_STATUS_DONE</ref><sp/>:<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fa0db9f12eded9feed194fd0b20fec8b27" kindref="member">TDEFL_STATUS_OKAY</ref>;</highlight></codeline>
<codeline lineno="1820"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1821"><highlight class="normal"></highlight></codeline>
<codeline lineno="1822"><highlight class="normal"><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748f" kindref="member">tdefl_status</ref><sp/><ref refid="miniz_8c_1ae9968978f7ea9f732c5ed08db988208b" kindref="member">tdefl_compress</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pIn_buf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*pIn_buf_size,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pOut_buf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*pOut_buf_size,<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abf" kindref="member">tdefl_flush</ref><sp/>flush)</highlight></codeline>
<codeline lineno="1823"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1824"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d)</highlight></codeline>
<codeline lineno="1825"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pIn_buf_size)</highlight></codeline>
<codeline lineno="1827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pIn_buf_size<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pOut_buf_size)</highlight></codeline>
<codeline lineno="1829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pOut_buf_size<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fabfe89ba8aaf460134dbf95c5969f82f8" kindref="member">TDEFL_STATUS_BAD_PARAM</ref>;</highlight></codeline>
<codeline lineno="1831"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1832"><highlight class="normal"></highlight></codeline>
<codeline lineno="1833"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ac131b5e6ff8ca9af418b01eefd77c7f9" kindref="member">m_pIn_buf</ref><sp/>=<sp/>pIn_buf;</highlight></codeline>
<codeline lineno="1834"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ae8da57cd67dace66f2e45ee1a51cb11f" kindref="member">m_pIn_buf_size</ref><sp/>=<sp/>pIn_buf_size;</highlight></codeline>
<codeline lineno="1835"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1abaf4c7afc0fc8e487340c3461e8028a4" kindref="member">m_pOut_buf</ref><sp/>=<sp/>pOut_buf;</highlight></codeline>
<codeline lineno="1836"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a2629e9f8046f0d2d8898303ed6e50fbf" kindref="member">m_pOut_buf_size</ref><sp/>=<sp/>pOut_buf_size;</highlight></codeline>
<codeline lineno="1837"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a2fe623583532f09b395e99e3d25c123e" kindref="member">m_pSrc</ref><sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)(pIn_buf);</highlight></codeline>
<codeline lineno="1838"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a5405cb47173aa1c06cb7bb067a036f07" kindref="member">m_src_buf_left</ref><sp/>=<sp/>pIn_buf_size<sp/>?<sp/>*pIn_buf_size<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="1839"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a9450656373de691c1e2606b272d4d6f6" kindref="member">m_out_buf_ofs</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1840"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a8a3cce846b9849371735935790d8bab5" kindref="member">m_flush</ref><sp/>=<sp/>flush;</highlight></codeline>
<codeline lineno="1841"><highlight class="normal"></highlight></codeline>
<codeline lineno="1842"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((d-&gt;<ref refid="structtdefl__compressor_1a744d78e0e02c77ff224a3a2eefc6c39f" kindref="member">m_pPut_buf_func</ref><sp/>!=<sp/>NULL)<sp/>==<sp/>((pOut_buf<sp/>!=<sp/>NULL)<sp/>||<sp/>(pOut_buf_size<sp/>!=<sp/>NULL)))<sp/>||<sp/>(d-&gt;<ref refid="structtdefl__compressor_1a58be7740c1c0bbc9bc1dc52a79e420bf" kindref="member">m_prev_return_status</ref><sp/>!=<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fa0db9f12eded9feed194fd0b20fec8b27" kindref="member">TDEFL_STATUS_OKAY</ref>)<sp/>||</highlight></codeline>
<codeline lineno="1843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(d-&gt;<ref refid="structtdefl__compressor_1a48846993be500c613cc1343b586e5754" kindref="member">m_wants_to_finish</ref><sp/>&amp;&amp;<sp/>(flush<sp/>!=<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abfaea9e4d7ec26223f627ff02c5335b7e66" kindref="member">TDEFL_FINISH</ref>))<sp/>||<sp/>(pIn_buf_size<sp/>&amp;&amp;<sp/>*pIn_buf_size<sp/>&amp;&amp;<sp/>!pIn_buf)<sp/>||<sp/>(pOut_buf_size<sp/>&amp;&amp;<sp/>*pOut_buf_size<sp/>&amp;&amp;<sp/>!pOut_buf))</highlight></codeline>
<codeline lineno="1844"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pIn_buf_size)</highlight></codeline>
<codeline lineno="1846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pIn_buf_size<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pOut_buf_size)</highlight></codeline>
<codeline lineno="1848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pOut_buf_size<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1a58be7740c1c0bbc9bc1dc52a79e420bf" kindref="member">m_prev_return_status</ref><sp/>=<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fabfe89ba8aaf460134dbf95c5969f82f8" kindref="member">TDEFL_STATUS_BAD_PARAM</ref>);</highlight></codeline>
<codeline lineno="1850"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1851"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a48846993be500c613cc1343b586e5754" kindref="member">m_wants_to_finish</ref><sp/>|=<sp/>(flush<sp/>==<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abfaea9e4d7ec26223f627ff02c5335b7e66" kindref="member">TDEFL_FINISH</ref>);</highlight></codeline>
<codeline lineno="1852"><highlight class="normal"></highlight></codeline>
<codeline lineno="1853"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((d-&gt;<ref refid="structtdefl__compressor_1a3c5fd8ac7a2f308e7e3a5a2ab2ba9961" kindref="member">m_output_flush_remaining</ref>)<sp/>||<sp/>(d-&gt;<ref refid="structtdefl__compressor_1a4b1ae01e9c3d091617762ae27a15e1dd" kindref="member">m_finished</ref>))</highlight></codeline>
<codeline lineno="1854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1a58be7740c1c0bbc9bc1dc52a79e420bf" kindref="member">m_prev_return_status</ref><sp/>=<sp/><ref refid="miniz_8c_1af80414324052552afda66f992ee246e9" kindref="member">tdefl_flush_output_buffer</ref>(d));</highlight></codeline>
<codeline lineno="1855"><highlight class="normal"></highlight></codeline>
<codeline lineno="1856"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MINIZ_USE_UNALIGNED_LOADS_AND_STORES<sp/>&amp;&amp;MINIZ_LITTLE_ENDIAN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1857"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((d-&gt;<ref refid="structtdefl__compressor_1ac344aa36a4ec2cb54d39bea652994228" kindref="member">m_flags</ref><sp/>&amp;<sp/><ref refid="miniz_8h_1a726ca809ffd3d67ab4b8476646f26635a60323cd4b3acc7a3711c143f7923dd34" kindref="member">TDEFL_MAX_PROBES_MASK</ref>)<sp/>==<sp/>1)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((d-&gt;<ref refid="structtdefl__compressor_1ac344aa36a4ec2cb54d39bea652994228" kindref="member">m_flags</ref><sp/>&amp;<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2da6863400f7412d04ec75a2ca363baec03" kindref="member">TDEFL_GREEDY_PARSING_FLAG</ref>)<sp/>!=<sp/>0)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((d-&gt;<ref refid="structtdefl__compressor_1ac344aa36a4ec2cb54d39bea652994228" kindref="member">m_flags</ref><sp/>&amp;<sp/>(<ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2dabea695964526498a4a869b3172e39707" kindref="member">TDEFL_FILTER_MATCHES</ref><sp/>|<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2da24f00beb8f787cbdf73b33a535be747b" kindref="member">TDEFL_FORCE_ALL_RAW_BLOCKS</ref><sp/>|<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2dafc9a53ebb5a5fdb1d1727eef9b21a524" kindref="member">TDEFL_RLE_MATCHES</ref>))<sp/>==<sp/>0))</highlight></codeline>
<codeline lineno="1860"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1861"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!tdefl_compress_fast(d))</highlight></codeline>
<codeline lineno="1862"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;<ref refid="structtdefl__compressor_1a58be7740c1c0bbc9bc1dc52a79e420bf" kindref="member">m_prev_return_status</ref>;</highlight></codeline>
<codeline lineno="1863"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1864"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1865"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#if<sp/>MINIZ_USE_UNALIGNED_LOADS_AND_STORES<sp/>&amp;&amp;<sp/>MINIZ_LITTLE_ENDIAN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1866"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a693b5cf938e6f7d2fc439f8ab65ea466" kindref="member">tdefl_compress_normal</ref>(d))</highlight></codeline>
<codeline lineno="1868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;<ref refid="structtdefl__compressor_1a58be7740c1c0bbc9bc1dc52a79e420bf" kindref="member">m_prev_return_status</ref>;</highlight></codeline>
<codeline lineno="1869"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1870"><highlight class="normal"></highlight></codeline>
<codeline lineno="1871"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((d-&gt;<ref refid="structtdefl__compressor_1ac344aa36a4ec2cb54d39bea652994228" kindref="member">m_flags</ref><sp/>&amp;<sp/>(<ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2daddb3970da5e697152049482043174c63" kindref="member">TDEFL_WRITE_ZLIB_HEADER</ref><sp/>|<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2daa3c1a489229a817dc6d07efd55a6f5cf" kindref="member">TDEFL_COMPUTE_ADLER32</ref>))<sp/>&amp;&amp;<sp/>(pIn_buf))</highlight></codeline>
<codeline lineno="1872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aee1dafacfd0672f0940e391dcb26852f" kindref="member">m_adler32</ref><sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<ref refid="miniz_8c_1a094d181afc4c98dc1864f6ce7d636258" kindref="member">mz_adler32</ref>(d-&gt;<ref refid="structtdefl__compressor_1aee1dafacfd0672f0940e391dcb26852f" kindref="member">m_adler32</ref>,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pIn_buf,<sp/>d-&gt;<ref refid="structtdefl__compressor_1a2fe623583532f09b395e99e3d25c123e" kindref="member">m_pSrc</ref><sp/>-<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pIn_buf);</highlight></codeline>
<codeline lineno="1873"><highlight class="normal"></highlight></codeline>
<codeline lineno="1874"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((flush)<sp/>&amp;&amp;<sp/>(!d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref>)<sp/>&amp;&amp;<sp/>(!d-&gt;<ref refid="structtdefl__compressor_1a5405cb47173aa1c06cb7bb067a036f07" kindref="member">m_src_buf_left</ref>)<sp/>&amp;&amp;<sp/>(!d-&gt;<ref refid="structtdefl__compressor_1a3c5fd8ac7a2f308e7e3a5a2ab2ba9961" kindref="member">m_output_flush_remaining</ref>))</highlight></codeline>
<codeline lineno="1875"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8c_1a1adafac587d2839277822cea5bdc224d" kindref="member">tdefl_flush_block</ref>(d,<sp/>flush)<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="1877"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;<ref refid="structtdefl__compressor_1a58be7740c1c0bbc9bc1dc52a79e420bf" kindref="member">m_prev_return_status</ref>;</highlight></codeline>
<codeline lineno="1878"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a4b1ae01e9c3d091617762ae27a15e1dd" kindref="member">m_finished</ref><sp/>=<sp/>(flush<sp/>==<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abfaea9e4d7ec26223f627ff02c5335b7e66" kindref="member">TDEFL_FINISH</ref>);</highlight></codeline>
<codeline lineno="1879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flush<sp/>==<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abfac38ba366db95f4ad31c7719bd08ae7f8" kindref="member">TDEFL_FULL_FLUSH</ref>)</highlight></codeline>
<codeline lineno="1880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(d-&gt;<ref refid="structtdefl__compressor_1a2dffbb84dd4d9bf24bc3b1476cbd636c" kindref="member">m_hash</ref>);</highlight></codeline>
<codeline lineno="1882"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(d-&gt;<ref refid="structtdefl__compressor_1aa55f0314f4b7bfff6999060bdf2d96fc" kindref="member">m_next</ref>);</highlight></codeline>
<codeline lineno="1883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1adec95fc9dfeab97c6df6865ee960d425" kindref="member">m_dict_size</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1885"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1886"><highlight class="normal"></highlight></codeline>
<codeline lineno="1887"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(d-&gt;<ref refid="structtdefl__compressor_1a58be7740c1c0bbc9bc1dc52a79e420bf" kindref="member">m_prev_return_status</ref><sp/>=<sp/><ref refid="miniz_8c_1af80414324052552afda66f992ee246e9" kindref="member">tdefl_flush_output_buffer</ref>(d));</highlight></codeline>
<codeline lineno="1888"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1889"><highlight class="normal"></highlight></codeline>
<codeline lineno="1890"><highlight class="normal"><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748f" kindref="member">tdefl_status</ref><sp/><ref refid="miniz_8c_1a5f2608070112b0e81a3017e9c39c73b7" kindref="member">tdefl_compress_buffer</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pIn_buf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>in_buf_size,<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abf" kindref="member">tdefl_flush</ref><sp/>flush)</highlight></codeline>
<codeline lineno="1891"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1892"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(d-&gt;<ref refid="structtdefl__compressor_1a744d78e0e02c77ff224a3a2eefc6c39f" kindref="member">m_pPut_buf_func</ref>);</highlight></codeline>
<codeline lineno="1893"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1ae9968978f7ea9f732c5ed08db988208b" kindref="member">tdefl_compress</ref>(d,<sp/>pIn_buf,<sp/>&amp;in_buf_size,<sp/>NULL,<sp/>NULL,<sp/>flush);</highlight></codeline>
<codeline lineno="1894"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1895"><highlight class="normal"></highlight></codeline>
<codeline lineno="1896"><highlight class="normal"><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748f" kindref="member">tdefl_status</ref><sp/><ref refid="miniz_8c_1a3c2c67a6200147020ba4bfbf77962792" kindref="member">tdefl_init</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d,<sp/><ref refid="miniz_8h_1ad9ea9d3eac48ba0658f750a920452497" kindref="member">tdefl_put_buf_func_ptr</ref><sp/>pPut_buf_func,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pPut_buf_user,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flags)</highlight></codeline>
<codeline lineno="1897"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1898"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a744d78e0e02c77ff224a3a2eefc6c39f" kindref="member">m_pPut_buf_func</ref><sp/>=<sp/>pPut_buf_func;</highlight></codeline>
<codeline lineno="1899"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ad495682142ede0ea54a774a45a1e4145" kindref="member">m_pPut_buf_user</ref><sp/>=<sp/>pPut_buf_user;</highlight></codeline>
<codeline lineno="1900"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ac344aa36a4ec2cb54d39bea652994228" kindref="member">m_flags</ref><sp/>=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)(flags);</highlight></codeline>
<codeline lineno="1901"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a019a2a421ee743e69dc0b3abdad00d67" kindref="member">m_max_probes</ref>[0]<sp/>=<sp/>1<sp/>+<sp/>((flags<sp/>&amp;<sp/>0xFFF)<sp/>+<sp/>2)<sp/>/<sp/>3;</highlight></codeline>
<codeline lineno="1902"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1acd97ca2c9c322def4d1873145f5c8e50" kindref="member">m_greedy_parsing</ref><sp/>=<sp/>(flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2da6863400f7412d04ec75a2ca363baec03" kindref="member">TDEFL_GREEDY_PARSING_FLAG</ref>)<sp/>!=<sp/>0;</highlight></codeline>
<codeline lineno="1903"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a019a2a421ee743e69dc0b3abdad00d67" kindref="member">m_max_probes</ref>[1]<sp/>=<sp/>1<sp/>+<sp/>(((flags<sp/>&amp;<sp/>0xFFF)<sp/>&gt;&gt;<sp/>2)<sp/>+<sp/>2)<sp/>/<sp/>3;</highlight></codeline>
<codeline lineno="1904"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2daf52d1f4a633ac1d4c4537bd9d63346b9" kindref="member">TDEFL_NONDETERMINISTIC_PARSING_FLAG</ref>))</highlight></codeline>
<codeline lineno="1905"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(d-&gt;<ref refid="structtdefl__compressor_1a2dffbb84dd4d9bf24bc3b1476cbd636c" kindref="member">m_hash</ref>);</highlight></codeline>
<codeline lineno="1906"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a40ff57dba8b2e99a4f6cd1a709138bfe" kindref="member">m_lookahead_pos</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1aad683845a1c4d4646819b9580f498f04" kindref="member">m_lookahead_size</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1adec95fc9dfeab97c6df6865ee960d425" kindref="member">m_dict_size</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a4e55500e9af5206ac47492f3a568ef9f" kindref="member">m_total_lz_bytes</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1abd08bd557ee4ad3d37667a9efbe27b08" kindref="member">m_lz_code_buf_dict_pos</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1aa4e386df487da24a7451a0e16a4de3b5" kindref="member">m_bits_in</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1907"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a8d5490f8411406a1e368f21f978c1aa7" kindref="member">m_output_flush_ofs</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a3c5fd8ac7a2f308e7e3a5a2ab2ba9961" kindref="member">m_output_flush_remaining</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a4b1ae01e9c3d091617762ae27a15e1dd" kindref="member">m_finished</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a06aa0468391490b3279acb1877475d9a" kindref="member">m_block_index</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1aa284ab359fd885497d90995e2f6aec10" kindref="member">m_bit_buffer</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a48846993be500c613cc1343b586e5754" kindref="member">m_wants_to_finish</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1908"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ad6c5f80b23451d14493537fe68439866" kindref="member">m_pLZ_code_buf</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1ac4233d89f25c3f5f9c9eda73bcf3e6c4" kindref="member">m_lz_code_buf</ref><sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="1909"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aade7b1d1a658e5cb9ae353aae2c2e704" kindref="member">m_pLZ_flags</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1ac4233d89f25c3f5f9c9eda73bcf3e6c4" kindref="member">m_lz_code_buf</ref>;</highlight></codeline>
<codeline lineno="1910"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a40c86e813b29892434bfd9bfd3027088" kindref="member">m_num_flags_left</ref><sp/>=<sp/>8;</highlight></codeline>
<codeline lineno="1911"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1afd5820d45d173546cc6b996fdca53689" kindref="member">m_pOutput_buf</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1af3767449a43c686c7870b4bf939c878a" kindref="member">m_output_buf</ref>;</highlight></codeline>
<codeline lineno="1912"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aa790d06026f9cd65e5ab373c46447694" kindref="member">m_pOutput_buf_end</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1af3767449a43c686c7870b4bf939c878a" kindref="member">m_output_buf</ref>;</highlight></codeline>
<codeline lineno="1913"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a58be7740c1c0bbc9bc1dc52a79e420bf" kindref="member">m_prev_return_status</ref><sp/>=<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fa0db9f12eded9feed194fd0b20fec8b27" kindref="member">TDEFL_STATUS_OKAY</ref>;</highlight></codeline>
<codeline lineno="1914"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a181e0aa6797e436af3625de2482ab563" kindref="member">m_saved_match_dist</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1ab36eefb0ddf349133c84fd9bb418b63f" kindref="member">m_saved_match_len</ref><sp/>=<sp/>d-&gt;<ref refid="structtdefl__compressor_1a161b24984ce5e86f7c36378b9145a8a5" kindref="member">m_saved_lit</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1915"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1aee1dafacfd0672f0940e391dcb26852f" kindref="member">m_adler32</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="1916"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ac131b5e6ff8ca9af418b01eefd77c7f9" kindref="member">m_pIn_buf</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="1917"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1abaf4c7afc0fc8e487340c3461e8028a4" kindref="member">m_pOut_buf</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="1918"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1ae8da57cd67dace66f2e45ee1a51cb11f" kindref="member">m_pIn_buf_size</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="1919"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a2629e9f8046f0d2d8898303ed6e50fbf" kindref="member">m_pOut_buf_size</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="1920"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a8a3cce846b9849371735935790d8bab5" kindref="member">m_flush</ref><sp/>=<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abfa87a9bde52f27872bf5821ed345bc6768" kindref="member">TDEFL_NO_FLUSH</ref>;</highlight></codeline>
<codeline lineno="1921"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a2fe623583532f09b395e99e3d25c123e" kindref="member">m_pSrc</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="1922"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a5405cb47173aa1c06cb7bb067a036f07" kindref="member">m_src_buf_left</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1923"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;<ref refid="structtdefl__compressor_1a9450656373de691c1e2606b272d4d6f6" kindref="member">m_out_buf_ofs</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1924"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[0][0],<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[0][0])<sp/>*<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600a30643ecd31dedddcdb265685027c3730" kindref="member">TDEFL_MAX_HUFF_SYMBOLS_0</ref>);</highlight></codeline>
<codeline lineno="1925"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[1][0],<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(d-&gt;<ref refid="structtdefl__compressor_1ab77f4dbe0fa2167b4491a99fb9250fba" kindref="member">m_huff_count</ref>[1][0])<sp/>*<sp/><ref refid="miniz_8h_1abed82baf7f470b522273a3e37c24c600ab31107f9bbadea4b9a371a4c52885471" kindref="member">TDEFL_MAX_HUFF_SYMBOLS_1</ref>);</highlight></codeline>
<codeline lineno="1926"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fa0db9f12eded9feed194fd0b20fec8b27" kindref="member">TDEFL_STATUS_OKAY</ref>;</highlight></codeline>
<codeline lineno="1927"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1928"><highlight class="normal"></highlight></codeline>
<codeline lineno="1929"><highlight class="normal"><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748f" kindref="member">tdefl_status</ref><sp/><ref refid="miniz_8c_1a516a79788364e4f3e3b55187a2a67b24" kindref="member">tdefl_get_prev_return_status</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d)</highlight></codeline>
<codeline lineno="1930"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1931"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;<ref refid="structtdefl__compressor_1a58be7740c1c0bbc9bc1dc52a79e420bf" kindref="member">m_prev_return_status</ref>;</highlight></codeline>
<codeline lineno="1932"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1933"><highlight class="normal"></highlight></codeline>
<codeline lineno="1934"><highlight class="normal"><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/><ref refid="miniz_8c_1a2ec6403111ea9afbcdc4d76cfda97110" kindref="member">tdefl_get_adler32</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*d)</highlight></codeline>
<codeline lineno="1935"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1936"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;<ref refid="structtdefl__compressor_1aee1dafacfd0672f0940e391dcb26852f" kindref="member">m_adler32</ref>;</highlight></codeline>
<codeline lineno="1937"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1938"><highlight class="normal"></highlight></codeline>
<codeline lineno="1939"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a153fd833b8c09efd13aa1d35dd22d092" kindref="member">tdefl_compress_mem_to_output</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>buf_len,<sp/><ref refid="miniz_8h_1ad9ea9d3eac48ba0658f750a920452497" kindref="member">tdefl_put_buf_func_ptr</ref><sp/>pPut_buf_func,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pPut_buf_user,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flags)</highlight></codeline>
<codeline lineno="1940"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1941"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*pComp;</highlight></codeline>
<codeline lineno="1942"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>succeeded;</highlight></codeline>
<codeline lineno="1943"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((buf_len)<sp/>&amp;&amp;<sp/>(!pBuf))<sp/>||<sp/>(!pPut_buf_func))</highlight></codeline>
<codeline lineno="1944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="1945"><highlight class="normal"><sp/><sp/><sp/><sp/>pComp<sp/>=<sp/>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*)<ref refid="miniz_8h_1a09b9e87cb19529df25b3c3e47c9ad393" kindref="member">MZ_MALLOC</ref>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref>));</highlight></codeline>
<codeline lineno="1946"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pComp)</highlight></codeline>
<codeline lineno="1947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="1948"><highlight class="normal"><sp/><sp/><sp/><sp/>succeeded<sp/>=<sp/>(<ref refid="miniz_8c_1a3c2c67a6200147020ba4bfbf77962792" kindref="member">tdefl_init</ref>(pComp,<sp/>pPut_buf_func,<sp/>pPut_buf_user,<sp/>flags)<sp/>==<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fa0db9f12eded9feed194fd0b20fec8b27" kindref="member">TDEFL_STATUS_OKAY</ref>);</highlight></codeline>
<codeline lineno="1949"><highlight class="normal"><sp/><sp/><sp/><sp/>succeeded<sp/>=<sp/>succeeded<sp/>&amp;&amp;<sp/>(<ref refid="miniz_8c_1a5f2608070112b0e81a3017e9c39c73b7" kindref="member">tdefl_compress_buffer</ref>(pComp,<sp/>pBuf,<sp/>buf_len,<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abfaea9e4d7ec26223f627ff02c5335b7e66" kindref="member">TDEFL_FINISH</ref>)<sp/>==<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fa9beb7850b5d6941b6860db23f426b0d2" kindref="member">TDEFL_STATUS_DONE</ref>);</highlight></codeline>
<codeline lineno="1950"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ac73e9b464ae92e51b762f496296d7582" kindref="member">MZ_FREE</ref>(pComp);</highlight></codeline>
<codeline lineno="1951"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>succeeded;</highlight></codeline>
<codeline lineno="1952"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1953"><highlight class="normal"></highlight></codeline>
<codeline lineno="1954" refid="structtdefl__output__buffer" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1955"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1956"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>m_size,<sp/>m_capacity;</highlight></codeline>
<codeline lineno="1957"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*m_pBuf;</highlight></codeline>
<codeline lineno="1958"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>m_expandable;</highlight></codeline>
<codeline lineno="1959"><highlight class="normal">}<sp/><ref refid="structtdefl__output__buffer" kindref="compound">tdefl_output_buffer</ref>;</highlight></codeline>
<codeline lineno="1960"><highlight class="normal"></highlight></codeline>
<codeline lineno="1961"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a418a771218f0a371ebc981939074bbe4" kindref="member">tdefl_output_buffer_putter</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>len,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pUser)</highlight></codeline>
<codeline lineno="1962"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1963"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtdefl__output__buffer" kindref="compound">tdefl_output_buffer</ref><sp/>*p<sp/>=<sp/>(<ref refid="structtdefl__output__buffer" kindref="compound">tdefl_output_buffer</ref><sp/>*)pUser;</highlight></codeline>
<codeline lineno="1964"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>new_size<sp/>=<sp/>p-&gt;<ref refid="structtdefl__output__buffer_1ab506aa434be983761db4cca43d2ebc9e" kindref="member">m_size</ref><sp/>+<sp/>len;</highlight></codeline>
<codeline lineno="1965"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(new_size<sp/>&gt;<sp/>p-&gt;<ref refid="structtdefl__output__buffer_1ab0705ebff551ebede28640ada5a9d2ab" kindref="member">m_capacity</ref>)</highlight></codeline>
<codeline lineno="1966"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>new_capacity<sp/>=<sp/>p-&gt;<ref refid="structtdefl__output__buffer_1ab0705ebff551ebede28640ada5a9d2ab" kindref="member">m_capacity</ref>;</highlight></codeline>
<codeline lineno="1968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pNew_buf;</highlight></codeline>
<codeline lineno="1969"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!p-&gt;<ref refid="structtdefl__output__buffer_1a26e5da3f933edc1a218afbe7838e9d22" kindref="member">m_expandable</ref>)</highlight></codeline>
<codeline lineno="1970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="1971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_capacity<sp/>=<sp/><ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>(128U,<sp/>new_capacity<sp/>&lt;&lt;<sp/>1U);</highlight></codeline>
<codeline lineno="1974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(new_size<sp/>&gt;<sp/>new_capacity);</highlight></codeline>
<codeline lineno="1975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pNew_buf<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)<ref refid="miniz_8h_1a1420c15d77b938f459fa3e8bbd9f4c4d" kindref="member">MZ_REALLOC</ref>(p-&gt;<ref refid="structtdefl__output__buffer_1a60119e1ddcb4fb92149189bed7cb8250" kindref="member">m_pBuf</ref>,<sp/>new_capacity);</highlight></codeline>
<codeline lineno="1976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pNew_buf)</highlight></codeline>
<codeline lineno="1977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="1978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="structtdefl__output__buffer_1a60119e1ddcb4fb92149189bed7cb8250" kindref="member">m_pBuf</ref><sp/>=<sp/>pNew_buf;</highlight></codeline>
<codeline lineno="1979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="structtdefl__output__buffer_1ab0705ebff551ebede28640ada5a9d2ab" kindref="member">m_capacity</ref><sp/>=<sp/>new_capacity;</highlight></codeline>
<codeline lineno="1980"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1981"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy((<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)p-&gt;<ref refid="structtdefl__output__buffer_1a60119e1ddcb4fb92149189bed7cb8250" kindref="member">m_pBuf</ref><sp/>+<sp/>p-&gt;<ref refid="structtdefl__output__buffer_1ab506aa434be983761db4cca43d2ebc9e" kindref="member">m_size</ref>,<sp/>pBuf,<sp/>len);</highlight></codeline>
<codeline lineno="1982"><highlight class="normal"><sp/><sp/><sp/><sp/>p-&gt;<ref refid="structtdefl__output__buffer_1ab506aa434be983761db4cca43d2ebc9e" kindref="member">m_size</ref><sp/>=<sp/>new_size;</highlight></codeline>
<codeline lineno="1983"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="1984"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1985"><highlight class="normal"></highlight></codeline>
<codeline lineno="1986"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="miniz_8c_1afb50d9ccdd6d2da88a020e0e5ad3fa20" kindref="member">tdefl_compress_mem_to_heap</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pSrc_buf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>src_buf_len,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*pOut_len,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flags)</highlight></codeline>
<codeline lineno="1987"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1988"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtdefl__output__buffer" kindref="compound">tdefl_output_buffer</ref><sp/>out_buf;</highlight></codeline>
<codeline lineno="1989"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(out_buf);</highlight></codeline>
<codeline lineno="1990"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pOut_len)</highlight></codeline>
<codeline lineno="1991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="1992"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pOut_len<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1994"><highlight class="normal"><sp/><sp/><sp/><sp/>out_buf.<ref refid="structtdefl__output__buffer_1a26e5da3f933edc1a218afbe7838e9d22" kindref="member">m_expandable</ref><sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="1995"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a153fd833b8c09efd13aa1d35dd22d092" kindref="member">tdefl_compress_mem_to_output</ref>(pSrc_buf,<sp/>src_buf_len,<sp/><ref refid="miniz_8c_1a418a771218f0a371ebc981939074bbe4" kindref="member">tdefl_output_buffer_putter</ref>,<sp/>&amp;out_buf,<sp/>flags))</highlight></codeline>
<codeline lineno="1996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="1997"><highlight class="normal"><sp/><sp/><sp/><sp/>*pOut_len<sp/>=<sp/>out_buf.<ref refid="structtdefl__output__buffer_1ab506aa434be983761db4cca43d2ebc9e" kindref="member">m_size</ref>;</highlight></codeline>
<codeline lineno="1998"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>out_buf.<ref refid="structtdefl__output__buffer_1a60119e1ddcb4fb92149189bed7cb8250" kindref="member">m_pBuf</ref>;</highlight></codeline>
<codeline lineno="1999"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2000"><highlight class="normal"></highlight></codeline>
<codeline lineno="2001"><highlight class="normal"></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a37639f95844a8c30995fc1f5d4bb75a1" kindref="member">tdefl_compress_mem_to_mem</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pOut_buf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>out_buf_len,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pSrc_buf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>src_buf_len,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flags)</highlight></codeline>
<codeline lineno="2002"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2003"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtdefl__output__buffer" kindref="compound">tdefl_output_buffer</ref><sp/>out_buf;</highlight></codeline>
<codeline lineno="2004"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(out_buf);</highlight></codeline>
<codeline lineno="2005"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pOut_buf)</highlight></codeline>
<codeline lineno="2006"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="2007"><highlight class="normal"><sp/><sp/><sp/><sp/>out_buf.<ref refid="structtdefl__output__buffer_1a60119e1ddcb4fb92149189bed7cb8250" kindref="member">m_pBuf</ref><sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pOut_buf;</highlight></codeline>
<codeline lineno="2008"><highlight class="normal"><sp/><sp/><sp/><sp/>out_buf.<ref refid="structtdefl__output__buffer_1ab0705ebff551ebede28640ada5a9d2ab" kindref="member">m_capacity</ref><sp/>=<sp/>out_buf_len;</highlight></codeline>
<codeline lineno="2009"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a153fd833b8c09efd13aa1d35dd22d092" kindref="member">tdefl_compress_mem_to_output</ref>(pSrc_buf,<sp/>src_buf_len,<sp/><ref refid="miniz_8c_1a418a771218f0a371ebc981939074bbe4" kindref="member">tdefl_output_buffer_putter</ref>,<sp/>&amp;out_buf,<sp/>flags))</highlight></codeline>
<codeline lineno="2010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="2011"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>out_buf.<ref refid="structtdefl__output__buffer_1ab506aa434be983761db4cca43d2ebc9e" kindref="member">m_size</ref>;</highlight></codeline>
<codeline lineno="2012"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2013"><highlight class="normal"></highlight></codeline>
<codeline lineno="2014"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/><ref refid="miniz_8c_1a6633ec0f4bbaafb2e4c7b943232a4d74" kindref="member">s_tdefl_num_probes</ref>[11]<sp/>=<sp/>{<sp/>0,<sp/>1,<sp/>6,<sp/>32,<sp/>16,<sp/>32,<sp/>128,<sp/>256,<sp/>512,<sp/>768,<sp/>1500<sp/>};</highlight></codeline>
<codeline lineno="2015"><highlight class="normal"></highlight></codeline>
<codeline lineno="2016"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>level<sp/>may<sp/>actually<sp/>range<sp/>from<sp/>[0,10]<sp/>(10<sp/>is<sp/>a<sp/>&quot;hidden&quot;<sp/>max<sp/>level,<sp/>where<sp/>we<sp/>want<sp/>a<sp/>bit<sp/>more<sp/>compression<sp/>and<sp/>it&apos;s<sp/>fine<sp/>if<sp/>throughput<sp/>to<sp/>fall<sp/>off<sp/>a<sp/>cliff<sp/>on<sp/>some<sp/>files).<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2017"><highlight class="normal"><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/><ref refid="miniz_8c_1acf2306ec6b7f92753264f68bc554750b" kindref="member">tdefl_create_comp_flags_from_zip_params</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>level,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>window_bits,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>strategy)</highlight></codeline>
<codeline lineno="2018"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2019"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>comp_flags<sp/>=<sp/>s_tdefl_num_probes[(level<sp/>&gt;=<sp/>0)<sp/>?<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(10,<sp/>level)<sp/>:<sp/><ref refid="miniz_8h_1abc6126af1d45847bc59afa0aa3216b04ab5dc326a9f034dc71d6012d86dd1343f" kindref="member">MZ_DEFAULT_LEVEL</ref>]<sp/>|<sp/>((level<sp/>&lt;=<sp/>3)<sp/>?<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2da6863400f7412d04ec75a2ca363baec03" kindref="member">TDEFL_GREEDY_PARSING_FLAG</ref><sp/>:<sp/>0);</highlight></codeline>
<codeline lineno="2020"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(window_bits<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="2021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_flags<sp/>|=<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2daddb3970da5e697152049482043174c63" kindref="member">TDEFL_WRITE_ZLIB_HEADER</ref>;</highlight></codeline>
<codeline lineno="2022"><highlight class="normal"></highlight></codeline>
<codeline lineno="2023"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!level)</highlight></codeline>
<codeline lineno="2024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_flags<sp/>|=<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2da24f00beb8f787cbdf73b33a535be747b" kindref="member">TDEFL_FORCE_ALL_RAW_BLOCKS</ref>;</highlight></codeline>
<codeline lineno="2025"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strategy<sp/>==<sp/><ref refid="miniz_8h_1a99fb83031ce9923c84392b4e92f956b5a0419e718926687394bbc0d18d12068f6" kindref="member">MZ_FILTERED</ref>)</highlight></codeline>
<codeline lineno="2026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_flags<sp/>|=<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2dabea695964526498a4a869b3172e39707" kindref="member">TDEFL_FILTER_MATCHES</ref>;</highlight></codeline>
<codeline lineno="2027"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strategy<sp/>==<sp/><ref refid="miniz_8h_1a99fb83031ce9923c84392b4e92f956b5abb43b8c09f8d8dddd644893a8a6a3ae8" kindref="member">MZ_HUFFMAN_ONLY</ref>)</highlight></codeline>
<codeline lineno="2028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_flags<sp/>&amp;=<sp/>~<ref refid="miniz_8h_1a726ca809ffd3d67ab4b8476646f26635a60323cd4b3acc7a3711c143f7923dd34" kindref="member">TDEFL_MAX_PROBES_MASK</ref>;</highlight></codeline>
<codeline lineno="2029"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strategy<sp/>==<sp/><ref refid="miniz_8h_1a99fb83031ce9923c84392b4e92f956b5a3fe6f0f5a44a41155ec4022b6c85b5a9" kindref="member">MZ_FIXED</ref>)</highlight></codeline>
<codeline lineno="2030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_flags<sp/>|=<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2da8fd3e432af0453833eb7168b8f63a064" kindref="member">TDEFL_FORCE_ALL_STATIC_BLOCKS</ref>;</highlight></codeline>
<codeline lineno="2031"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strategy<sp/>==<sp/><ref refid="miniz_8h_1a99fb83031ce9923c84392b4e92f956b5ab22de2edae7b989e35120a84e1ffff3e" kindref="member">MZ_RLE</ref>)</highlight></codeline>
<codeline lineno="2032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_flags<sp/>|=<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2dafc9a53ebb5a5fdb1d1727eef9b21a524" kindref="member">TDEFL_RLE_MATCHES</ref>;</highlight></codeline>
<codeline lineno="2033"><highlight class="normal"></highlight></codeline>
<codeline lineno="2034"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>comp_flags;</highlight></codeline>
<codeline lineno="2035"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2036"><highlight class="normal"></highlight></codeline>
<codeline lineno="2037"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_MSC_VER</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2038"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>warning(push)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2039"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>warning(disable<sp/>:<sp/>4204)<sp/></highlight><highlight class="comment">/*<sp/>nonstandard<sp/>extension<sp/>used<sp/>:<sp/>non-constant<sp/>aggregate<sp/>initializer<sp/>(also<sp/>supported<sp/>by<sp/>GNU<sp/>C<sp/>and<sp/>C99,<sp/>so<sp/>no<sp/>big<sp/>deal)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2040"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2041"><highlight class="normal"></highlight></codeline>
<codeline lineno="2042"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Simple<sp/>PNG<sp/>writer<sp/>function<sp/>by<sp/>Alex<sp/>Evans,<sp/>2011.<sp/>Released<sp/>into<sp/>the<sp/>public<sp/>domain:<sp/>https://gist.github.com/908299,<sp/>more<sp/>context<sp/>at</highlight></codeline>
<codeline lineno="2043"><highlight class="comment"><sp/>http://altdevblogaday.org/2011/04/06/a-smaller-jpg-encoder/.</highlight></codeline>
<codeline lineno="2044"><highlight class="comment"><sp/>This<sp/>is<sp/>actually<sp/>a<sp/>modification<sp/>of<sp/>Alex&apos;s<sp/>original<sp/>code<sp/>so<sp/>PNG<sp/>files<sp/>generated<sp/>by<sp/>this<sp/>function<sp/>pass<sp/>pngcheck.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2045"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="miniz_8c_1a63a3ef354a44c931ddf34a66cf064b16" kindref="member">tdefl_write_image_to_png_file_in_memory_ex</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pImage,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>w,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>h,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_chans,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*pLen_out,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>level,<sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>flip)</highlight></codeline>
<codeline lineno="2046"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2047"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Using<sp/>a<sp/>local<sp/>copy<sp/>of<sp/>this<sp/>array<sp/>here<sp/>in<sp/>case<sp/>MINIZ_NO_ZLIB_APIS<sp/>was<sp/>defined.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2048"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>s_tdefl_png_num_probes[11]<sp/>=<sp/>{<sp/>0,<sp/>1,<sp/>6,<sp/>32,<sp/>16,<sp/>32,<sp/>128,<sp/>256,<sp/>512,<sp/>768,<sp/>1500<sp/>};</highlight></codeline>
<codeline lineno="2049"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*pComp<sp/>=<sp/>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*)<ref refid="miniz_8h_1a09b9e87cb19529df25b3c3e47c9ad393" kindref="member">MZ_MALLOC</ref>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref>));</highlight></codeline>
<codeline lineno="2050"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtdefl__output__buffer" kindref="compound">tdefl_output_buffer</ref><sp/>out_buf;</highlight></codeline>
<codeline lineno="2051"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i,<sp/>bpl<sp/>=<sp/>w<sp/>*<sp/>num_chans,<sp/>y,<sp/>z;</highlight></codeline>
<codeline lineno="2052"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>c;</highlight></codeline>
<codeline lineno="2053"><highlight class="normal"><sp/><sp/><sp/><sp/>*pLen_out<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2054"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pComp)</highlight></codeline>
<codeline lineno="2055"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="2056"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(out_buf);</highlight></codeline>
<codeline lineno="2057"><highlight class="normal"><sp/><sp/><sp/><sp/>out_buf.<ref refid="structtdefl__output__buffer_1a26e5da3f933edc1a218afbe7838e9d22" kindref="member">m_expandable</ref><sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="2058"><highlight class="normal"><sp/><sp/><sp/><sp/>out_buf.<ref refid="structtdefl__output__buffer_1ab0705ebff551ebede28640ada5a9d2ab" kindref="member">m_capacity</ref><sp/>=<sp/>57<sp/>+<sp/><ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>(64,<sp/>(1<sp/>+<sp/>bpl)<sp/>*<sp/>h);</highlight></codeline>
<codeline lineno="2059"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>(out_buf.<ref refid="structtdefl__output__buffer_1a60119e1ddcb4fb92149189bed7cb8250" kindref="member">m_pBuf</ref><sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)<ref refid="miniz_8h_1a09b9e87cb19529df25b3c3e47c9ad393" kindref="member">MZ_MALLOC</ref>(out_buf.<ref refid="structtdefl__output__buffer_1ab0705ebff551ebede28640ada5a9d2ab" kindref="member">m_capacity</ref>)))</highlight></codeline>
<codeline lineno="2060"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ac73e9b464ae92e51b762f496296d7582" kindref="member">MZ_FREE</ref>(pComp);</highlight></codeline>
<codeline lineno="2062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="2063"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2064"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>write<sp/>dummy<sp/>header<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2065"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(z<sp/>=<sp/>41;<sp/>z;<sp/>--z)</highlight></codeline>
<codeline lineno="2066"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a418a771218f0a371ebc981939074bbe4" kindref="member">tdefl_output_buffer_putter</ref>(&amp;z,<sp/>1,<sp/>&amp;out_buf);</highlight></codeline>
<codeline lineno="2067"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>compress<sp/>image<sp/>data<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2068"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a3c2c67a6200147020ba4bfbf77962792" kindref="member">tdefl_init</ref>(pComp,<sp/><ref refid="miniz_8c_1a418a771218f0a371ebc981939074bbe4" kindref="member">tdefl_output_buffer_putter</ref>,<sp/>&amp;out_buf,<sp/>s_tdefl_png_num_probes[<ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(10,<sp/>level)]<sp/>|<sp/><ref refid="miniz_8h_1a0411cd49bb5b71852cecd93bcbf0ca2daddb3970da5e697152049482043174c63" kindref="member">TDEFL_WRITE_ZLIB_HEADER</ref>);</highlight></codeline>
<codeline lineno="2069"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(y<sp/>=<sp/>0;<sp/>y<sp/>&lt;<sp/>h;<sp/>++y)</highlight></codeline>
<codeline lineno="2070"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2071"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a5f2608070112b0e81a3017e9c39c73b7" kindref="member">tdefl_compress_buffer</ref>(pComp,<sp/>&amp;z,<sp/>1,<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abfa87a9bde52f27872bf5821ed345bc6768" kindref="member">TDEFL_NO_FLUSH</ref>);</highlight></codeline>
<codeline lineno="2072"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a5f2608070112b0e81a3017e9c39c73b7" kindref="member">tdefl_compress_buffer</ref>(pComp,<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pImage<sp/>+<sp/>(flip<sp/>?<sp/>(h<sp/>-<sp/>1<sp/>-<sp/>y)<sp/>:<sp/>y)<sp/>*<sp/>bpl,<sp/>bpl,<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abfa87a9bde52f27872bf5821ed345bc6768" kindref="member">TDEFL_NO_FLUSH</ref>);</highlight></codeline>
<codeline lineno="2073"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2074"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8c_1a5f2608070112b0e81a3017e9c39c73b7" kindref="member">tdefl_compress_buffer</ref>(pComp,<sp/>NULL,<sp/>0,<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abfaea9e4d7ec26223f627ff02c5335b7e66" kindref="member">TDEFL_FINISH</ref>)<sp/>!=<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fa9beb7850b5d6941b6860db23f426b0d2" kindref="member">TDEFL_STATUS_DONE</ref>)</highlight></codeline>
<codeline lineno="2075"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ac73e9b464ae92e51b762f496296d7582" kindref="member">MZ_FREE</ref>(pComp);</highlight></codeline>
<codeline lineno="2077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ac73e9b464ae92e51b762f496296d7582" kindref="member">MZ_FREE</ref>(out_buf.<ref refid="structtdefl__output__buffer_1a60119e1ddcb4fb92149189bed7cb8250" kindref="member">m_pBuf</ref>);</highlight></codeline>
<codeline lineno="2078"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="2079"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2080"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>write<sp/>real<sp/>header<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2081"><highlight class="normal"><sp/><sp/><sp/><sp/>*pLen_out<sp/>=<sp/>out_buf.<ref refid="structtdefl__output__buffer_1ab506aa434be983761db4cca43d2ebc9e" kindref="member">m_size</ref><sp/>-<sp/>41;</highlight></codeline>
<codeline lineno="2082"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>chans[]<sp/>=<sp/>{<sp/>0x00,<sp/>0x00,<sp/>0x04,<sp/>0x02,<sp/>0x06<sp/>};</highlight></codeline>
<codeline lineno="2084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>pnghdr[41]<sp/>=<sp/>{<sp/>0x89,<sp/>0x50,<sp/>0x4e,<sp/>0x47,<sp/>0x0d,<sp/></highlight></codeline>
<codeline lineno="2085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0a,<sp/>0x1a,<sp/>0x0a,<sp/>0x00,<sp/>0x00,<sp/></highlight></codeline>
<codeline lineno="2086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x00,<sp/>0x0d,<sp/>0x49,<sp/>0x48,<sp/>0x44,<sp/></highlight></codeline>
<codeline lineno="2087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x52,<sp/>0x00,<sp/>0x00,<sp/>0x00,<sp/>0x00,<sp/></highlight></codeline>
<codeline lineno="2088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x00,<sp/>0x00,<sp/>0x00,<sp/>0x00,<sp/>0x08,<sp/></highlight></codeline>
<codeline lineno="2089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x00,<sp/>0x00,<sp/>0x00,<sp/>0x00,<sp/>0x00,<sp/></highlight></codeline>
<codeline lineno="2090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x00,<sp/>0x00,<sp/>0x00,<sp/>0x00,<sp/>0x00,<sp/></highlight></codeline>
<codeline lineno="2091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x00,<sp/>0x00,<sp/>0x49,<sp/>0x44,<sp/>0x41,<sp/></highlight></codeline>
<codeline lineno="2092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x54<sp/>};</highlight></codeline>
<codeline lineno="2093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnghdr[18]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(w<sp/>&gt;&gt;<sp/>8);</highlight></codeline>
<codeline lineno="2094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnghdr[19]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)w;</highlight></codeline>
<codeline lineno="2095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnghdr[22]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(h<sp/>&gt;&gt;<sp/>8);</highlight></codeline>
<codeline lineno="2096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnghdr[22]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)h;</highlight></codeline>
<codeline lineno="2097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnghdr[25]<sp/>=<sp/>chans[num_chans];</highlight></codeline>
<codeline lineno="2098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnghdr[33]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(*pLen_out<sp/>&gt;&gt;<sp/>24);</highlight></codeline>
<codeline lineno="2099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnghdr[34]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(*pLen_out<sp/>&gt;&gt;<sp/>16);</highlight></codeline>
<codeline lineno="2100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnghdr[35]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(*pLen_out<sp/>&gt;&gt;<sp/>8);</highlight></codeline>
<codeline lineno="2101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnghdr[36]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)*pLen_out;</highlight></codeline>
<codeline lineno="2102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<ref refid="miniz_8c_1a8b7cb38252f297265f6b850ab4ae0f01" kindref="member">mz_crc32</ref>(<ref refid="miniz_8h_1a4e28761db3f5f136f790563dd13a08d6" kindref="member">MZ_CRC32_INIT</ref>,<sp/>pnghdr<sp/>+<sp/>12,<sp/>17);</highlight></codeline>
<codeline lineno="2103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>4;<sp/>++i,<sp/>c<sp/>&lt;&lt;=<sp/>8)</highlight></codeline>
<codeline lineno="2104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)(pnghdr<sp/>+<sp/>29))[i]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(c<sp/>&gt;&gt;<sp/>24);</highlight></codeline>
<codeline lineno="2105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(out_buf.<ref refid="structtdefl__output__buffer_1a60119e1ddcb4fb92149189bed7cb8250" kindref="member">m_pBuf</ref>,<sp/>pnghdr,<sp/>41);</highlight></codeline>
<codeline lineno="2106"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>write<sp/>footer<sp/>(IDAT<sp/>CRC-32,<sp/>followed<sp/>by<sp/>IEND<sp/>chunk)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a418a771218f0a371ebc981939074bbe4" kindref="member">tdefl_output_buffer_putter</ref>(</highlight><highlight class="stringliteral">&quot;\0\0\0\0\0\0\0\0\x49\x45\x4e\x44\xae\x42\x60\x82&quot;</highlight><highlight class="normal">,<sp/>16,<sp/>&amp;out_buf))</highlight></codeline>
<codeline lineno="2109"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pLen_out<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ac73e9b464ae92e51b762f496296d7582" kindref="member">MZ_FREE</ref>(pComp);</highlight></codeline>
<codeline lineno="2112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ac73e9b464ae92e51b762f496296d7582" kindref="member">MZ_FREE</ref>(out_buf.<ref refid="structtdefl__output__buffer_1a60119e1ddcb4fb92149189bed7cb8250" kindref="member">m_pBuf</ref>);</highlight></codeline>
<codeline lineno="2113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="2114"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2115"><highlight class="normal"><sp/><sp/><sp/><sp/>c<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<ref refid="miniz_8c_1a8b7cb38252f297265f6b850ab4ae0f01" kindref="member">mz_crc32</ref>(<ref refid="miniz_8h_1a4e28761db3f5f136f790563dd13a08d6" kindref="member">MZ_CRC32_INIT</ref>,<sp/>out_buf.<ref refid="structtdefl__output__buffer_1a60119e1ddcb4fb92149189bed7cb8250" kindref="member">m_pBuf</ref><sp/>+<sp/>41<sp/>-<sp/>4,<sp/>*pLen_out<sp/>+<sp/>4);</highlight></codeline>
<codeline lineno="2116"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>4;<sp/>++i,<sp/>c<sp/>&lt;&lt;=<sp/>8)</highlight></codeline>
<codeline lineno="2117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(out_buf.<ref refid="structtdefl__output__buffer_1a60119e1ddcb4fb92149189bed7cb8250" kindref="member">m_pBuf</ref><sp/>+<sp/>out_buf.<ref refid="structtdefl__output__buffer_1ab506aa434be983761db4cca43d2ebc9e" kindref="member">m_size</ref><sp/>-<sp/>16)[i]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(c<sp/>&gt;&gt;<sp/>24);</highlight></codeline>
<codeline lineno="2118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>compute<sp/>final<sp/>size<sp/>of<sp/>file,<sp/>grab<sp/>compressed<sp/>data<sp/>buffer<sp/>and<sp/>return<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2119"><highlight class="normal"><sp/><sp/><sp/><sp/>*pLen_out<sp/>+=<sp/>57;</highlight></codeline>
<codeline lineno="2120"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ac73e9b464ae92e51b762f496296d7582" kindref="member">MZ_FREE</ref>(pComp);</highlight></codeline>
<codeline lineno="2121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>out_buf.<ref refid="structtdefl__output__buffer_1a60119e1ddcb4fb92149189bed7cb8250" kindref="member">m_pBuf</ref>;</highlight></codeline>
<codeline lineno="2122"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2123"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="miniz_8c_1a0895bd488b9650322eedf2739f81402a" kindref="member">tdefl_write_image_to_png_file_in_memory</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pImage,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>w,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>h,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_chans,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*pLen_out)</highlight></codeline>
<codeline lineno="2124"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Level<sp/>6<sp/>corresponds<sp/>to<sp/>TDEFL_DEFAULT_MAX_PROBES<sp/>or<sp/>MZ_DEFAULT_LEVEL<sp/>(but<sp/>we<sp/>can&apos;t<sp/>depend<sp/>on<sp/>MZ_DEFAULT_LEVEL<sp/>being<sp/>available<sp/>in<sp/>case<sp/>the<sp/>zlib<sp/>API&apos;s<sp/>where<sp/>#defined<sp/>out)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a63a3ef354a44c931ddf34a66cf064b16" kindref="member">tdefl_write_image_to_png_file_in_memory_ex</ref>(pImage,<sp/>w,<sp/>h,<sp/>num_chans,<sp/>pLen_out,<sp/>6,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="2127"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2128"><highlight class="normal"></highlight></codeline>
<codeline lineno="2129"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Allocate<sp/>the<sp/>tdefl_compressor<sp/>and<sp/>tinfl_decompressor<sp/>structures<sp/>in<sp/>C<sp/>so<sp/>that<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2130"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>non-C<sp/>language<sp/>bindings<sp/>to<sp/>tdefL_<sp/>and<sp/>tinfl_<sp/>API<sp/>don&apos;t<sp/>need<sp/>to<sp/>worry<sp/>about<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2131"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>structure<sp/>size<sp/>and<sp/>allocation<sp/>mechanism.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2132"><highlight class="normal"><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*<ref refid="miniz_8c_1a862e12a5b9361933538572c4692d4544" kindref="member">tdefl_compressor_alloc</ref>()</highlight></codeline>
<codeline lineno="2133"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*)<ref refid="miniz_8h_1a09b9e87cb19529df25b3c3e47c9ad393" kindref="member">MZ_MALLOC</ref>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref>));</highlight></codeline>
<codeline lineno="2135"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2136"><highlight class="normal"></highlight></codeline>
<codeline lineno="2137"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1aaed356efd84e96e9f5eecdf078b07e50" kindref="member">tdefl_compressor_free</ref>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*pComp)</highlight></codeline>
<codeline lineno="2138"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2139"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ac73e9b464ae92e51b762f496296d7582" kindref="member">MZ_FREE</ref>(pComp);</highlight></codeline>
<codeline lineno="2140"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2141"><highlight class="normal"></highlight></codeline>
<codeline lineno="2142"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_MSC_VER</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2143"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>warning(pop)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2144"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2145"><highlight class="normal"></highlight></codeline>
<codeline lineno="2146"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2147"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2148"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2149"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************</highlight></codeline>
<codeline lineno="2150"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="2151"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>2013-2014<sp/>RAD<sp/>Game<sp/>Tools<sp/>and<sp/>Valve<sp/>Software</highlight></codeline>
<codeline lineno="2152"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>2010-2014<sp/>Rich<sp/>Geldreich<sp/>and<sp/>Tenacious<sp/>Software<sp/>LLC</highlight></codeline>
<codeline lineno="2153"><highlight class="comment"><sp/>*<sp/>All<sp/>Rights<sp/>Reserved.</highlight></codeline>
<codeline lineno="2154"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="2155"><highlight class="comment"><sp/>*<sp/>Permission<sp/>is<sp/>hereby<sp/>granted,<sp/>free<sp/>of<sp/>charge,<sp/>to<sp/>any<sp/>person<sp/>obtaining<sp/>a<sp/>copy</highlight></codeline>
<codeline lineno="2156"><highlight class="comment"><sp/>*<sp/>of<sp/>this<sp/>software<sp/>and<sp/>associated<sp/>documentation<sp/>files<sp/>(the<sp/>&quot;Software&quot;),<sp/>to<sp/>deal</highlight></codeline>
<codeline lineno="2157"><highlight class="comment"><sp/>*<sp/>in<sp/>the<sp/>Software<sp/>without<sp/>restriction,<sp/>including<sp/>without<sp/>limitation<sp/>the<sp/>rights</highlight></codeline>
<codeline lineno="2158"><highlight class="comment"><sp/>*<sp/>to<sp/>use,<sp/>copy,<sp/>modify,<sp/>merge,<sp/>publish,<sp/>distribute,<sp/>sublicense,<sp/>and/or<sp/>sell</highlight></codeline>
<codeline lineno="2159"><highlight class="comment"><sp/>*<sp/>copies<sp/>of<sp/>the<sp/>Software,<sp/>and<sp/>to<sp/>permit<sp/>persons<sp/>to<sp/>whom<sp/>the<sp/>Software<sp/>is</highlight></codeline>
<codeline lineno="2160"><highlight class="comment"><sp/>*<sp/>furnished<sp/>to<sp/>do<sp/>so,<sp/>subject<sp/>to<sp/>the<sp/>following<sp/>conditions:</highlight></codeline>
<codeline lineno="2161"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="2162"><highlight class="comment"><sp/>*<sp/>The<sp/>above<sp/>copyright<sp/>notice<sp/>and<sp/>this<sp/>permission<sp/>notice<sp/>shall<sp/>be<sp/>included<sp/>in</highlight></codeline>
<codeline lineno="2163"><highlight class="comment"><sp/>*<sp/>all<sp/>copies<sp/>or<sp/>substantial<sp/>portions<sp/>of<sp/>the<sp/>Software.</highlight></codeline>
<codeline lineno="2164"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="2165"><highlight class="comment"><sp/>*<sp/>THE<sp/>SOFTWARE<sp/>IS<sp/>PROVIDED<sp/>&quot;AS<sp/>IS&quot;,<sp/>WITHOUT<sp/>WARRANTY<sp/>OF<sp/>ANY<sp/>KIND,<sp/>EXPRESS<sp/>OR</highlight></codeline>
<codeline lineno="2166"><highlight class="comment"><sp/>*<sp/>IMPLIED,<sp/>INCLUDING<sp/>BUT<sp/>NOT<sp/>LIMITED<sp/>TO<sp/>THE<sp/>WARRANTIES<sp/>OF<sp/>MERCHANTABILITY,</highlight></codeline>
<codeline lineno="2167"><highlight class="comment"><sp/>*<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE<sp/>AND<sp/>NONINFRINGEMENT.<sp/>IN<sp/>NO<sp/>EVENT<sp/>SHALL<sp/>THE</highlight></codeline>
<codeline lineno="2168"><highlight class="comment"><sp/>*<sp/>AUTHORS<sp/>OR<sp/>COPYRIGHT<sp/>HOLDERS<sp/>BE<sp/>LIABLE<sp/>FOR<sp/>ANY<sp/>CLAIM,<sp/>DAMAGES<sp/>OR<sp/>OTHER</highlight></codeline>
<codeline lineno="2169"><highlight class="comment"><sp/>*<sp/>LIABILITY,<sp/>WHETHER<sp/>IN<sp/>AN<sp/>ACTION<sp/>OF<sp/>CONTRACT,<sp/>TORT<sp/>OR<sp/>OTHERWISE,<sp/>ARISING<sp/>FROM,</highlight></codeline>
<codeline lineno="2170"><highlight class="comment"><sp/>*<sp/>OUT<sp/>OF<sp/>OR<sp/>IN<sp/>CONNECTION<sp/>WITH<sp/>THE<sp/>SOFTWARE<sp/>OR<sp/>THE<sp/>USE<sp/>OR<sp/>OTHER<sp/>DEALINGS<sp/>IN</highlight></codeline>
<codeline lineno="2171"><highlight class="comment"><sp/>*<sp/>THE<sp/>SOFTWARE.</highlight></codeline>
<codeline lineno="2172"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="2173"><highlight class="comment"><sp/>**************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2174"><highlight class="normal"></highlight></codeline>
<codeline lineno="2175"><highlight class="normal"></highlight></codeline>
<codeline lineno="2176"><highlight class="normal"></highlight></codeline>
<codeline lineno="2177"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2178"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;C&quot;</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2179"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2180"><highlight class="normal"></highlight></codeline>
<codeline lineno="2181"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>-------------------<sp/>Low-level<sp/>Decompression<sp/>(completely<sp/>independent<sp/>from<sp/>all<sp/>compression<sp/>API&apos;s)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2182"><highlight class="normal"></highlight></codeline>
<codeline lineno="2183"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TINFL_MEMCPY(d,<sp/>s,<sp/>l)<sp/>memcpy(d,<sp/>s,<sp/>l)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2184"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TINFL_MEMSET(p,<sp/>c,<sp/>l)<sp/>memset(p,<sp/>c,<sp/>l)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2185"><highlight class="normal"></highlight></codeline>
<codeline lineno="2186"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TINFL_CR_BEGIN<sp/><sp/>\</highlight></codeline>
<codeline lineno="2187"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>switch<sp/>(r-&gt;m_state)<sp/>\</highlight></codeline>
<codeline lineno="2188"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2189"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>0:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2190"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TINFL_CR_RETURN(state_index,<sp/>result)<sp/>\</highlight></codeline>
<codeline lineno="2191"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>do<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2192"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2193"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/>result;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2194"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r-&gt;m_state<sp/>=<sp/>state_index;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2195"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>goto<sp/>common_exit;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2196"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>state_index:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2197"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2198"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2199"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>MZ_MACRO_END</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2200"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TINFL_CR_RETURN_FOREVER(state_index,<sp/>result)<sp/>\</highlight></codeline>
<codeline lineno="2201"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>do<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2202"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2203"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>(;;)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2204"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2205"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TINFL_CR_RETURN(state_index,<sp/>result);<sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2206"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2207"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2208"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>MZ_MACRO_END</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2209"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TINFL_CR_FINISH<sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2210"><highlight class="normal"></highlight></codeline>
<codeline lineno="2211"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TINFL_GET_BYTE(state_index,<sp/>c)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2212"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>do<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2213"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2214"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>while<sp/>(pIn_buf_cur<sp/>&gt;=<sp/>pIn_buf_end)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2215"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2216"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TINFL_CR_RETURN(state_index,<sp/>(decomp_flags<sp/>&amp;TINFL_FLAG_HAS_MORE_INPUT)<sp/>?<sp/>TINFL_STATUS_NEEDS_MORE_INPUT<sp/>:<sp/>TINFL_STATUS_FAILED_CANNOT_MAKE_PROGRESS);<sp/>\</highlight></codeline>
<codeline lineno="2217"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2218"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/>*pIn_buf_cur++;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2219"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2220"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>MZ_MACRO_END</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2221"><highlight class="normal"></highlight></codeline>
<codeline lineno="2222"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TINFL_NEED_BITS(state_index,<sp/>n)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2223"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>do<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2224"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2225"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mz_uint<sp/>c;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2226"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TINFL_GET_BYTE(state_index,<sp/>c);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2227"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_buf<sp/>|=<sp/>(((tinfl_bit_buf_t)c)<sp/>&lt;&lt;<sp/>num_bits);<sp/>\</highlight></codeline>
<codeline lineno="2228"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_bits<sp/>+=<sp/>8;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2229"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>}<sp/>while<sp/>(num_bits<sp/>&lt;<sp/>(mz_uint)(n))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2230"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TINFL_SKIP_BITS(state_index,<sp/>n)<sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2231"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>do<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2232"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2233"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(num_bits<sp/>&lt;<sp/>(mz_uint)(n))<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2234"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2235"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TINFL_NEED_BITS(state_index,<sp/>n);<sp/>\</highlight></codeline>
<codeline lineno="2236"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2237"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_buf<sp/>&gt;&gt;=<sp/>(n);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2238"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_bits<sp/>-=<sp/>(n);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2239"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2240"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>MZ_MACRO_END</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2241"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TINFL_GET_BITS(state_index,<sp/>b,<sp/>n)<sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2242"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>do<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2243"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2244"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(num_bits<sp/>&lt;<sp/>(mz_uint)(n))<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2245"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2246"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TINFL_NEED_BITS(state_index,<sp/>n);<sp/>\</highlight></codeline>
<codeline lineno="2247"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2248"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>b<sp/>=<sp/>bit_buf<sp/>&amp;<sp/>((1<sp/>&lt;&lt;<sp/>(n))<sp/>-<sp/>1);<sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2249"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_buf<sp/>&gt;&gt;=<sp/>(n);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2250"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_bits<sp/>-=<sp/>(n);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2251"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2252"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>MZ_MACRO_END</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2253"><highlight class="normal"></highlight></codeline>
<codeline lineno="2254"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>TINFL_HUFF_BITBUF_FILL()<sp/>is<sp/>only<sp/>used<sp/>rarely,<sp/>when<sp/>the<sp/>number<sp/>of<sp/>bytes<sp/>remaining<sp/>in<sp/>the<sp/>input<sp/>buffer<sp/>falls<sp/>below<sp/>2.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2255"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>It<sp/>reads<sp/>just<sp/>enough<sp/>bytes<sp/>from<sp/>the<sp/>input<sp/>stream<sp/>that<sp/>are<sp/>needed<sp/>to<sp/>decode<sp/>the<sp/>next<sp/>Huffman<sp/>code<sp/>(and<sp/>absolutely<sp/>no<sp/>more).<sp/>It<sp/>works<sp/>by<sp/>trying<sp/>to<sp/>fully<sp/>decode<sp/>a<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2256"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Huffman<sp/>code<sp/>by<sp/>using<sp/>whatever<sp/>bits<sp/>are<sp/>currently<sp/>present<sp/>in<sp/>the<sp/>bit<sp/>buffer.<sp/>If<sp/>this<sp/>fails,<sp/>it<sp/>reads<sp/>another<sp/>byte,<sp/>and<sp/>tries<sp/>again<sp/>until<sp/>it<sp/>succeeds<sp/>or<sp/>until<sp/>the<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2257"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>bit<sp/>buffer<sp/>contains<sp/>&gt;=15<sp/>bits<sp/>(deflate&apos;s<sp/>max.<sp/>Huffman<sp/>code<sp/>size).<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2258"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TINFL_HUFF_BITBUF_FILL(state_index,<sp/>pHuff)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2259"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>do<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2260"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2261"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp<sp/>=<sp/>(pHuff)-&gt;m_look_up[bit_buf<sp/>&amp;<sp/>(TINFL_FAST_LOOKUP_SIZE<sp/>-<sp/>1)];<sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2262"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(temp<sp/>&gt;=<sp/>0)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2263"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2264"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>code_len<sp/>=<sp/>temp<sp/>&gt;&gt;<sp/>9;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2265"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>((code_len)<sp/>&amp;&amp;<sp/>(num_bits<sp/>&gt;=<sp/>code_len))<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2266"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2267"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2268"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else<sp/>if<sp/>(num_bits<sp/>&gt;<sp/>TINFL_FAST_LOOKUP_BITS)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2269"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2270"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>code_len<sp/>=<sp/>TINFL_FAST_LOOKUP_BITS;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2271"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>do<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2272"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2273"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp<sp/>=<sp/>(pHuff)-&gt;m_tree[~temp<sp/>+<sp/>((bit_buf<sp/>&gt;&gt;<sp/>code_len++)<sp/>&amp;<sp/>1)];<sp/>\</highlight></codeline>
<codeline lineno="2274"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/>while<sp/>((temp<sp/>&lt;<sp/>0)<sp/>&amp;&amp;<sp/>(num_bits<sp/>&gt;=<sp/>(code_len<sp/>+<sp/>1)));<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2275"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(temp<sp/>&gt;=<sp/>0)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2276"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2277"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2278"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TINFL_GET_BYTE(state_index,<sp/>c);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2279"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_buf<sp/>|=<sp/>(((tinfl_bit_buf_t)c)<sp/>&lt;&lt;<sp/>num_bits);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2280"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_bits<sp/>+=<sp/>8;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2281"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>}<sp/>while<sp/>(num_bits<sp/>&lt;<sp/>15);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2282"><highlight class="normal"></highlight></codeline>
<codeline lineno="2283"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>TINFL_HUFF_DECODE()<sp/>decodes<sp/>the<sp/>next<sp/>Huffman<sp/>coded<sp/>symbol.<sp/>It&apos;s<sp/>more<sp/>complex<sp/>than<sp/>you<sp/>would<sp/>initially<sp/>expect<sp/>because<sp/>the<sp/>zlib<sp/>API<sp/>expects<sp/>the<sp/>decompressor<sp/>to<sp/>never<sp/>read<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2284"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>beyond<sp/>the<sp/>final<sp/>byte<sp/>of<sp/>the<sp/>deflate<sp/>stream.<sp/>(In<sp/>other<sp/>words,<sp/>when<sp/>this<sp/>macro<sp/>wants<sp/>to<sp/>read<sp/>another<sp/>byte<sp/>from<sp/>the<sp/>input,<sp/>it<sp/>REALLY<sp/>needs<sp/>another<sp/>byte<sp/>in<sp/>order<sp/>to<sp/>fully<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2285"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>decode<sp/>the<sp/>next<sp/>Huffman<sp/>code.)<sp/>Handling<sp/>this<sp/>properly<sp/>is<sp/>particularly<sp/>important<sp/>on<sp/>raw<sp/>deflate<sp/>(non-zlib)<sp/>streams,<sp/>which<sp/>aren&apos;t<sp/>followed<sp/>by<sp/>a<sp/>byte<sp/>aligned<sp/>adler-32.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2286"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>The<sp/>slow<sp/>path<sp/>is<sp/>only<sp/>executed<sp/>at<sp/>the<sp/>very<sp/>end<sp/>of<sp/>the<sp/>input<sp/>buffer.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2287"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>v1.16:<sp/>The<sp/>original<sp/>macro<sp/>handled<sp/>the<sp/>case<sp/>at<sp/>the<sp/>very<sp/>end<sp/>of<sp/>the<sp/>passed-in<sp/>input<sp/>buffer,<sp/>but<sp/>we<sp/>also<sp/>need<sp/>to<sp/>handle<sp/>the<sp/>case<sp/>where<sp/>the<sp/>user<sp/>passes<sp/>in<sp/>1+zillion<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2288"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>following<sp/>the<sp/>deflate<sp/>data<sp/>and<sp/>our<sp/>non-conservative<sp/>read-ahead<sp/>path<sp/>won&apos;t<sp/>kick<sp/>in<sp/>here<sp/>on<sp/>this<sp/>code.<sp/>This<sp/>is<sp/>much<sp/>trickier.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2289"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TINFL_HUFF_DECODE(state_index,<sp/>sym,<sp/>pHuff)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2290"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>do<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2291"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2292"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int<sp/>temp;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2293"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mz_uint<sp/>code_len,<sp/>c;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2294"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(num_bits<sp/>&lt;<sp/>15)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2295"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2296"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>((pIn_buf_end<sp/>-<sp/>pIn_buf_cur)<sp/>&lt;<sp/>2)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2297"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2298"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TINFL_HUFF_BITBUF_FILL(state_index,<sp/>pHuff);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2299"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2300"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2301"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2302"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_buf<sp/>|=<sp/>(((tinfl_bit_buf_t)pIn_buf_cur[0])<sp/>&lt;&lt;<sp/>num_bits)<sp/>|<sp/>(((tinfl_bit_buf_t)pIn_buf_cur[1])<sp/>&lt;&lt;<sp/>(num_bits<sp/>+<sp/>8));<sp/>\</highlight></codeline>
<codeline lineno="2303"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pIn_buf_cur<sp/>+=<sp/>2;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2304"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_bits<sp/>+=<sp/>16;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2305"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2306"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2307"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>((temp<sp/>=<sp/>(pHuff)-&gt;m_look_up[bit_buf<sp/>&amp;<sp/>(TINFL_FAST_LOOKUP_SIZE<sp/>-<sp/>1)])<sp/>&gt;=<sp/>0)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2308"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>code_len<sp/>=<sp/>temp<sp/>&gt;&gt;<sp/>9,<sp/>temp<sp/>&amp;=<sp/>511;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2309"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2310"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2311"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>code_len<sp/>=<sp/>TINFL_FAST_LOOKUP_BITS;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2312"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>do<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2313"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2314"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp<sp/>=<sp/>(pHuff)-&gt;m_tree[~temp<sp/>+<sp/>((bit_buf<sp/>&gt;&gt;<sp/>code_len++)<sp/>&amp;<sp/>1)];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2315"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/>while<sp/>(temp<sp/>&lt;<sp/>0);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2316"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2317"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sym<sp/>=<sp/>temp;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2318"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_buf<sp/>&gt;&gt;=<sp/>code_len;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2319"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_bits<sp/>-=<sp/>code_len;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2320"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="2321"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>MZ_MACRO_END</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2322"><highlight class="normal"></highlight></codeline>
<codeline lineno="2323"><highlight class="normal"><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4" kindref="member">tinfl_status</ref><sp/><ref refid="miniz_8c_1ac4e4c006d234780922676ecc31fe1416" kindref="member">tinfl_decompress</ref>(<ref refid="structtinfl__decompressor__tag" kindref="compound">tinfl_decompressor</ref><sp/>*r,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pIn_buf_next,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*pIn_buf_size,<sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pOut_buf_start,<sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pOut_buf_next,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*pOut_buf_size,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>decomp_flags)</highlight></codeline>
<codeline lineno="2324"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2325"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>s_length_base[31]<sp/>=<sp/>{<sp/>3,<sp/>4,<sp/>5,<sp/>6,<sp/>7,<sp/>8,<sp/>9,<sp/>10,<sp/>11,<sp/>13,<sp/>15,<sp/>17,<sp/>19,<sp/>23,<sp/>27,<sp/>31,<sp/>35,<sp/>43,<sp/>51,<sp/>59,<sp/>67,<sp/>83,<sp/>99,<sp/>115,<sp/>131,<sp/>163,<sp/>195,<sp/>227,<sp/>258,<sp/>0,<sp/>0<sp/>};</highlight></codeline>
<codeline lineno="2326"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>s_length_extra[31]<sp/>=<sp/>{<sp/>0,<sp/>0,<sp/>0,<sp/>0,<sp/>0,<sp/>0,<sp/>0,<sp/>0,<sp/>1,<sp/>1,<sp/>1,<sp/>1,<sp/>2,<sp/>2,<sp/>2,<sp/>2,<sp/>3,<sp/>3,<sp/>3,<sp/>3,<sp/>4,<sp/>4,<sp/>4,<sp/>4,<sp/>5,<sp/>5,<sp/>5,<sp/>5,<sp/>0,<sp/>0,<sp/>0<sp/>};</highlight></codeline>
<codeline lineno="2327"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>s_dist_base[32]<sp/>=<sp/>{<sp/>1,<sp/>2,<sp/>3,<sp/>4,<sp/>5,<sp/>7,<sp/>9,<sp/>13,<sp/>17,<sp/>25,<sp/>33,<sp/>49,<sp/>65,<sp/>97,<sp/>129,<sp/>193,<sp/>257,<sp/>385,<sp/>513,<sp/>769,<sp/>1025,<sp/>1537,<sp/>2049,<sp/>3073,<sp/>4097,<sp/>6145,<sp/>8193,<sp/>12289,<sp/>16385,<sp/>24577,<sp/>0,<sp/>0<sp/>};</highlight></codeline>
<codeline lineno="2328"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>s_dist_extra[32]<sp/>=<sp/>{<sp/>0,<sp/>0,<sp/>0,<sp/>0,<sp/>1,<sp/>1,<sp/>2,<sp/>2,<sp/>3,<sp/>3,<sp/>4,<sp/>4,<sp/>5,<sp/>5,<sp/>6,<sp/>6,<sp/>7,<sp/>7,<sp/>8,<sp/>8,<sp/>9,<sp/>9,<sp/>10,<sp/>10,<sp/>11,<sp/>11,<sp/>12,<sp/>12,<sp/>13,<sp/>13<sp/>};</highlight></codeline>
<codeline lineno="2329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>s_length_dezigzag[19]<sp/>=<sp/>{<sp/>16,<sp/>17,<sp/>18,<sp/>0,<sp/>8,<sp/>7,<sp/>9,<sp/>6,<sp/>10,<sp/>5,<sp/>11,<sp/>4,<sp/>12,<sp/>3,<sp/>13,<sp/>2,<sp/>14,<sp/>1,<sp/>15<sp/>};</highlight></codeline>
<codeline lineno="2330"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>s_min_table_sizes[3]<sp/>=<sp/>{<sp/>257,<sp/>1,<sp/>4<sp/>};</highlight></codeline>
<codeline lineno="2331"><highlight class="normal"></highlight></codeline>
<codeline lineno="2332"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4" kindref="member">tinfl_status</ref><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>;</highlight></codeline>
<codeline lineno="2333"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>num_bits,<sp/>dist,<sp/>counter,<sp/>num_extra;</highlight></codeline>
<codeline lineno="2334"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1af6af194c507342cda458498cd37ca418" kindref="member">tinfl_bit_buf_t</ref><sp/>bit_buf;</highlight></codeline>
<codeline lineno="2335"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pIn_buf_cur<sp/>=<sp/>pIn_buf_next,<sp/>*</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>pIn_buf_end<sp/>=<sp/>pIn_buf_next<sp/>+<sp/>*pIn_buf_size;</highlight></codeline>
<codeline lineno="2336"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pOut_buf_cur<sp/>=<sp/>pOut_buf_next,<sp/>*</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>pOut_buf_end<sp/>=<sp/>pOut_buf_next<sp/>+<sp/>*pOut_buf_size;</highlight></codeline>
<codeline lineno="2337"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>out_buf_size_mask<sp/>=<sp/>(decomp_flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a385c44f6fb256e5716a2302a5b940388a086ec4df460b3a0c5085e22fd679b7d9" kindref="member">TINFL_FLAG_USING_NON_WRAPPING_OUTPUT_BUF</ref>)<sp/>?<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)<sp/>-<sp/>1<sp/>:<sp/>((pOut_buf_next<sp/>-<sp/>pOut_buf_start)<sp/>+<sp/>*pOut_buf_size)<sp/>-<sp/>1,<sp/>dist_from_out_buf_start;</highlight></codeline>
<codeline lineno="2338"><highlight class="normal"></highlight></codeline>
<codeline lineno="2339"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ensure<sp/>the<sp/>output<sp/>buffer&apos;s<sp/>size<sp/>is<sp/>a<sp/>power<sp/>of<sp/>2,<sp/>unless<sp/>the<sp/>output<sp/>buffer<sp/>is<sp/>large<sp/>enough<sp/>to<sp/>hold<sp/>the<sp/>entire<sp/>output<sp/>file<sp/>(in<sp/>which<sp/>case<sp/>it<sp/>doesn&apos;t<sp/>matter).<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2340"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((out_buf_size_mask<sp/>+<sp/>1)<sp/>&amp;<sp/>out_buf_size_mask)<sp/>||<sp/>(pOut_buf_next<sp/>&lt;<sp/>pOut_buf_start))</highlight></codeline>
<codeline lineno="2341"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pIn_buf_size<sp/>=<sp/>*pOut_buf_size<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a61c8d6dd2c312ee7a474ac6782e4bed9" kindref="member">TINFL_STATUS_BAD_PARAM</ref>;</highlight></codeline>
<codeline lineno="2344"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2345"><highlight class="normal"></highlight></codeline>
<codeline lineno="2346"><highlight class="normal"><sp/><sp/><sp/><sp/>num_bits<sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1aa27988907a00d70bbeb36f4c4c09a2cf" kindref="member">m_num_bits</ref>;</highlight></codeline>
<codeline lineno="2347"><highlight class="normal"><sp/><sp/><sp/><sp/>bit_buf<sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a534e77162cb88e3d5b2ca52378860e04" kindref="member">m_bit_buf</ref>;</highlight></codeline>
<codeline lineno="2348"><highlight class="normal"><sp/><sp/><sp/><sp/>dist<sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1ad0221a26f3135d362943de2e2806aa12" kindref="member">m_dist</ref>;</highlight></codeline>
<codeline lineno="2349"><highlight class="normal"><sp/><sp/><sp/><sp/>counter<sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a55d43ca0603c01e6b40945c901e1343e" kindref="member">m_counter</ref>;</highlight></codeline>
<codeline lineno="2350"><highlight class="normal"><sp/><sp/><sp/><sp/>num_extra<sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1af646c16845f58dd81ee8dc03e0fc2a43" kindref="member">m_num_extra</ref>;</highlight></codeline>
<codeline lineno="2351"><highlight class="normal"><sp/><sp/><sp/><sp/>dist_from_out_buf_start<sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a7f3575865115ab117d1d16afd5c173d9" kindref="member">m_dist_from_out_buf_start</ref>;</highlight></codeline>
<codeline lineno="2352"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1bf00dad2822034f9b1369579a9c98d1" kindref="member">TINFL_CR_BEGIN</ref></highlight></codeline>
<codeline lineno="2353"><highlight class="normal"></highlight></codeline>
<codeline lineno="2354"><highlight class="normal"><sp/><sp/><sp/><sp/>bit_buf<sp/>=<sp/>num_bits<sp/>=<sp/>dist<sp/>=<sp/>counter<sp/>=<sp/>num_extra<sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a3f27466b6f5ec49b73db82fde43118c3" kindref="member">m_zhdr0</ref><sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1aa20c2fae45d99a1ae97fb7d58fefcd48" kindref="member">m_zhdr1</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2355"><highlight class="normal"><sp/><sp/><sp/><sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1aab03536da4b49c3125b11f8c7e999895" kindref="member">m_z_adler32</ref><sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a80c6f22b32fb288a5d376f6f93b2d63d" kindref="member">m_check_adler32</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="2356"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(decomp_flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a385c44f6fb256e5716a2302a5b940388af085740084ef23d974d043aeda6f2245" kindref="member">TINFL_FLAG_PARSE_ZLIB_HEADER</ref>)</highlight></codeline>
<codeline lineno="2357"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a26b0de30f3238271922e55776feacb0f" kindref="member">TINFL_GET_BYTE</ref>(1,<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a3f27466b6f5ec49b73db82fde43118c3" kindref="member">m_zhdr0</ref>);</highlight></codeline>
<codeline lineno="2359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a26b0de30f3238271922e55776feacb0f" kindref="member">TINFL_GET_BYTE</ref>(2,<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1aa20c2fae45d99a1ae97fb7d58fefcd48" kindref="member">m_zhdr1</ref>);</highlight></codeline>
<codeline lineno="2360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>counter<sp/>=<sp/>(((r-&gt;<ref refid="structtinfl__decompressor__tag_1a3f27466b6f5ec49b73db82fde43118c3" kindref="member">m_zhdr0</ref><sp/>*<sp/>256<sp/>+<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1aa20c2fae45d99a1ae97fb7d58fefcd48" kindref="member">m_zhdr1</ref>)<sp/>%<sp/>31<sp/>!=<sp/>0)<sp/>||<sp/>(r-&gt;<ref refid="structtinfl__decompressor__tag_1aa20c2fae45d99a1ae97fb7d58fefcd48" kindref="member">m_zhdr1</ref><sp/>&amp;<sp/>32)<sp/>||<sp/>((r-&gt;<ref refid="structtinfl__decompressor__tag_1a3f27466b6f5ec49b73db82fde43118c3" kindref="member">m_zhdr0</ref><sp/>&amp;<sp/>15)<sp/>!=<sp/>8));</highlight></codeline>
<codeline lineno="2361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(decomp_flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a385c44f6fb256e5716a2302a5b940388a086ec4df460b3a0c5085e22fd679b7d9" kindref="member">TINFL_FLAG_USING_NON_WRAPPING_OUTPUT_BUF</ref>))</highlight></codeline>
<codeline lineno="2362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>counter<sp/>|=<sp/>(((1U<sp/>&lt;&lt;<sp/>(8U<sp/>+<sp/>(r-&gt;<ref refid="structtinfl__decompressor__tag_1a3f27466b6f5ec49b73db82fde43118c3" kindref="member">m_zhdr0</ref><sp/>&gt;&gt;<sp/>4)))<sp/>&gt;<sp/>32768U)<sp/>||<sp/>((out_buf_size_mask<sp/>+<sp/>1)<sp/>&lt;<sp/>(size_t)(1U<sp/>&lt;&lt;<sp/>(8U<sp/>+<sp/>(r-&gt;<ref refid="structtinfl__decompressor__tag_1a3f27466b6f5ec49b73db82fde43118c3" kindref="member">m_zhdr0</ref><sp/>&gt;&gt;<sp/>4)))));</highlight></codeline>
<codeline lineno="2363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(counter)</highlight></codeline>
<codeline lineno="2364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a9b93b1cd46aaf29a27dfb526bd110d63" kindref="member">TINFL_CR_RETURN_FOREVER</ref>(36,<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>);</highlight></codeline>
<codeline lineno="2366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2367"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2368"><highlight class="normal"></highlight></codeline>
<codeline lineno="2369"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2370"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a4cccb4d20cb7fe52ed89300dcd665815" kindref="member">TINFL_GET_BITS</ref>(3,<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a39ed69be124315c9b42358d27b285987" kindref="member">m_final</ref>,<sp/>3);</highlight></codeline>
<codeline lineno="2372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a25a2446091964983dc8a4b01064a287c" kindref="member">m_type</ref><sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a39ed69be124315c9b42358d27b285987" kindref="member">m_final</ref><sp/>&gt;&gt;<sp/>1;</highlight></codeline>
<codeline lineno="2373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(r-&gt;<ref refid="structtinfl__decompressor__tag_1a25a2446091964983dc8a4b01064a287c" kindref="member">m_type</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="2374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1aed4ea8f4cdcf4ad4416419dab601e7f0" kindref="member">TINFL_SKIP_BITS</ref>(5,<sp/>num_bits<sp/>&amp;<sp/>7);</highlight></codeline>
<codeline lineno="2376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(counter<sp/>=<sp/>0;<sp/>counter<sp/>&lt;<sp/>4;<sp/>++counter)</highlight></codeline>
<codeline lineno="2377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(num_bits)</highlight></codeline>
<codeline lineno="2379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a4cccb4d20cb7fe52ed89300dcd665815" kindref="member">TINFL_GET_BITS</ref>(6,<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a9e1f3aec5562c9b6fe92d96ad70b6d29" kindref="member">m_raw_header</ref>[counter],<sp/>8);</highlight></codeline>
<codeline lineno="2380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a26b0de30f3238271922e55776feacb0f" kindref="member">TINFL_GET_BYTE</ref>(7,<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a9e1f3aec5562c9b6fe92d96ad70b6d29" kindref="member">m_raw_header</ref>[counter]);</highlight></codeline>
<codeline lineno="2382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((counter<sp/>=<sp/>(r-&gt;<ref refid="structtinfl__decompressor__tag_1a9e1f3aec5562c9b6fe92d96ad70b6d29" kindref="member">m_raw_header</ref>[0]<sp/>|<sp/>(r-&gt;<ref refid="structtinfl__decompressor__tag_1a9e1f3aec5562c9b6fe92d96ad70b6d29" kindref="member">m_raw_header</ref>[1]<sp/>&lt;&lt;<sp/>8)))<sp/>!=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)(0xFFFF<sp/>^<sp/>(r-&gt;<ref refid="structtinfl__decompressor__tag_1a9e1f3aec5562c9b6fe92d96ad70b6d29" kindref="member">m_raw_header</ref>[2]<sp/>|<sp/>(r-&gt;<ref refid="structtinfl__decompressor__tag_1a9e1f3aec5562c9b6fe92d96ad70b6d29" kindref="member">m_raw_header</ref>[3]<sp/>&lt;&lt;<sp/>8))))</highlight></codeline>
<codeline lineno="2384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a9b93b1cd46aaf29a27dfb526bd110d63" kindref="member">TINFL_CR_RETURN_FOREVER</ref>(39,<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>);</highlight></codeline>
<codeline lineno="2386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((counter)<sp/>&amp;&amp;<sp/>(num_bits))</highlight></codeline>
<codeline lineno="2388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a4cccb4d20cb7fe52ed89300dcd665815" kindref="member">TINFL_GET_BITS</ref>(51,<sp/>dist,<sp/>8);</highlight></codeline>
<codeline lineno="2390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(pOut_buf_cur<sp/>&gt;=<sp/>pOut_buf_end)</highlight></codeline>
<codeline lineno="2391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a9b76ea2ad5e09a1bd4a7d663745ac29e" kindref="member">TINFL_CR_RETURN</ref>(52,<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a49583f3a8fa8eb17838e17f21c08be05" kindref="member">TINFL_STATUS_HAS_MORE_OUTPUT</ref>);</highlight></codeline>
<codeline lineno="2393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pOut_buf_cur++<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)dist;</highlight></codeline>
<codeline lineno="2395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>counter--;</highlight></codeline>
<codeline lineno="2396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(counter)</highlight></codeline>
<codeline lineno="2398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>n;</highlight></codeline>
<codeline lineno="2400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(pOut_buf_cur<sp/>&gt;=<sp/>pOut_buf_end)</highlight></codeline>
<codeline lineno="2401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a9b76ea2ad5e09a1bd4a7d663745ac29e" kindref="member">TINFL_CR_RETURN</ref>(9,<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a49583f3a8fa8eb17838e17f21c08be05" kindref="member">TINFL_STATUS_HAS_MORE_OUTPUT</ref>);</highlight></codeline>
<codeline lineno="2403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(pIn_buf_cur<sp/>&gt;=<sp/>pIn_buf_end)</highlight></codeline>
<codeline lineno="2405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a9b76ea2ad5e09a1bd4a7d663745ac29e" kindref="member">TINFL_CR_RETURN</ref>(38,<sp/>(decomp_flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a385c44f6fb256e5716a2302a5b940388a2eb96c68c6a8df342d8f12d7efcf96c1" kindref="member">TINFL_FLAG_HAS_MORE_INPUT</ref>)<sp/>?<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a4150e95aacd9bf414c6f9155263b60e8" kindref="member">TINFL_STATUS_NEEDS_MORE_INPUT</ref><sp/>:<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a7661742c9463ceaa3872ffca2fb15998" kindref="member">TINFL_STATUS_FAILED_CANNOT_MAKE_PROGRESS</ref>);</highlight></codeline>
<codeline lineno="2407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(<ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>((</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)(pOut_buf_end<sp/>-<sp/>pOut_buf_cur),<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)(pIn_buf_end<sp/>-<sp/>pIn_buf_cur)),<sp/>counter);</highlight></codeline>
<codeline lineno="2409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a4a70ebaf3e07c9f51d41ba0e552bad0a" kindref="member">TINFL_MEMCPY</ref>(pOut_buf_cur,<sp/>pIn_buf_cur,<sp/>n);</highlight></codeline>
<codeline lineno="2410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pIn_buf_cur<sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="2411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut_buf_cur<sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="2412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>counter<sp/>-=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)n;</highlight></codeline>
<codeline lineno="2413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(r-&gt;<ref refid="structtinfl__decompressor__tag_1a25a2446091964983dc8a4b01064a287c" kindref="member">m_type</ref><sp/>==<sp/>3)</highlight></codeline>
<codeline lineno="2416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a9b93b1cd46aaf29a27dfb526bd110d63" kindref="member">TINFL_CR_RETURN_FOREVER</ref>(10,<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>);</highlight></codeline>
<codeline lineno="2418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(r-&gt;<ref refid="structtinfl__decompressor__tag_1a25a2446091964983dc8a4b01064a287c" kindref="member">m_type</ref><sp/>==<sp/>1)</highlight></codeline>
<codeline lineno="2422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*p<sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a98139fb01bb5d503cb24acbd23af33a1" kindref="member">m_tables</ref>[0].<ref refid="structtinfl__huff__table_1a31f719d4829db3d6646139d5249094cb" kindref="member">m_code_size</ref>;</highlight></codeline>
<codeline lineno="2424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>i;</highlight></codeline>
<codeline lineno="2425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1ac592ab5540fb0bd0ae64867ed50402b2" kindref="member">m_table_sizes</ref>[0]<sp/>=<sp/>288;</highlight></codeline>
<codeline lineno="2426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1ac592ab5540fb0bd0ae64867ed50402b2" kindref="member">m_table_sizes</ref>[1]<sp/>=<sp/>32;</highlight></codeline>
<codeline lineno="2427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a7dd776de8caf03a8e44e7f0329953b68" kindref="member">TINFL_MEMSET</ref>(r-&gt;<ref refid="structtinfl__decompressor__tag_1a98139fb01bb5d503cb24acbd23af33a1" kindref="member">m_tables</ref>[1].<ref refid="structtinfl__huff__table_1a31f719d4829db3d6646139d5249094cb" kindref="member">m_code_size</ref>,<sp/>5,<sp/>32);</highlight></codeline>
<codeline lineno="2428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;=<sp/>143;<sp/>++i)</highlight></codeline>
<codeline lineno="2429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*p++<sp/>=<sp/>8;</highlight></codeline>
<codeline lineno="2430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;<sp/>i<sp/>&lt;=<sp/>255;<sp/>++i)</highlight></codeline>
<codeline lineno="2431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*p++<sp/>=<sp/>9;</highlight></codeline>
<codeline lineno="2432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;<sp/>i<sp/>&lt;=<sp/>279;<sp/>++i)</highlight></codeline>
<codeline lineno="2433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*p++<sp/>=<sp/>7;</highlight></codeline>
<codeline lineno="2434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;<sp/>i<sp/>&lt;=<sp/>287;<sp/>++i)</highlight></codeline>
<codeline lineno="2435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*p++<sp/>=<sp/>8;</highlight></codeline>
<codeline lineno="2436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(counter<sp/>=<sp/>0;<sp/>counter<sp/>&lt;<sp/>3;<sp/>counter++)</highlight></codeline>
<codeline lineno="2440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a4cccb4d20cb7fe52ed89300dcd665815" kindref="member">TINFL_GET_BITS</ref>(11,<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1ac592ab5540fb0bd0ae64867ed50402b2" kindref="member">m_table_sizes</ref>[counter],<sp/></highlight><highlight class="stringliteral">&quot;\05\05\04&quot;</highlight><highlight class="normal">[counter]);</highlight></codeline>
<codeline lineno="2442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1ac592ab5540fb0bd0ae64867ed50402b2" kindref="member">m_table_sizes</ref>[counter]<sp/>+=<sp/>s_min_table_sizes[counter];</highlight></codeline>
<codeline lineno="2443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(r-&gt;<ref refid="structtinfl__decompressor__tag_1a98139fb01bb5d503cb24acbd23af33a1" kindref="member">m_tables</ref>[2].<ref refid="structtinfl__huff__table_1a31f719d4829db3d6646139d5249094cb" kindref="member">m_code_size</ref>);</highlight></codeline>
<codeline lineno="2445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(counter<sp/>=<sp/>0;<sp/>counter<sp/>&lt;<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1ac592ab5540fb0bd0ae64867ed50402b2" kindref="member">m_table_sizes</ref>[2];<sp/>counter++)</highlight></codeline>
<codeline lineno="2446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>s;</highlight></codeline>
<codeline lineno="2448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a4cccb4d20cb7fe52ed89300dcd665815" kindref="member">TINFL_GET_BITS</ref>(14,<sp/>s,<sp/>3);</highlight></codeline>
<codeline lineno="2449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a98139fb01bb5d503cb24acbd23af33a1" kindref="member">m_tables</ref>[2].<ref refid="structtinfl__huff__table_1a31f719d4829db3d6646139d5249094cb" kindref="member">m_code_size</ref>[s_length_dezigzag[counter]]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)s;</highlight></codeline>
<codeline lineno="2450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1ac592ab5540fb0bd0ae64867ed50402b2" kindref="member">m_table_sizes</ref>[2]<sp/>=<sp/>19;</highlight></codeline>
<codeline lineno="2452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;<sp/>(int)r-&gt;<ref refid="structtinfl__decompressor__tag_1a25a2446091964983dc8a4b01064a287c" kindref="member">m_type</ref><sp/>&gt;=<sp/>0;<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a25a2446091964983dc8a4b01064a287c" kindref="member">m_type</ref>--)</highlight></codeline>
<codeline lineno="2454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tree_next,<sp/>tree_cur;</highlight></codeline>
<codeline lineno="2456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtinfl__huff__table" kindref="compound">tinfl_huff_table</ref><sp/>*pTable;</highlight></codeline>
<codeline lineno="2457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>i,<sp/>j,<sp/>used_syms,<sp/>total,<sp/>sym_index,<sp/>next_code[17],<sp/>total_syms[16];</highlight></codeline>
<codeline lineno="2458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pTable<sp/>=<sp/>&amp;r-&gt;<ref refid="structtinfl__decompressor__tag_1a98139fb01bb5d503cb24acbd23af33a1" kindref="member">m_tables</ref>[r-&gt;<ref refid="structtinfl__decompressor__tag_1a25a2446091964983dc8a4b01064a287c" kindref="member">m_type</ref>];</highlight></codeline>
<codeline lineno="2459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(total_syms);</highlight></codeline>
<codeline lineno="2460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(pTable-&gt;<ref refid="structtinfl__huff__table_1a51b707504c86547f166bc557d7ce4f84" kindref="member">m_look_up</ref>);</highlight></codeline>
<codeline lineno="2461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(pTable-&gt;<ref refid="structtinfl__huff__table_1a1208fe7e128f00188f99ba6f51fa9af6" kindref="member">m_tree</ref>);</highlight></codeline>
<codeline lineno="2462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1ac592ab5540fb0bd0ae64867ed50402b2" kindref="member">m_table_sizes</ref>[r-&gt;<ref refid="structtinfl__decompressor__tag_1a25a2446091964983dc8a4b01064a287c" kindref="member">m_type</ref>];<sp/>++i)</highlight></codeline>
<codeline lineno="2463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>total_syms[pTable-&gt;<ref refid="structtinfl__huff__table_1a31f719d4829db3d6646139d5249094cb" kindref="member">m_code_size</ref>[i]]++;</highlight></codeline>
<codeline lineno="2464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>used_syms<sp/>=<sp/>0,<sp/>total<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>next_code[0]<sp/>=<sp/>next_code[1]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>(i<sp/>=<sp/>1;<sp/>i<sp/>&lt;=<sp/>15;<sp/>++i)</highlight></codeline>
<codeline lineno="2467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>used_syms<sp/>+=<sp/>total_syms[i];</highlight></codeline>
<codeline lineno="2469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>next_code[i<sp/>+<sp/>1]<sp/>=<sp/>(total<sp/>=<sp/>((total<sp/>+<sp/>total_syms[i])<sp/>&lt;&lt;<sp/>1));</highlight></codeline>
<codeline lineno="2470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((65536<sp/>!=<sp/>total)<sp/>&amp;&amp;<sp/>(used_syms<sp/>&gt;<sp/>1))</highlight></codeline>
<codeline lineno="2472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a9b93b1cd46aaf29a27dfb526bd110d63" kindref="member">TINFL_CR_RETURN_FOREVER</ref>(35,<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>);</highlight></codeline>
<codeline lineno="2474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(tree_next<sp/>=<sp/>-1,<sp/>sym_index<sp/>=<sp/>0;<sp/>sym_index<sp/>&lt;<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1ac592ab5540fb0bd0ae64867ed50402b2" kindref="member">m_table_sizes</ref>[r-&gt;<ref refid="structtinfl__decompressor__tag_1a25a2446091964983dc8a4b01064a287c" kindref="member">m_type</ref>];<sp/>++sym_index)</highlight></codeline>
<codeline lineno="2476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>rev_code<sp/>=<sp/>0,<sp/>l,<sp/>cur_code,<sp/>code_size<sp/>=<sp/>pTable-&gt;<ref refid="structtinfl__huff__table_1a31f719d4829db3d6646139d5249094cb" kindref="member">m_code_size</ref>[sym_index];</highlight></codeline>
<codeline lineno="2478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!code_size)</highlight></codeline>
<codeline lineno="2479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_code<sp/>=<sp/>next_code[code_size]++;</highlight></codeline>
<codeline lineno="2481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(l<sp/>=<sp/>code_size;<sp/>l<sp/>&gt;<sp/>0;<sp/>l--,<sp/>cur_code<sp/>&gt;&gt;=<sp/>1)</highlight></codeline>
<codeline lineno="2482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rev_code<sp/>=<sp/>(rev_code<sp/>&lt;&lt;<sp/>1)<sp/>|<sp/>(cur_code<sp/>&amp;<sp/>1);</highlight></codeline>
<codeline lineno="2483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(code_size<sp/>&lt;=<sp/><ref refid="miniz_8h_1abc5c98fcc1211af2b80116dd6e0a035dae20e8613820bdf626439b9265dc5e4a1" kindref="member">TINFL_FAST_LOOKUP_BITS</ref>)</highlight></codeline>
<codeline lineno="2484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a5a94836eff2f4841bcdd2eb4ea3b8cc4" kindref="member">mz_int16</ref><sp/>k<sp/>=<sp/>(<ref refid="miniz_8h_1a5a94836eff2f4841bcdd2eb4ea3b8cc4" kindref="member">mz_int16</ref>)((code_size<sp/>&lt;&lt;<sp/>9)<sp/>|<sp/>sym_index);</highlight></codeline>
<codeline lineno="2486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(rev_code<sp/>&lt;<sp/><ref refid="miniz_8h_1abc5c98fcc1211af2b80116dd6e0a035da650112828c38f327bd914ec150855c87" kindref="member">TINFL_FAST_LOOKUP_SIZE</ref>)</highlight></codeline>
<codeline lineno="2487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pTable-&gt;<ref refid="structtinfl__huff__table_1a51b707504c86547f166bc557d7ce4f84" kindref="member">m_look_up</ref>[rev_code]<sp/>=<sp/>k;</highlight></codeline>
<codeline lineno="2489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rev_code<sp/>+=<sp/>(1<sp/>&lt;&lt;<sp/>code_size);</highlight></codeline>
<codeline lineno="2490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(0<sp/>==<sp/>(tree_cur<sp/>=<sp/>pTable-&gt;<ref refid="structtinfl__huff__table_1a51b707504c86547f166bc557d7ce4f84" kindref="member">m_look_up</ref>[rev_code<sp/>&amp;<sp/>(<ref refid="miniz_8h_1abc5c98fcc1211af2b80116dd6e0a035da650112828c38f327bd914ec150855c87" kindref="member">TINFL_FAST_LOOKUP_SIZE</ref><sp/>-<sp/>1)]))</highlight></codeline>
<codeline lineno="2494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pTable-&gt;<ref refid="structtinfl__huff__table_1a51b707504c86547f166bc557d7ce4f84" kindref="member">m_look_up</ref>[rev_code<sp/>&amp;<sp/>(<ref refid="miniz_8h_1abc5c98fcc1211af2b80116dd6e0a035da650112828c38f327bd914ec150855c87" kindref="member">TINFL_FAST_LOOKUP_SIZE</ref><sp/>-<sp/>1)]<sp/>=<sp/>(<ref refid="miniz_8h_1a5a94836eff2f4841bcdd2eb4ea3b8cc4" kindref="member">mz_int16</ref>)tree_next;</highlight></codeline>
<codeline lineno="2496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tree_cur<sp/>=<sp/>tree_next;</highlight></codeline>
<codeline lineno="2497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tree_next<sp/>-=<sp/>2;</highlight></codeline>
<codeline lineno="2498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rev_code<sp/>&gt;&gt;=<sp/>(<ref refid="miniz_8h_1abc5c98fcc1211af2b80116dd6e0a035dae20e8613820bdf626439b9265dc5e4a1" kindref="member">TINFL_FAST_LOOKUP_BITS</ref><sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="2500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(j<sp/>=<sp/>code_size;<sp/>j<sp/>&gt;<sp/>(<ref refid="miniz_8h_1abc5c98fcc1211af2b80116dd6e0a035dae20e8613820bdf626439b9265dc5e4a1" kindref="member">TINFL_FAST_LOOKUP_BITS</ref><sp/>+<sp/>1);<sp/>j--)</highlight></codeline>
<codeline lineno="2501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tree_cur<sp/>-=<sp/>((rev_code<sp/>&gt;&gt;=<sp/>1)<sp/>&amp;<sp/>1);</highlight></codeline>
<codeline lineno="2503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pTable-&gt;<ref refid="structtinfl__huff__table_1a1208fe7e128f00188f99ba6f51fa9af6" kindref="member">m_tree</ref>[-tree_cur<sp/>-<sp/>1])</highlight></codeline>
<codeline lineno="2504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pTable-&gt;<ref refid="structtinfl__huff__table_1a1208fe7e128f00188f99ba6f51fa9af6" kindref="member">m_tree</ref>[-tree_cur<sp/>-<sp/>1]<sp/>=<sp/>(<ref refid="miniz_8h_1a5a94836eff2f4841bcdd2eb4ea3b8cc4" kindref="member">mz_int16</ref>)tree_next;</highlight></codeline>
<codeline lineno="2506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tree_cur<sp/>=<sp/>tree_next;</highlight></codeline>
<codeline lineno="2507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tree_next<sp/>-=<sp/>2;</highlight></codeline>
<codeline lineno="2508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tree_cur<sp/>=<sp/>pTable-&gt;<ref refid="structtinfl__huff__table_1a1208fe7e128f00188f99ba6f51fa9af6" kindref="member">m_tree</ref>[-tree_cur<sp/>-<sp/>1];</highlight></codeline>
<codeline lineno="2511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tree_cur<sp/>-=<sp/>((rev_code<sp/>&gt;&gt;=<sp/>1)<sp/>&amp;<sp/>1);</highlight></codeline>
<codeline lineno="2513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pTable-&gt;<ref refid="structtinfl__huff__table_1a1208fe7e128f00188f99ba6f51fa9af6" kindref="member">m_tree</ref>[-tree_cur<sp/>-<sp/>1]<sp/>=<sp/>(<ref refid="miniz_8h_1a5a94836eff2f4841bcdd2eb4ea3b8cc4" kindref="member">mz_int16</ref>)sym_index;</highlight></codeline>
<codeline lineno="2514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(r-&gt;<ref refid="structtinfl__decompressor__tag_1a25a2446091964983dc8a4b01064a287c" kindref="member">m_type</ref><sp/>==<sp/>2)</highlight></codeline>
<codeline lineno="2516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(counter<sp/>=<sp/>0;<sp/>counter<sp/>&lt;<sp/>(r-&gt;<ref refid="structtinfl__decompressor__tag_1ac592ab5540fb0bd0ae64867ed50402b2" kindref="member">m_table_sizes</ref>[0]<sp/>+<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1ac592ab5540fb0bd0ae64867ed50402b2" kindref="member">m_table_sizes</ref>[1]);)</highlight></codeline>
<codeline lineno="2518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>s;</highlight></codeline>
<codeline lineno="2520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a5b7562ec245b9e07daefeae07602d7ae" kindref="member">TINFL_HUFF_DECODE</ref>(16,<sp/>dist,<sp/>&amp;r-&gt;<ref refid="structtinfl__decompressor__tag_1a98139fb01bb5d503cb24acbd23af33a1" kindref="member">m_tables</ref>[2]);</highlight></codeline>
<codeline lineno="2521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dist<sp/>&lt;<sp/>16)</highlight></codeline>
<codeline lineno="2522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1adb33b4be77767c95e8b1816567583ba1" kindref="member">m_len_codes</ref>[counter++]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)dist;</highlight></codeline>
<codeline lineno="2524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((dist<sp/>==<sp/>16)<sp/>&amp;&amp;<sp/>(!counter))</highlight></codeline>
<codeline lineno="2527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a9b93b1cd46aaf29a27dfb526bd110d63" kindref="member">TINFL_CR_RETURN_FOREVER</ref>(17,<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>);</highlight></codeline>
<codeline lineno="2529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_extra<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;\02\03\07&quot;</highlight><highlight class="normal">[dist<sp/>-<sp/>16];</highlight></codeline>
<codeline lineno="2531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a4cccb4d20cb7fe52ed89300dcd665815" kindref="member">TINFL_GET_BITS</ref>(18,<sp/>s,<sp/>num_extra);</highlight></codeline>
<codeline lineno="2532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;\03\03\013&quot;</highlight><highlight class="normal">[dist<sp/>-<sp/>16];</highlight></codeline>
<codeline lineno="2533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a7dd776de8caf03a8e44e7f0329953b68" kindref="member">TINFL_MEMSET</ref>(r-&gt;<ref refid="structtinfl__decompressor__tag_1adb33b4be77767c95e8b1816567583ba1" kindref="member">m_len_codes</ref><sp/>+<sp/>counter,<sp/>(dist<sp/>==<sp/>16)<sp/>?<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1adb33b4be77767c95e8b1816567583ba1" kindref="member">m_len_codes</ref>[counter<sp/>-<sp/>1]<sp/>:<sp/>0,<sp/>s);</highlight></codeline>
<codeline lineno="2534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>counter<sp/>+=<sp/>s;</highlight></codeline>
<codeline lineno="2535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((r-&gt;<ref refid="structtinfl__decompressor__tag_1ac592ab5540fb0bd0ae64867ed50402b2" kindref="member">m_table_sizes</ref>[0]<sp/>+<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1ac592ab5540fb0bd0ae64867ed50402b2" kindref="member">m_table_sizes</ref>[1])<sp/>!=<sp/>counter)</highlight></codeline>
<codeline lineno="2537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a9b93b1cd46aaf29a27dfb526bd110d63" kindref="member">TINFL_CR_RETURN_FOREVER</ref>(21,<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>);</highlight></codeline>
<codeline lineno="2539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a4a70ebaf3e07c9f51d41ba0e552bad0a" kindref="member">TINFL_MEMCPY</ref>(r-&gt;<ref refid="structtinfl__decompressor__tag_1a98139fb01bb5d503cb24acbd23af33a1" kindref="member">m_tables</ref>[0].<ref refid="structtinfl__huff__table_1a31f719d4829db3d6646139d5249094cb" kindref="member">m_code_size</ref>,<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1adb33b4be77767c95e8b1816567583ba1" kindref="member">m_len_codes</ref>,<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1ac592ab5540fb0bd0ae64867ed50402b2" kindref="member">m_table_sizes</ref>[0]);</highlight></codeline>
<codeline lineno="2541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a4a70ebaf3e07c9f51d41ba0e552bad0a" kindref="member">TINFL_MEMCPY</ref>(r-&gt;<ref refid="structtinfl__decompressor__tag_1a98139fb01bb5d503cb24acbd23af33a1" kindref="member">m_tables</ref>[1].<ref refid="structtinfl__huff__table_1a31f719d4829db3d6646139d5249094cb" kindref="member">m_code_size</ref>,<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1adb33b4be77767c95e8b1816567583ba1" kindref="member">m_len_codes</ref><sp/>+<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1ac592ab5540fb0bd0ae64867ed50402b2" kindref="member">m_table_sizes</ref>[0],<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1ac592ab5540fb0bd0ae64867ed50402b2" kindref="member">m_table_sizes</ref>[1]);</highlight></codeline>
<codeline lineno="2542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="2545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pSrc;</highlight></codeline>
<codeline lineno="2547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="2548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((pIn_buf_end<sp/>-<sp/>pIn_buf_cur)<sp/>&lt;<sp/>4)<sp/>||<sp/>((pOut_buf_end<sp/>-<sp/>pOut_buf_cur)<sp/>&lt;<sp/>2))</highlight></codeline>
<codeline lineno="2550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a5b7562ec245b9e07daefeae07602d7ae" kindref="member">TINFL_HUFF_DECODE</ref>(23,<sp/>counter,<sp/>&amp;r-&gt;<ref refid="structtinfl__decompressor__tag_1a98139fb01bb5d503cb24acbd23af33a1" kindref="member">m_tables</ref>[0]);</highlight></codeline>
<codeline lineno="2552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(counter<sp/>&gt;=<sp/>256)</highlight></codeline>
<codeline lineno="2553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(pOut_buf_cur<sp/>&gt;=<sp/>pOut_buf_end)</highlight></codeline>
<codeline lineno="2555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a9b76ea2ad5e09a1bd4a7d663745ac29e" kindref="member">TINFL_CR_RETURN</ref>(24,<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a49583f3a8fa8eb17838e17f21c08be05" kindref="member">TINFL_STATUS_HAS_MORE_OUTPUT</ref>);</highlight></codeline>
<codeline lineno="2557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pOut_buf_cur++<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)counter;</highlight></codeline>
<codeline lineno="2559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>sym2;</highlight></codeline>
<codeline lineno="2563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>code_len;</highlight></codeline>
<codeline lineno="2564"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>TINFL_USE_64BIT_BITBUF</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(num_bits<sp/>&lt;<sp/>30)</highlight></codeline>
<codeline lineno="2566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_buf<sp/>|=<sp/>(((<ref refid="miniz_8h_1af6af194c507342cda458498cd37ca418" kindref="member">tinfl_bit_buf_t</ref>)<ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pIn_buf_cur))<sp/>&lt;&lt;<sp/>num_bits);</highlight></codeline>
<codeline lineno="2568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pIn_buf_cur<sp/>+=<sp/>4;</highlight></codeline>
<codeline lineno="2569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_bits<sp/>+=<sp/>32;</highlight></codeline>
<codeline lineno="2570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2571"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(num_bits<sp/>&lt;<sp/>15)</highlight></codeline>
<codeline lineno="2573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_buf<sp/>|=<sp/>(((<ref refid="miniz_8h_1af6af194c507342cda458498cd37ca418" kindref="member">tinfl_bit_buf_t</ref>)<ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pIn_buf_cur))<sp/>&lt;&lt;<sp/>num_bits);</highlight></codeline>
<codeline lineno="2575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pIn_buf_cur<sp/>+=<sp/>2;</highlight></codeline>
<codeline lineno="2576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_bits<sp/>+=<sp/>16;</highlight></codeline>
<codeline lineno="2577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2578"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((sym2<sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a98139fb01bb5d503cb24acbd23af33a1" kindref="member">m_tables</ref>[0].<ref refid="structtinfl__huff__table_1a51b707504c86547f166bc557d7ce4f84" kindref="member">m_look_up</ref>[bit_buf<sp/>&amp;<sp/>(<ref refid="miniz_8h_1abc5c98fcc1211af2b80116dd6e0a035da650112828c38f327bd914ec150855c87" kindref="member">TINFL_FAST_LOOKUP_SIZE</ref><sp/>-<sp/>1)])<sp/>&gt;=<sp/>0)</highlight></codeline>
<codeline lineno="2580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>code_len<sp/>=<sp/>sym2<sp/>&gt;&gt;<sp/>9;</highlight></codeline>
<codeline lineno="2581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>code_len<sp/>=<sp/><ref refid="miniz_8h_1abc5c98fcc1211af2b80116dd6e0a035dae20e8613820bdf626439b9265dc5e4a1" kindref="member">TINFL_FAST_LOOKUP_BITS</ref>;</highlight></codeline>
<codeline lineno="2584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sym2<sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a98139fb01bb5d503cb24acbd23af33a1" kindref="member">m_tables</ref>[0].<ref refid="structtinfl__huff__table_1a1208fe7e128f00188f99ba6f51fa9af6" kindref="member">m_tree</ref>[~sym2<sp/>+<sp/>((bit_buf<sp/>&gt;&gt;<sp/>code_len++)<sp/>&amp;<sp/>1)];</highlight></codeline>
<codeline lineno="2587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(sym2<sp/>&lt;<sp/>0);</highlight></codeline>
<codeline lineno="2588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>counter<sp/>=<sp/>sym2;</highlight></codeline>
<codeline lineno="2590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_buf<sp/>&gt;&gt;=<sp/>code_len;</highlight></codeline>
<codeline lineno="2591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_bits<sp/>-=<sp/>code_len;</highlight></codeline>
<codeline lineno="2592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(counter<sp/>&amp;<sp/>256)</highlight></codeline>
<codeline lineno="2593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2594"><highlight class="normal"></highlight></codeline>
<codeline lineno="2595"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!TINFL_USE_64BIT_BITBUF</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(num_bits<sp/>&lt;<sp/>15)</highlight></codeline>
<codeline lineno="2597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_buf<sp/>|=<sp/>(((<ref refid="miniz_8h_1af6af194c507342cda458498cd37ca418" kindref="member">tinfl_bit_buf_t</ref>)<ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pIn_buf_cur))<sp/>&lt;&lt;<sp/>num_bits);</highlight></codeline>
<codeline lineno="2599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pIn_buf_cur<sp/>+=<sp/>2;</highlight></codeline>
<codeline lineno="2600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_bits<sp/>+=<sp/>16;</highlight></codeline>
<codeline lineno="2601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2602"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((sym2<sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a98139fb01bb5d503cb24acbd23af33a1" kindref="member">m_tables</ref>[0].<ref refid="structtinfl__huff__table_1a51b707504c86547f166bc557d7ce4f84" kindref="member">m_look_up</ref>[bit_buf<sp/>&amp;<sp/>(<ref refid="miniz_8h_1abc5c98fcc1211af2b80116dd6e0a035da650112828c38f327bd914ec150855c87" kindref="member">TINFL_FAST_LOOKUP_SIZE</ref><sp/>-<sp/>1)])<sp/>&gt;=<sp/>0)</highlight></codeline>
<codeline lineno="2604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>code_len<sp/>=<sp/>sym2<sp/>&gt;&gt;<sp/>9;</highlight></codeline>
<codeline lineno="2605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>code_len<sp/>=<sp/><ref refid="miniz_8h_1abc5c98fcc1211af2b80116dd6e0a035dae20e8613820bdf626439b9265dc5e4a1" kindref="member">TINFL_FAST_LOOKUP_BITS</ref>;</highlight></codeline>
<codeline lineno="2608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sym2<sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a98139fb01bb5d503cb24acbd23af33a1" kindref="member">m_tables</ref>[0].<ref refid="structtinfl__huff__table_1a1208fe7e128f00188f99ba6f51fa9af6" kindref="member">m_tree</ref>[~sym2<sp/>+<sp/>((bit_buf<sp/>&gt;&gt;<sp/>code_len++)<sp/>&amp;<sp/>1)];</highlight></codeline>
<codeline lineno="2611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(sym2<sp/>&lt;<sp/>0);</highlight></codeline>
<codeline lineno="2612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_buf<sp/>&gt;&gt;=<sp/>code_len;</highlight></codeline>
<codeline lineno="2614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_bits<sp/>-=<sp/>code_len;</highlight></codeline>
<codeline lineno="2615"><highlight class="normal"></highlight></codeline>
<codeline lineno="2616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut_buf_cur[0]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)counter;</highlight></codeline>
<codeline lineno="2617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sym2<sp/>&amp;<sp/>256)</highlight></codeline>
<codeline lineno="2618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut_buf_cur++;</highlight></codeline>
<codeline lineno="2620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>counter<sp/>=<sp/>sym2;</highlight></codeline>
<codeline lineno="2621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut_buf_cur[1]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)sym2;</highlight></codeline>
<codeline lineno="2624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut_buf_cur<sp/>+=<sp/>2;</highlight></codeline>
<codeline lineno="2625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((counter<sp/>&amp;=<sp/>511)<sp/>==<sp/>256)</highlight></codeline>
<codeline lineno="2628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2629"><highlight class="normal"></highlight></codeline>
<codeline lineno="2630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_extra<sp/>=<sp/>s_length_extra[counter<sp/>-<sp/>257];</highlight></codeline>
<codeline lineno="2631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>counter<sp/>=<sp/>s_length_base[counter<sp/>-<sp/>257];</highlight></codeline>
<codeline lineno="2632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(num_extra)</highlight></codeline>
<codeline lineno="2633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>extra_bits;</highlight></codeline>
<codeline lineno="2635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a4cccb4d20cb7fe52ed89300dcd665815" kindref="member">TINFL_GET_BITS</ref>(25,<sp/>extra_bits,<sp/>num_extra);</highlight></codeline>
<codeline lineno="2636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>counter<sp/>+=<sp/>extra_bits;</highlight></codeline>
<codeline lineno="2637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2638"><highlight class="normal"></highlight></codeline>
<codeline lineno="2639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a5b7562ec245b9e07daefeae07602d7ae" kindref="member">TINFL_HUFF_DECODE</ref>(26,<sp/>dist,<sp/>&amp;r-&gt;<ref refid="structtinfl__decompressor__tag_1a98139fb01bb5d503cb24acbd23af33a1" kindref="member">m_tables</ref>[1]);</highlight></codeline>
<codeline lineno="2640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_extra<sp/>=<sp/>s_dist_extra[dist];</highlight></codeline>
<codeline lineno="2641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist<sp/>=<sp/>s_dist_base[dist];</highlight></codeline>
<codeline lineno="2642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(num_extra)</highlight></codeline>
<codeline lineno="2643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>extra_bits;</highlight></codeline>
<codeline lineno="2645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a4cccb4d20cb7fe52ed89300dcd665815" kindref="member">TINFL_GET_BITS</ref>(27,<sp/>extra_bits,<sp/>num_extra);</highlight></codeline>
<codeline lineno="2646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist<sp/>+=<sp/>extra_bits;</highlight></codeline>
<codeline lineno="2647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2648"><highlight class="normal"></highlight></codeline>
<codeline lineno="2649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist_from_out_buf_start<sp/>=<sp/>pOut_buf_cur<sp/>-<sp/>pOut_buf_start;</highlight></codeline>
<codeline lineno="2650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((dist<sp/>&gt;<sp/>dist_from_out_buf_start)<sp/>&amp;&amp;<sp/>(decomp_flags<sp/>&amp;<sp/>TINFL_FLAG_USING_NON_WRAPPING_OUTPUT_BUF))</highlight></codeline>
<codeline lineno="2651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a9b93b1cd46aaf29a27dfb526bd110d63" kindref="member">TINFL_CR_RETURN_FOREVER</ref>(37,<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>);</highlight></codeline>
<codeline lineno="2653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2654"><highlight class="normal"></highlight></codeline>
<codeline lineno="2655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc<sp/>=<sp/>pOut_buf_start<sp/>+<sp/>((dist_from_out_buf_start<sp/>-<sp/>dist)<sp/>&amp;<sp/>out_buf_size_mask);</highlight></codeline>
<codeline lineno="2656"><highlight class="normal"></highlight></codeline>
<codeline lineno="2657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((<ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>(pOut_buf_cur,<sp/>pSrc)<sp/>+<sp/>counter)<sp/>&gt;<sp/>pOut_buf_end)</highlight></codeline>
<codeline lineno="2658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(counter--)</highlight></codeline>
<codeline lineno="2660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(pOut_buf_cur<sp/>&gt;=<sp/>pOut_buf_end)</highlight></codeline>
<codeline lineno="2662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a9b76ea2ad5e09a1bd4a7d663745ac29e" kindref="member">TINFL_CR_RETURN</ref>(53,<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a49583f3a8fa8eb17838e17f21c08be05" kindref="member">TINFL_STATUS_HAS_MORE_OUTPUT</ref>);</highlight></codeline>
<codeline lineno="2664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pOut_buf_cur++<sp/>=<sp/>pOut_buf_start[(dist_from_out_buf_start++<sp/>-<sp/>dist)<sp/>&amp;<sp/>out_buf_size_mask];</highlight></codeline>
<codeline lineno="2666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2669"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MINIZ_USE_UNALIGNED_LOADS_AND_STORES</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((counter<sp/>&gt;=<sp/>9)<sp/>&amp;&amp;<sp/>(counter<sp/>&lt;=<sp/>dist))</highlight></codeline>
<codeline lineno="2671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pSrc_end<sp/>=<sp/>pSrc<sp/>+<sp/>(counter<sp/>&amp;<sp/>~7);</highlight></codeline>
<codeline lineno="2673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>*)pOut_buf_cur)[0]<sp/>=<sp/>((</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>*)pSrc)[0];</highlight></codeline>
<codeline lineno="2676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>*)pOut_buf_cur)[1]<sp/>=<sp/>((</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>*)pSrc)[1];</highlight></codeline>
<codeline lineno="2677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut_buf_cur<sp/>+=<sp/>8;</highlight></codeline>
<codeline lineno="2678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((pSrc<sp/>+=<sp/>8)<sp/>&lt;<sp/>pSrc_end);</highlight></codeline>
<codeline lineno="2679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((counter<sp/>&amp;=<sp/>7)<sp/>&lt;<sp/>3)</highlight></codeline>
<codeline lineno="2680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(counter)</highlight></codeline>
<codeline lineno="2682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut_buf_cur[0]<sp/>=<sp/>pSrc[0];</highlight></codeline>
<codeline lineno="2684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(counter<sp/>&gt;<sp/>1)</highlight></codeline>
<codeline lineno="2685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut_buf_cur[1]<sp/>=<sp/>pSrc[1];</highlight></codeline>
<codeline lineno="2686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut_buf_cur<sp/>+=<sp/>counter;</highlight></codeline>
<codeline lineno="2687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2691"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut_buf_cur[0]<sp/>=<sp/>pSrc[0];</highlight></codeline>
<codeline lineno="2695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut_buf_cur[1]<sp/>=<sp/>pSrc[1];</highlight></codeline>
<codeline lineno="2696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut_buf_cur[2]<sp/>=<sp/>pSrc[2];</highlight></codeline>
<codeline lineno="2697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut_buf_cur<sp/>+=<sp/>3;</highlight></codeline>
<codeline lineno="2698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc<sp/>+=<sp/>3;</highlight></codeline>
<codeline lineno="2699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)(counter<sp/>-=<sp/>3)<sp/>&gt;<sp/>2);</highlight></codeline>
<codeline lineno="2700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)counter<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="2701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut_buf_cur[0]<sp/>=<sp/>pSrc[0];</highlight></codeline>
<codeline lineno="2703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)counter<sp/>&gt;<sp/>1)</highlight></codeline>
<codeline lineno="2704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut_buf_cur[1]<sp/>=<sp/>pSrc[1];</highlight></codeline>
<codeline lineno="2705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut_buf_cur<sp/>+=<sp/>counter;</highlight></codeline>
<codeline lineno="2706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2709"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(!(r-&gt;<ref refid="structtinfl__decompressor__tag_1a39ed69be124315c9b42358d27b285987" kindref="member">m_final</ref><sp/>&amp;<sp/>1));</highlight></codeline>
<codeline lineno="2710"><highlight class="normal"></highlight></codeline>
<codeline lineno="2711"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ensure<sp/>byte<sp/>alignment<sp/>and<sp/>put<sp/>back<sp/>any<sp/>bytes<sp/>from<sp/>the<sp/>bitbuf<sp/>if<sp/>we&apos;ve<sp/>looked<sp/>ahead<sp/>too<sp/>far<sp/>on<sp/>gzip,<sp/>or<sp/>other<sp/>Deflate<sp/>streams<sp/>followed<sp/>by<sp/>arbitrary<sp/>data.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2712"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>I&apos;m<sp/>being<sp/>super<sp/>conservative<sp/>here.<sp/>A<sp/>number<sp/>of<sp/>simplifications<sp/>can<sp/>be<sp/>made<sp/>to<sp/>the<sp/>byte<sp/>alignment<sp/>part,<sp/>and<sp/>the<sp/>Adler32<sp/>check<sp/>shouldn&apos;t<sp/>ever<sp/>need<sp/>to<sp/>worry<sp/>about<sp/>reading<sp/>from<sp/>the<sp/>bitbuf<sp/>now.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2713"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1aed4ea8f4cdcf4ad4416419dab601e7f0" kindref="member">TINFL_SKIP_BITS</ref>(32,<sp/>num_bits<sp/>&amp;<sp/>7);</highlight></codeline>
<codeline lineno="2714"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((pIn_buf_cur<sp/>&gt;<sp/>pIn_buf_next)<sp/>&amp;&amp;<sp/>(num_bits<sp/>&gt;=<sp/>8))</highlight></codeline>
<codeline lineno="2715"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>--pIn_buf_cur;</highlight></codeline>
<codeline lineno="2717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_bits<sp/>-=<sp/>8;</highlight></codeline>
<codeline lineno="2718"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2719"><highlight class="normal"><sp/><sp/><sp/><sp/>bit_buf<sp/>&amp;=<sp/>(<ref refid="miniz_8h_1af6af194c507342cda458498cd37ca418" kindref="member">tinfl_bit_buf_t</ref>)((<sp/>((<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)1)<sp/>&lt;&lt;<sp/>num_bits)<sp/>-<sp/>(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)1);</highlight></codeline>
<codeline lineno="2720"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(!num_bits);<sp/></highlight><highlight class="comment">/*<sp/>if<sp/>this<sp/>assert<sp/>fires<sp/>then<sp/>we&apos;ve<sp/>read<sp/>beyond<sp/>the<sp/>end<sp/>of<sp/>non-deflate/zlib<sp/>streams<sp/>with<sp/>following<sp/>data<sp/>(such<sp/>as<sp/>gzip<sp/>streams).<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2721"><highlight class="normal"></highlight></codeline>
<codeline lineno="2722"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(decomp_flags<sp/>&amp;<sp/>TINFL_FLAG_PARSE_ZLIB_HEADER)</highlight></codeline>
<codeline lineno="2723"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(counter<sp/>=<sp/>0;<sp/>counter<sp/>&lt;<sp/>4;<sp/>++counter)</highlight></codeline>
<codeline lineno="2725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>s;</highlight></codeline>
<codeline lineno="2727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(num_bits)</highlight></codeline>
<codeline lineno="2728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a4cccb4d20cb7fe52ed89300dcd665815" kindref="member">TINFL_GET_BITS</ref>(41,<sp/>s,<sp/>8);</highlight></codeline>
<codeline lineno="2729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a26b0de30f3238271922e55776feacb0f" kindref="member">TINFL_GET_BYTE</ref>(42,<sp/>s);</highlight></codeline>
<codeline lineno="2731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1aab03536da4b49c3125b11f8c7e999895" kindref="member">m_z_adler32</ref><sp/>=<sp/>(r-&gt;<ref refid="structtinfl__decompressor__tag_1aab03536da4b49c3125b11f8c7e999895" kindref="member">m_z_adler32</ref><sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>s;</highlight></codeline>
<codeline lineno="2732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2733"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2734"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a9b93b1cd46aaf29a27dfb526bd110d63" kindref="member">TINFL_CR_RETURN_FOREVER</ref>(34,<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4af9316c69027621352f435c9a343f1042" kindref="member">TINFL_STATUS_DONE</ref>);</highlight></codeline>
<codeline lineno="2735"><highlight class="normal"></highlight></codeline>
<codeline lineno="2736"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a99786d0af99c4433d7961581d708da51" kindref="member">TINFL_CR_FINISH</ref></highlight></codeline>
<codeline lineno="2737"><highlight class="normal"></highlight></codeline>
<codeline lineno="2738"><highlight class="normal">common_exit:</highlight></codeline>
<codeline lineno="2739"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>As<sp/>long<sp/>as<sp/>we<sp/>aren&apos;t<sp/>telling<sp/>the<sp/>caller<sp/>that<sp/>we<sp/>NEED<sp/>more<sp/>input<sp/>to<sp/>make<sp/>forward<sp/>progress:<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2740"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Put<sp/>back<sp/>any<sp/>bytes<sp/>from<sp/>the<sp/>bitbuf<sp/>in<sp/>case<sp/>we&apos;ve<sp/>looked<sp/>ahead<sp/>too<sp/>far<sp/>on<sp/>gzip,<sp/>or<sp/>other<sp/>Deflate<sp/>streams<sp/>followed<sp/>by<sp/>arbitrary<sp/>data.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2741"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>We<sp/>need<sp/>to<sp/>be<sp/>very<sp/>careful<sp/>here<sp/>to<sp/>NOT<sp/>push<sp/>back<sp/>any<sp/>bytes<sp/>we<sp/>definitely<sp/>know<sp/>we<sp/>need<sp/>to<sp/>make<sp/>forward<sp/>progress,<sp/>though,<sp/>or<sp/>we&apos;ll<sp/>lock<sp/>the<sp/>caller<sp/>up<sp/>into<sp/>an<sp/>inf<sp/>loop.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2742"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((status<sp/>!=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a4150e95aacd9bf414c6f9155263b60e8" kindref="member">TINFL_STATUS_NEEDS_MORE_INPUT</ref>)<sp/>&amp;&amp;<sp/>(status<sp/>!=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a7661742c9463ceaa3872ffca2fb15998" kindref="member">TINFL_STATUS_FAILED_CANNOT_MAKE_PROGRESS</ref>))</highlight></codeline>
<codeline lineno="2743"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((pIn_buf_cur<sp/>&gt;<sp/>pIn_buf_next)<sp/>&amp;&amp;<sp/>(num_bits<sp/>&gt;=<sp/>8))</highlight></codeline>
<codeline lineno="2745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>--pIn_buf_cur;</highlight></codeline>
<codeline lineno="2747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_bits<sp/>-=<sp/>8;</highlight></codeline>
<codeline lineno="2748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2749"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2750"><highlight class="normal"><sp/><sp/><sp/><sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1aa27988907a00d70bbeb36f4c4c09a2cf" kindref="member">m_num_bits</ref><sp/>=<sp/>num_bits;</highlight></codeline>
<codeline lineno="2751"><highlight class="normal"><sp/><sp/><sp/><sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a534e77162cb88e3d5b2ca52378860e04" kindref="member">m_bit_buf</ref><sp/>=<sp/>bit_buf<sp/>&amp;<sp/>(<ref refid="miniz_8h_1af6af194c507342cda458498cd37ca418" kindref="member">tinfl_bit_buf_t</ref>)((<sp/>((<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)1)<sp/>&lt;&lt;<sp/>num_bits)<sp/>-<sp/>(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)1);</highlight></codeline>
<codeline lineno="2752"><highlight class="normal"><sp/><sp/><sp/><sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1ad0221a26f3135d362943de2e2806aa12" kindref="member">m_dist</ref><sp/>=<sp/>dist;</highlight></codeline>
<codeline lineno="2753"><highlight class="normal"><sp/><sp/><sp/><sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a55d43ca0603c01e6b40945c901e1343e" kindref="member">m_counter</ref><sp/>=<sp/>counter;</highlight></codeline>
<codeline lineno="2754"><highlight class="normal"><sp/><sp/><sp/><sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1af646c16845f58dd81ee8dc03e0fc2a43" kindref="member">m_num_extra</ref><sp/>=<sp/>num_extra;</highlight></codeline>
<codeline lineno="2755"><highlight class="normal"><sp/><sp/><sp/><sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a7f3575865115ab117d1d16afd5c173d9" kindref="member">m_dist_from_out_buf_start</ref><sp/>=<sp/>dist_from_out_buf_start;</highlight></codeline>
<codeline lineno="2756"><highlight class="normal"><sp/><sp/><sp/><sp/>*pIn_buf_size<sp/>=<sp/>pIn_buf_cur<sp/>-<sp/>pIn_buf_next;</highlight></codeline>
<codeline lineno="2757"><highlight class="normal"><sp/><sp/><sp/><sp/>*pOut_buf_size<sp/>=<sp/>pOut_buf_cur<sp/>-<sp/>pOut_buf_next;</highlight></codeline>
<codeline lineno="2758"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((decomp_flags<sp/>&amp;<sp/>(TINFL_FLAG_PARSE_ZLIB_HEADER<sp/>|<sp/><ref refid="miniz_8h_1a385c44f6fb256e5716a2302a5b940388a9454c17ebc5717f8553d01ab99b8c1c9" kindref="member">TINFL_FLAG_COMPUTE_ADLER32</ref>))<sp/>&amp;&amp;<sp/>(status<sp/>&gt;=<sp/>0))</highlight></codeline>
<codeline lineno="2759"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*ptr<sp/>=<sp/>pOut_buf_next;</highlight></codeline>
<codeline lineno="2761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>buf_len<sp/>=<sp/>*pOut_buf_size;</highlight></codeline>
<codeline lineno="2762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>i,<sp/>s1<sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a80c6f22b32fb288a5d376f6f93b2d63d" kindref="member">m_check_adler32</ref><sp/>&amp;<sp/>0xffff,<sp/>s2<sp/>=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a80c6f22b32fb288a5d376f6f93b2d63d" kindref="member">m_check_adler32</ref><sp/>&gt;&gt;<sp/>16;</highlight></codeline>
<codeline lineno="2763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>block_len<sp/>=<sp/>buf_len<sp/>%<sp/>5552;</highlight></codeline>
<codeline lineno="2764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(buf_len)</highlight></codeline>
<codeline lineno="2765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>+<sp/>7<sp/>&lt;<sp/>block_len;<sp/>i<sp/>+=<sp/>8,<sp/>ptr<sp/>+=<sp/>8)</highlight></codeline>
<codeline lineno="2767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>ptr[0],<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="2769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>ptr[1],<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="2770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>ptr[2],<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="2771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>ptr[3],<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="2772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>ptr[4],<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="2773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>ptr[5],<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="2774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>ptr[6],<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="2775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>ptr[7],<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="2776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;<sp/>i<sp/>&lt;<sp/>block_len;<sp/>++i)</highlight></codeline>
<codeline lineno="2778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>+=<sp/>*ptr++,<sp/>s2<sp/>+=<sp/>s1;</highlight></codeline>
<codeline lineno="2779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>%=<sp/>65521U,<sp/>s2<sp/>%=<sp/>65521U;</highlight></codeline>
<codeline lineno="2780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>buf_len<sp/>-=<sp/>block_len;</highlight></codeline>
<codeline lineno="2781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>block_len<sp/>=<sp/>5552;</highlight></codeline>
<codeline lineno="2782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1a80c6f22b32fb288a5d376f6f93b2d63d" kindref="member">m_check_adler32</ref><sp/>=<sp/>(s2<sp/>&lt;&lt;<sp/>16)<sp/>+<sp/>s1;</highlight></codeline>
<codeline lineno="2784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((status<sp/>==<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4af9316c69027621352f435c9a343f1042" kindref="member">TINFL_STATUS_DONE</ref>)<sp/>&amp;&amp;<sp/>(decomp_flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a385c44f6fb256e5716a2302a5b940388af085740084ef23d974d043aeda6f2245" kindref="member">TINFL_FLAG_PARSE_ZLIB_HEADER</ref>)<sp/>&amp;&amp;<sp/>(r-&gt;<ref refid="structtinfl__decompressor__tag_1a80c6f22b32fb288a5d376f6f93b2d63d" kindref="member">m_check_adler32</ref><sp/>!=<sp/>r-&gt;<ref refid="structtinfl__decompressor__tag_1aab03536da4b49c3125b11f8c7e999895" kindref="member">m_z_adler32</ref>))</highlight></codeline>
<codeline lineno="2785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3c0ca7cb0911c046d25e1ab3e525a3af" kindref="member">TINFL_STATUS_ADLER32_MISMATCH</ref>;</highlight></codeline>
<codeline lineno="2786"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2787"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="2788"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2789"><highlight class="normal"></highlight></codeline>
<codeline lineno="2790"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Higher<sp/>level<sp/>helper<sp/>functions.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2791"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="miniz_8c_1a2a949056c9eed394b9f2217ba6f55f6b" kindref="member">tinfl_decompress_mem_to_heap</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pSrc_buf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>src_buf_len,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*pOut_len,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flags)</highlight></codeline>
<codeline lineno="2792"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2793"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtinfl__decompressor__tag" kindref="compound">tinfl_decompressor</ref><sp/>decomp;</highlight></codeline>
<codeline lineno="2794"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf<sp/>=<sp/>NULL,<sp/>*pNew_buf;</highlight></codeline>
<codeline lineno="2795"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>src_buf_ofs<sp/>=<sp/>0,<sp/>out_buf_capacity<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2796"><highlight class="normal"><sp/><sp/><sp/><sp/>*pOut_len<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2797"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a38425ff8609fe5fe5a9a48612e6f3e46" kindref="member">tinfl_init</ref>(&amp;decomp);</highlight></codeline>
<codeline lineno="2798"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="2799"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>src_buf_size<sp/>=<sp/>src_buf_len<sp/>-<sp/>src_buf_ofs,<sp/>dst_buf_size<sp/>=<sp/>out_buf_capacity<sp/>-<sp/>*pOut_len,<sp/>new_out_buf_capacity;</highlight></codeline>
<codeline lineno="2801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4" kindref="member">tinfl_status</ref><sp/>status<sp/>=<sp/><ref refid="miniz_8c_1ac4e4c006d234780922676ecc31fe1416" kindref="member">tinfl_decompress</ref>(&amp;decomp,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pSrc_buf<sp/>+<sp/>src_buf_ofs,<sp/>&amp;src_buf_size,<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pBuf,<sp/>pBuf<sp/>?<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pBuf<sp/>+<sp/>*pOut_len<sp/>:<sp/>NULL,<sp/>&amp;dst_buf_size,</highlight></codeline>
<codeline lineno="2802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(flags<sp/>&amp;<sp/>~<ref refid="miniz_8h_1a385c44f6fb256e5716a2302a5b940388a2eb96c68c6a8df342d8f12d7efcf96c1" kindref="member">TINFL_FLAG_HAS_MORE_INPUT</ref>)<sp/>|<sp/>TINFL_FLAG_USING_NON_WRAPPING_OUTPUT_BUF);</highlight></codeline>
<codeline lineno="2803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((status<sp/>&lt;<sp/>0)<sp/>||<sp/>(status<sp/>==<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a4150e95aacd9bf414c6f9155263b60e8" kindref="member">TINFL_STATUS_NEEDS_MORE_INPUT</ref>))</highlight></codeline>
<codeline lineno="2804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ac73e9b464ae92e51b762f496296d7582" kindref="member">MZ_FREE</ref>(pBuf);</highlight></codeline>
<codeline lineno="2806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pOut_len<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="2808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>src_buf_ofs<sp/>+=<sp/>src_buf_size;</highlight></codeline>
<codeline lineno="2810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pOut_len<sp/>+=<sp/>dst_buf_size;</highlight></codeline>
<codeline lineno="2811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>==<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4af9316c69027621352f435c9a343f1042" kindref="member">TINFL_STATUS_DONE</ref>)</highlight></codeline>
<codeline lineno="2812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_out_buf_capacity<sp/>=<sp/>out_buf_capacity<sp/>*<sp/>2;</highlight></codeline>
<codeline lineno="2814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(new_out_buf_capacity<sp/>&lt;<sp/>128)</highlight></codeline>
<codeline lineno="2815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_out_buf_capacity<sp/>=<sp/>128;</highlight></codeline>
<codeline lineno="2816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pNew_buf<sp/>=<sp/><ref refid="miniz_8h_1a1420c15d77b938f459fa3e8bbd9f4c4d" kindref="member">MZ_REALLOC</ref>(pBuf,<sp/>new_out_buf_capacity);</highlight></codeline>
<codeline lineno="2817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pNew_buf)</highlight></codeline>
<codeline lineno="2818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ac73e9b464ae92e51b762f496296d7582" kindref="member">MZ_FREE</ref>(pBuf);</highlight></codeline>
<codeline lineno="2820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pOut_len<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="2822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pBuf<sp/>=<sp/>pNew_buf;</highlight></codeline>
<codeline lineno="2824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out_buf_capacity<sp/>=<sp/>new_out_buf_capacity;</highlight></codeline>
<codeline lineno="2825"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2826"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pBuf;</highlight></codeline>
<codeline lineno="2827"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2828"><highlight class="normal"></highlight></codeline>
<codeline lineno="2829"><highlight class="normal"></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1ac4642bb91b5abc566c6b23c0658d6995" kindref="member">tinfl_decompress_mem_to_mem</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pOut_buf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>out_buf_len,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pSrc_buf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>src_buf_len,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flags)</highlight></codeline>
<codeline lineno="2830"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2831"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtinfl__decompressor__tag" kindref="compound">tinfl_decompressor</ref><sp/>decomp;</highlight></codeline>
<codeline lineno="2832"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4" kindref="member">tinfl_status</ref><sp/>status;</highlight></codeline>
<codeline lineno="2833"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a38425ff8609fe5fe5a9a48612e6f3e46" kindref="member">tinfl_init</ref>(&amp;decomp);</highlight></codeline>
<codeline lineno="2834"><highlight class="normal"><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8c_1ac4e4c006d234780922676ecc31fe1416" kindref="member">tinfl_decompress</ref>(&amp;decomp,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pSrc_buf,<sp/>&amp;src_buf_len,<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pOut_buf,<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pOut_buf,<sp/>&amp;out_buf_len,<sp/>(flags<sp/>&amp;<sp/>~<ref refid="miniz_8h_1a385c44f6fb256e5716a2302a5b940388a2eb96c68c6a8df342d8f12d7efcf96c1" kindref="member">TINFL_FLAG_HAS_MORE_INPUT</ref>)<sp/>|<sp/>TINFL_FLAG_USING_NON_WRAPPING_OUTPUT_BUF);</highlight></codeline>
<codeline lineno="2835"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(status<sp/>!=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4af9316c69027621352f435c9a343f1042" kindref="member">TINFL_STATUS_DONE</ref>)<sp/>?<sp/><ref refid="miniz_8h_1abc05bb1717f26edc88a010e903de04e8" kindref="member">TINFL_DECOMPRESS_MEM_TO_MEM_FAILED</ref><sp/>:<sp/>out_buf_len;</highlight></codeline>
<codeline lineno="2836"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2837"><highlight class="normal"></highlight></codeline>
<codeline lineno="2838"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a3e8087762c8423c4e48d1e5e01a243de" kindref="member">tinfl_decompress_mem_to_callback</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pIn_buf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*pIn_buf_size,<sp/><ref refid="miniz_8h_1a4e4ea4a3376e8d2a996b848c8e4319df" kindref="member">tinfl_put_buf_func_ptr</ref><sp/>pPut_buf_func,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pPut_buf_user,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flags)</highlight></codeline>
<codeline lineno="2839"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2840"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>result<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2841"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtinfl__decompressor__tag" kindref="compound">tinfl_decompressor</ref><sp/>decomp;</highlight></codeline>
<codeline lineno="2842"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pDict<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)<ref refid="miniz_8h_1a09b9e87cb19529df25b3c3e47c9ad393" kindref="member">MZ_MALLOC</ref>(<ref refid="miniz_8h_1a39dc152de3351183ff8af716f0c556cb" kindref="member">TINFL_LZ_DICT_SIZE</ref>);</highlight></codeline>
<codeline lineno="2843"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>in_buf_ofs<sp/>=<sp/>0,<sp/>dict_ofs<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2844"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pDict)</highlight></codeline>
<codeline lineno="2845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>;</highlight></codeline>
<codeline lineno="2846"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a38425ff8609fe5fe5a9a48612e6f3e46" kindref="member">tinfl_init</ref>(&amp;decomp);</highlight></codeline>
<codeline lineno="2847"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="2848"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>in_buf_size<sp/>=<sp/>*pIn_buf_size<sp/>-<sp/>in_buf_ofs,<sp/>dst_buf_size<sp/>=<sp/><ref refid="miniz_8h_1a39dc152de3351183ff8af716f0c556cb" kindref="member">TINFL_LZ_DICT_SIZE</ref><sp/>-<sp/>dict_ofs;</highlight></codeline>
<codeline lineno="2850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4" kindref="member">tinfl_status</ref><sp/>status<sp/>=<sp/><ref refid="miniz_8c_1ac4e4c006d234780922676ecc31fe1416" kindref="member">tinfl_decompress</ref>(&amp;decomp,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pIn_buf<sp/>+<sp/>in_buf_ofs,<sp/>&amp;in_buf_size,<sp/>pDict,<sp/>pDict<sp/>+<sp/>dict_ofs,<sp/>&amp;dst_buf_size,</highlight></codeline>
<codeline lineno="2851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(flags<sp/>&amp;<sp/>~(<ref refid="miniz_8h_1a385c44f6fb256e5716a2302a5b940388a2eb96c68c6a8df342d8f12d7efcf96c1" kindref="member">TINFL_FLAG_HAS_MORE_INPUT</ref><sp/>|<sp/>TINFL_FLAG_USING_NON_WRAPPING_OUTPUT_BUF)));</highlight></codeline>
<codeline lineno="2852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in_buf_ofs<sp/>+=<sp/>in_buf_size;</highlight></codeline>
<codeline lineno="2853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((dst_buf_size)<sp/>&amp;&amp;<sp/>(!(*pPut_buf_func)(pDict<sp/>+<sp/>dict_ofs,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)dst_buf_size,<sp/>pPut_buf_user)))</highlight></codeline>
<codeline lineno="2854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>!=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a49583f3a8fa8eb17838e17f21c08be05" kindref="member">TINFL_STATUS_HAS_MORE_OUTPUT</ref>)</highlight></codeline>
<codeline lineno="2856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>(status<sp/>==<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4af9316c69027621352f435c9a343f1042" kindref="member">TINFL_STATUS_DONE</ref>);</highlight></codeline>
<codeline lineno="2858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2860"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dict_ofs<sp/>=<sp/>(dict_ofs<sp/>+<sp/>dst_buf_size)<sp/>&amp;<sp/>(<ref refid="miniz_8h_1a39dc152de3351183ff8af716f0c556cb" kindref="member">TINFL_LZ_DICT_SIZE</ref><sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="2861"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2862"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ac73e9b464ae92e51b762f496296d7582" kindref="member">MZ_FREE</ref>(pDict);</highlight></codeline>
<codeline lineno="2863"><highlight class="normal"><sp/><sp/><sp/><sp/>*pIn_buf_size<sp/>=<sp/>in_buf_ofs;</highlight></codeline>
<codeline lineno="2864"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="2865"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2866"><highlight class="normal"></highlight></codeline>
<codeline lineno="2867"><highlight class="normal"><ref refid="structtinfl__decompressor__tag" kindref="compound">tinfl_decompressor</ref><sp/>*<ref refid="miniz_8c_1a65dd8744393e4f726a67aa3833656353" kindref="member">tinfl_decompressor_alloc</ref>()</highlight></codeline>
<codeline lineno="2868"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2869"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtinfl__decompressor__tag" kindref="compound">tinfl_decompressor</ref><sp/>*pDecomp<sp/>=<sp/>(<ref refid="structtinfl__decompressor__tag" kindref="compound">tinfl_decompressor</ref><sp/>*)<ref refid="miniz_8h_1a09b9e87cb19529df25b3c3e47c9ad393" kindref="member">MZ_MALLOC</ref>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structtinfl__decompressor__tag" kindref="compound">tinfl_decompressor</ref>));</highlight></codeline>
<codeline lineno="2870"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pDecomp)</highlight></codeline>
<codeline lineno="2871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a38425ff8609fe5fe5a9a48612e6f3e46" kindref="member">tinfl_init</ref>(pDecomp);</highlight></codeline>
<codeline lineno="2872"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pDecomp;</highlight></codeline>
<codeline lineno="2873"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2874"><highlight class="normal"></highlight></codeline>
<codeline lineno="2875"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1af8586e33fb8be9bff1c261d3aae1fc5e" kindref="member">tinfl_decompressor_free</ref>(<ref refid="structtinfl__decompressor__tag" kindref="compound">tinfl_decompressor</ref><sp/>*pDecomp)</highlight></codeline>
<codeline lineno="2876"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2877"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ac73e9b464ae92e51b762f496296d7582" kindref="member">MZ_FREE</ref>(pDecomp);</highlight></codeline>
<codeline lineno="2878"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2879"><highlight class="normal"></highlight></codeline>
<codeline lineno="2880"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2881"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2882"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2883"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************</highlight></codeline>
<codeline lineno="2884"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="2885"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>2013-2014<sp/>RAD<sp/>Game<sp/>Tools<sp/>and<sp/>Valve<sp/>Software</highlight></codeline>
<codeline lineno="2886"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>2010-2014<sp/>Rich<sp/>Geldreich<sp/>and<sp/>Tenacious<sp/>Software<sp/>LLC</highlight></codeline>
<codeline lineno="2887"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>2016<sp/>Martin<sp/>Raiber</highlight></codeline>
<codeline lineno="2888"><highlight class="comment"><sp/>*<sp/>All<sp/>Rights<sp/>Reserved.</highlight></codeline>
<codeline lineno="2889"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="2890"><highlight class="comment"><sp/>*<sp/>Permission<sp/>is<sp/>hereby<sp/>granted,<sp/>free<sp/>of<sp/>charge,<sp/>to<sp/>any<sp/>person<sp/>obtaining<sp/>a<sp/>copy</highlight></codeline>
<codeline lineno="2891"><highlight class="comment"><sp/>*<sp/>of<sp/>this<sp/>software<sp/>and<sp/>associated<sp/>documentation<sp/>files<sp/>(the<sp/>&quot;Software&quot;),<sp/>to<sp/>deal</highlight></codeline>
<codeline lineno="2892"><highlight class="comment"><sp/>*<sp/>in<sp/>the<sp/>Software<sp/>without<sp/>restriction,<sp/>including<sp/>without<sp/>limitation<sp/>the<sp/>rights</highlight></codeline>
<codeline lineno="2893"><highlight class="comment"><sp/>*<sp/>to<sp/>use,<sp/>copy,<sp/>modify,<sp/>merge,<sp/>publish,<sp/>distribute,<sp/>sublicense,<sp/>and/or<sp/>sell</highlight></codeline>
<codeline lineno="2894"><highlight class="comment"><sp/>*<sp/>copies<sp/>of<sp/>the<sp/>Software,<sp/>and<sp/>to<sp/>permit<sp/>persons<sp/>to<sp/>whom<sp/>the<sp/>Software<sp/>is</highlight></codeline>
<codeline lineno="2895"><highlight class="comment"><sp/>*<sp/>furnished<sp/>to<sp/>do<sp/>so,<sp/>subject<sp/>to<sp/>the<sp/>following<sp/>conditions:</highlight></codeline>
<codeline lineno="2896"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="2897"><highlight class="comment"><sp/>*<sp/>The<sp/>above<sp/>copyright<sp/>notice<sp/>and<sp/>this<sp/>permission<sp/>notice<sp/>shall<sp/>be<sp/>included<sp/>in</highlight></codeline>
<codeline lineno="2898"><highlight class="comment"><sp/>*<sp/>all<sp/>copies<sp/>or<sp/>substantial<sp/>portions<sp/>of<sp/>the<sp/>Software.</highlight></codeline>
<codeline lineno="2899"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="2900"><highlight class="comment"><sp/>*<sp/>THE<sp/>SOFTWARE<sp/>IS<sp/>PROVIDED<sp/>&quot;AS<sp/>IS&quot;,<sp/>WITHOUT<sp/>WARRANTY<sp/>OF<sp/>ANY<sp/>KIND,<sp/>EXPRESS<sp/>OR</highlight></codeline>
<codeline lineno="2901"><highlight class="comment"><sp/>*<sp/>IMPLIED,<sp/>INCLUDING<sp/>BUT<sp/>NOT<sp/>LIMITED<sp/>TO<sp/>THE<sp/>WARRANTIES<sp/>OF<sp/>MERCHANTABILITY,</highlight></codeline>
<codeline lineno="2902"><highlight class="comment"><sp/>*<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE<sp/>AND<sp/>NONINFRINGEMENT.<sp/>IN<sp/>NO<sp/>EVENT<sp/>SHALL<sp/>THE</highlight></codeline>
<codeline lineno="2903"><highlight class="comment"><sp/>*<sp/>AUTHORS<sp/>OR<sp/>COPYRIGHT<sp/>HOLDERS<sp/>BE<sp/>LIABLE<sp/>FOR<sp/>ANY<sp/>CLAIM,<sp/>DAMAGES<sp/>OR<sp/>OTHER</highlight></codeline>
<codeline lineno="2904"><highlight class="comment"><sp/>*<sp/>LIABILITY,<sp/>WHETHER<sp/>IN<sp/>AN<sp/>ACTION<sp/>OF<sp/>CONTRACT,<sp/>TORT<sp/>OR<sp/>OTHERWISE,<sp/>ARISING<sp/>FROM,</highlight></codeline>
<codeline lineno="2905"><highlight class="comment"><sp/>*<sp/>OUT<sp/>OF<sp/>OR<sp/>IN<sp/>CONNECTION<sp/>WITH<sp/>THE<sp/>SOFTWARE<sp/>OR<sp/>THE<sp/>USE<sp/>OR<sp/>OTHER<sp/>DEALINGS<sp/>IN</highlight></codeline>
<codeline lineno="2906"><highlight class="comment"><sp/>*<sp/>THE<sp/>SOFTWARE.</highlight></codeline>
<codeline lineno="2907"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="2908"><highlight class="comment"><sp/>**************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2909"><highlight class="normal"></highlight></codeline>
<codeline lineno="2910"><highlight class="normal"></highlight></codeline>
<codeline lineno="2911"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_ARCHIVE_APIS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2912"><highlight class="normal"></highlight></codeline>
<codeline lineno="2913"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2914"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;C&quot;</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2915"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2916"><highlight class="normal"></highlight></codeline>
<codeline lineno="2917"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>-------------------<sp/>.ZIP<sp/>archive<sp/>reading<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2918"><highlight class="normal"></highlight></codeline>
<codeline lineno="2919"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>MINIZ_NO_STDIO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2920"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FILE<sp/>void<sp/>*</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2921"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2922"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;sys/stat.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2923"><highlight class="normal"></highlight></codeline>
<codeline lineno="2924"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(_MSC_VER)<sp/>||<sp/>defined(__MINGW64__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2925"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>FILE<sp/>*mz_fopen(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pMode)</highlight></codeline>
<codeline lineno="2926"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2927"><highlight class="normal"><sp/><sp/><sp/><sp/>FILE<sp/>*pFile<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="2928"><highlight class="normal"><sp/><sp/><sp/><sp/>fopen_s(&amp;pFile,<sp/>pFilename,<sp/>pMode);</highlight></codeline>
<codeline lineno="2929"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pFile;</highlight></codeline>
<codeline lineno="2930"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2931"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>FILE<sp/>*mz_freopen(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pPath,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pMode,<sp/>FILE<sp/>*pStream)</highlight></codeline>
<codeline lineno="2932"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2933"><highlight class="normal"><sp/><sp/><sp/><sp/>FILE<sp/>*pFile<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="2934"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(freopen_s(&amp;pFile,<sp/>pPath,<sp/>pMode,<sp/>pStream))</highlight></codeline>
<codeline lineno="2935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="2936"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pFile;</highlight></codeline>
<codeline lineno="2937"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2938"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_TIME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2939"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;sys/utime.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2940"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2941"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FOPEN<sp/>mz_fopen</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2942"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FCLOSE<sp/>fclose</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2943"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FREAD<sp/>fread</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2944"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FWRITE<sp/>fwrite</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2945"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FTELL64<sp/>_ftelli64</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2946"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FSEEK64<sp/>_fseeki64</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2947"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FILE_STAT_STRUCT<sp/>_stat</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2948"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FILE_STAT<sp/>_stat</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2949"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FFLUSH<sp/>fflush</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2950"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FREOPEN<sp/>mz_freopen</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2951"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_DELETE_FILE<sp/>remove</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2952"><highlight class="normal"></highlight><highlight class="preprocessor">#elif<sp/>defined(__MINGW32__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2953"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_TIME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2954"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;sys/utime.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2955"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2956"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FOPEN(f,<sp/>m)<sp/>fopen(f,<sp/>m)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2957"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FCLOSE<sp/>fclose</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2958"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FREAD<sp/>fread</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2959"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FWRITE<sp/>fwrite</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2960"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FTELL64<sp/>ftello64</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2961"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FSEEK64<sp/>fseeko64</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2962"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FILE_STAT_STRUCT<sp/>_stat</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2963"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FILE_STAT<sp/>_stat</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2964"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FFLUSH<sp/>fflush</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2965"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FREOPEN(f,<sp/>m,<sp/>s)<sp/>freopen(f,<sp/>m,<sp/>s)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2966"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_DELETE_FILE<sp/>remove</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2967"><highlight class="normal"></highlight><highlight class="preprocessor">#elif<sp/>defined(__TINYC__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2968"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_TIME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2969"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;sys/utime.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2970"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2971"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FOPEN(f,<sp/>m)<sp/>fopen(f,<sp/>m)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2972"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FCLOSE<sp/>fclose</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2973"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FREAD<sp/>fread</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2974"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FWRITE<sp/>fwrite</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2975"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FTELL64<sp/>ftell</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2976"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FSEEK64<sp/>fseek</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2977"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FILE_STAT_STRUCT<sp/>stat</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2978"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FILE_STAT<sp/>stat</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2979"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FFLUSH<sp/>fflush</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2980"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FREOPEN(f,<sp/>m,<sp/>s)<sp/>freopen(f,<sp/>m,<sp/>s)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2981"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_DELETE_FILE<sp/>remove</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2982"><highlight class="normal"></highlight><highlight class="preprocessor">#elif<sp/>defined(__GNUC__)<sp/>&amp;&amp;<sp/>_LARGEFILE64_SOURCE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2983"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_TIME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2984"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;utime.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2985"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2986"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FOPEN(f,<sp/>m)<sp/>fopen64(f,<sp/>m)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2987"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FCLOSE<sp/>fclose</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2988"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FREAD<sp/>fread</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2989"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FWRITE<sp/>fwrite</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2990"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FTELL64<sp/>ftello64</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2991"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FSEEK64<sp/>fseeko64</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2992"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FILE_STAT_STRUCT<sp/>stat64</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2993"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FILE_STAT<sp/>stat64</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2994"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FFLUSH<sp/>fflush</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2995"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FREOPEN(p,<sp/>m,<sp/>s)<sp/>freopen64(p,<sp/>m,<sp/>s)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2996"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_DELETE_FILE<sp/>remove</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2997"><highlight class="normal"></highlight><highlight class="preprocessor">#elif<sp/>defined(__APPLE__)<sp/>&amp;&amp;<sp/>_LARGEFILE64_SOURCE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2998"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_TIME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2999"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;utime.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3000"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3001"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FOPEN(f,<sp/>m)<sp/>fopen(f,<sp/>m)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3002"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FCLOSE<sp/>fclose</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3003"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FREAD<sp/>fread</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3004"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FWRITE<sp/>fwrite</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3005"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FTELL64<sp/>ftello</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3006"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FSEEK64<sp/>fseeko</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3007"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FILE_STAT_STRUCT<sp/>stat</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3008"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FILE_STAT<sp/>stat</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3009"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FFLUSH<sp/>fflush</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3010"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FREOPEN(p,<sp/>m,<sp/>s)<sp/>freopen(p,<sp/>m,<sp/>s)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3011"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_DELETE_FILE<sp/>remove</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3012"><highlight class="normal"></highlight></codeline>
<codeline lineno="3013"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3014"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>message(&quot;Using<sp/>fopen,<sp/>ftello,<sp/>fseeko,<sp/>stat()<sp/>etc.<sp/>path<sp/>for<sp/>file<sp/>I/O<sp/>-<sp/>this<sp/>path<sp/>may<sp/>not<sp/>support<sp/>large<sp/>files.&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3015"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_TIME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3016"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;utime.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3017"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3018"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FOPEN(f,<sp/>m)<sp/>fopen(f,<sp/>m)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3019"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FCLOSE<sp/>fclose</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3020"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FREAD<sp/>fread</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3021"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FWRITE<sp/>fwrite</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3022"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__STRICT_ANSI__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3023"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FTELL64<sp/>ftell</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3024"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FSEEK64<sp/>fseek</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3025"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3026"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FTELL64<sp/>ftello</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3027"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FSEEK64<sp/>fseeko</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3028"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3029"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FILE_STAT_STRUCT<sp/>stat</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3030"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FILE_STAT<sp/>stat</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3031"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FFLUSH<sp/>fflush</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3032"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_FREOPEN(f,<sp/>m,<sp/>s)<sp/>freopen(f,<sp/>m,<sp/>s)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3033"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_DELETE_FILE<sp/>remove</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3034"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifdef<sp/>_MSC_VER<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3035"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifdef<sp/>MINIZ_NO_STDIO<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3036"><highlight class="normal"></highlight></codeline>
<codeline lineno="3037"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_TOLOWER(c)<sp/>((((c)<sp/>&gt;=<sp/>&apos;A&apos;)<sp/>&amp;&amp;<sp/>((c)<sp/>&lt;=<sp/>&apos;Z&apos;))<sp/>?<sp/>((c)<sp/>-<sp/>&apos;A&apos;<sp/>+<sp/>&apos;a&apos;)<sp/>:<sp/>(c))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3038"><highlight class="normal"></highlight></codeline>
<codeline lineno="3039"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Various<sp/>ZIP<sp/>archive<sp/>enums.<sp/>To<sp/>completely<sp/>avoid<sp/>cross<sp/>platform<sp/>compiler<sp/>alignment<sp/>and<sp/>platform<sp/>endian<sp/>issues,<sp/>miniz.c<sp/>doesn&apos;t<sp/>use<sp/>structs<sp/>for<sp/>any<sp/>of<sp/>this<sp/>stuff.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3040"><highlight class="normal"></highlight><highlight class="keyword">enum</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3041"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3042"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ZIP<sp/>archive<sp/>identifiers<sp/>and<sp/>record<sp/>sizes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3043"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a95b16d7168bf48558fd3c8b852cb8a3d" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIG</ref><sp/>=<sp/>0x06054b50,</highlight></codeline>
<codeline lineno="3044"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a77d0b453bce2a419b6144bf87e71b170" kindref="member">MZ_ZIP_CENTRAL_DIR_HEADER_SIG</ref><sp/>=<sp/>0x02014b50,</highlight></codeline>
<codeline lineno="3045"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a05f28665e3880ca5863fff3ca58129b6" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIG</ref><sp/>=<sp/>0x04034b50,</highlight></codeline>
<codeline lineno="3046"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref><sp/>=<sp/>30,</highlight></codeline>
<codeline lineno="3047"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac89e96bb4580c93ac5cc27ca0623b964" kindref="member">MZ_ZIP_CENTRAL_DIR_HEADER_SIZE</ref><sp/>=<sp/>46,</highlight></codeline>
<codeline lineno="3048"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abec7783de4399c774ee325a0e4226ed9" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE</ref><sp/>=<sp/>22,</highlight></codeline>
<codeline lineno="3049"><highlight class="normal"></highlight></codeline>
<codeline lineno="3050"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ZIP64<sp/>archive<sp/>identifier<sp/>and<sp/>record<sp/>sizes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3051"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a1737873733b435bcafe42f36d33e95e6" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_HEADER_SIG</ref><sp/>=<sp/>0x06064b50,</highlight></codeline>
<codeline lineno="3052"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aacfa47118d9e7c741c8b27a1e4f27958" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIG</ref><sp/>=<sp/>0x07064b50,</highlight></codeline>
<codeline lineno="3053"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7acc90947176ac515bdaa8c71daf7aaaa3" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_HEADER_SIZE</ref><sp/>=<sp/>56,</highlight></codeline>
<codeline lineno="3054"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4a1c181272cf9a1959d655c252a4419b" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIZE</ref><sp/>=<sp/>20,</highlight></codeline>
<codeline lineno="3055"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a76fd85fc5176e2615ec50dc9e9a850dc" kindref="member">MZ_ZIP64_EXTENDED_INFORMATION_FIELD_HEADER_ID</ref><sp/>=<sp/>0x0001,</highlight></codeline>
<codeline lineno="3056"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ad5d78923c0a646f47db97500a9d24b9d" kindref="member">MZ_ZIP_DATA_DESCRIPTOR_ID</ref><sp/>=<sp/>0x08074b50,</highlight></codeline>
<codeline lineno="3057"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a141e719c11d73808127d93d7e43d831f" kindref="member">MZ_ZIP_DATA_DESCRIPTER_SIZE64</ref><sp/>=<sp/>24,</highlight></codeline>
<codeline lineno="3058"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2d8d0fa55e19480b267a629d4b0174b4" kindref="member">MZ_ZIP_DATA_DESCRIPTER_SIZE32</ref><sp/>=<sp/>16,</highlight></codeline>
<codeline lineno="3059"><highlight class="normal"></highlight></codeline>
<codeline lineno="3060"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Central<sp/>directory<sp/>header<sp/>record<sp/>offsets<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3061"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a358e2e9adf6165535355f8bb86112dec" kindref="member">MZ_ZIP_CDH_SIG_OFS</ref><sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="3062"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7adc548ddb0c98ab80c5040a55a03561da" kindref="member">MZ_ZIP_CDH_VERSION_MADE_BY_OFS</ref><sp/>=<sp/>4,</highlight></codeline>
<codeline lineno="3063"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a122562cf2a1182825317fe26e7902e64" kindref="member">MZ_ZIP_CDH_VERSION_NEEDED_OFS</ref><sp/>=<sp/>6,</highlight></codeline>
<codeline lineno="3064"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac50291ea0ed2b18a069f5e129f098db2" kindref="member">MZ_ZIP_CDH_BIT_FLAG_OFS</ref><sp/>=<sp/>8,</highlight></codeline>
<codeline lineno="3065"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a49864f9b56c094003565ed64b2b4aed1" kindref="member">MZ_ZIP_CDH_METHOD_OFS</ref><sp/>=<sp/>10,</highlight></codeline>
<codeline lineno="3066"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a6954b28080a1fb151914b00da25074f5" kindref="member">MZ_ZIP_CDH_FILE_TIME_OFS</ref><sp/>=<sp/>12,</highlight></codeline>
<codeline lineno="3067"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0a30dbf39d1e87013ef095186370cc36" kindref="member">MZ_ZIP_CDH_FILE_DATE_OFS</ref><sp/>=<sp/>14,</highlight></codeline>
<codeline lineno="3068"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a98e11950c99539215b65a334a2afe989" kindref="member">MZ_ZIP_CDH_CRC32_OFS</ref><sp/>=<sp/>16,</highlight></codeline>
<codeline lineno="3069"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2a463b99b8d0699bda4e3a52dd1d1015" kindref="member">MZ_ZIP_CDH_COMPRESSED_SIZE_OFS</ref><sp/>=<sp/>20,</highlight></codeline>
<codeline lineno="3070"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a43afeb736295b1f90330d79db8420c9e" kindref="member">MZ_ZIP_CDH_DECOMPRESSED_SIZE_OFS</ref><sp/>=<sp/>24,</highlight></codeline>
<codeline lineno="3071"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03f4415315a96a9691344f193cef8da2" kindref="member">MZ_ZIP_CDH_FILENAME_LEN_OFS</ref><sp/>=<sp/>28,</highlight></codeline>
<codeline lineno="3072"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5a7ea82498b1ffd464965872fe507d8b" kindref="member">MZ_ZIP_CDH_EXTRA_LEN_OFS</ref><sp/>=<sp/>30,</highlight></codeline>
<codeline lineno="3073"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac67dc228d5e122d1ad9cd42072e65c1d" kindref="member">MZ_ZIP_CDH_COMMENT_LEN_OFS</ref><sp/>=<sp/>32,</highlight></codeline>
<codeline lineno="3074"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa0323bb440c5cb8ebcacc2bf7da778bc" kindref="member">MZ_ZIP_CDH_DISK_START_OFS</ref><sp/>=<sp/>34,</highlight></codeline>
<codeline lineno="3075"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa4790eefd44430aa5eab2837e16ab840" kindref="member">MZ_ZIP_CDH_INTERNAL_ATTR_OFS</ref><sp/>=<sp/>36,</highlight></codeline>
<codeline lineno="3076"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ab4dec2086b60f7e1c7ce499b07b966cb" kindref="member">MZ_ZIP_CDH_EXTERNAL_ATTR_OFS</ref><sp/>=<sp/>38,</highlight></codeline>
<codeline lineno="3077"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a15dc7648592d367c3edaac476c3aac87" kindref="member">MZ_ZIP_CDH_LOCAL_HEADER_OFS</ref><sp/>=<sp/>42,</highlight></codeline>
<codeline lineno="3078"><highlight class="normal"></highlight></codeline>
<codeline lineno="3079"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Local<sp/>directory<sp/>header<sp/>offsets<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3080"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a8e097e1ab652a56cc76597c8ef1999c0" kindref="member">MZ_ZIP_LDH_SIG_OFS</ref><sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="3081"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa84f798966b9ea678b5eaebc6dca4b70" kindref="member">MZ_ZIP_LDH_VERSION_NEEDED_OFS</ref><sp/>=<sp/>4,</highlight></codeline>
<codeline lineno="3082"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0ed8079f712b2ec7963d9b1378596528" kindref="member">MZ_ZIP_LDH_BIT_FLAG_OFS</ref><sp/>=<sp/>6,</highlight></codeline>
<codeline lineno="3083"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a607eeb03e7ee0916fa7d93abaaaba9fd" kindref="member">MZ_ZIP_LDH_METHOD_OFS</ref><sp/>=<sp/>8,</highlight></codeline>
<codeline lineno="3084"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4d8dee6a3a5a1bb480dbbd7b9bff6a68" kindref="member">MZ_ZIP_LDH_FILE_TIME_OFS</ref><sp/>=<sp/>10,</highlight></codeline>
<codeline lineno="3085"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5cb18f68ead9424b140fd8710ee9e124" kindref="member">MZ_ZIP_LDH_FILE_DATE_OFS</ref><sp/>=<sp/>12,</highlight></codeline>
<codeline lineno="3086"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0b518fa8ffa820df4771f9d567c13dcc" kindref="member">MZ_ZIP_LDH_CRC32_OFS</ref><sp/>=<sp/>14,</highlight></codeline>
<codeline lineno="3087"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a67751a44d185feb156f40a7cd922a577" kindref="member">MZ_ZIP_LDH_COMPRESSED_SIZE_OFS</ref><sp/>=<sp/>18,</highlight></codeline>
<codeline lineno="3088"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac3538fb6973847de5f8bd315ba8d0e1d" kindref="member">MZ_ZIP_LDH_DECOMPRESSED_SIZE_OFS</ref><sp/>=<sp/>22,</highlight></codeline>
<codeline lineno="3089"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4990e590f2652f0d540c3eb35e3f650f" kindref="member">MZ_ZIP_LDH_FILENAME_LEN_OFS</ref><sp/>=<sp/>26,</highlight></codeline>
<codeline lineno="3090"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aaecc052d653e298f93b9c5523c98f5f2" kindref="member">MZ_ZIP_LDH_EXTRA_LEN_OFS</ref><sp/>=<sp/>28,</highlight></codeline>
<codeline lineno="3091"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0405d7ab268a9b534642d2d0acf56749" kindref="member">MZ_ZIP_LDH_BIT_FLAG_HAS_LOCATOR</ref><sp/>=<sp/>1<sp/>&lt;&lt;<sp/>3,</highlight></codeline>
<codeline lineno="3092"><highlight class="normal"></highlight></codeline>
<codeline lineno="3093"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>central<sp/>directory<sp/>offsets<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3094"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a7b4454ba69b4a1c3bfe0cd316932a3cf" kindref="member">MZ_ZIP_ECDH_SIG_OFS</ref><sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="3095"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ae0c658558608a1501292d493a3049178" kindref="member">MZ_ZIP_ECDH_NUM_THIS_DISK_OFS</ref><sp/>=<sp/>4,</highlight></codeline>
<codeline lineno="3096"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0edb58391c7fa73d90c8deac8bc8b85e" kindref="member">MZ_ZIP_ECDH_NUM_DISK_CDIR_OFS</ref><sp/>=<sp/>6,</highlight></codeline>
<codeline lineno="3097"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a3415fd67ec4b72e9b7e6856ed920d100" kindref="member">MZ_ZIP_ECDH_CDIR_NUM_ENTRIES_ON_DISK_OFS</ref><sp/>=<sp/>8,</highlight></codeline>
<codeline lineno="3098"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a76cd05886b8034f320cb457c03e6641a" kindref="member">MZ_ZIP_ECDH_CDIR_TOTAL_ENTRIES_OFS</ref><sp/>=<sp/>10,</highlight></codeline>
<codeline lineno="3099"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a45f0ad9bb0f828942c6e54015f44af4e" kindref="member">MZ_ZIP_ECDH_CDIR_SIZE_OFS</ref><sp/>=<sp/>12,</highlight></codeline>
<codeline lineno="3100"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa862cb29a1bcd653affce1a58e82f494" kindref="member">MZ_ZIP_ECDH_CDIR_OFS_OFS</ref><sp/>=<sp/>16,</highlight></codeline>
<codeline lineno="3101"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a844ce7cb26e7e4a0f6321baf37ac66cb" kindref="member">MZ_ZIP_ECDH_COMMENT_SIZE_OFS</ref><sp/>=<sp/>20,</highlight></codeline>
<codeline lineno="3102"><highlight class="normal"></highlight></codeline>
<codeline lineno="3103"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ZIP64<sp/>End<sp/>of<sp/>central<sp/>directory<sp/>locator<sp/>offsets<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3104"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a493c8c19fe896d665222f70c623f9fc6" kindref="member">MZ_ZIP64_ECDL_SIG_OFS</ref><sp/>=<sp/>0,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>4<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3105"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4063056c23df4708b24423233e2b738b" kindref="member">MZ_ZIP64_ECDL_NUM_DISK_CDIR_OFS</ref><sp/>=<sp/>4,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>4<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3106"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5e3af797b3f1a81865958774b1c62735" kindref="member">MZ_ZIP64_ECDL_REL_OFS_TO_ZIP64_ECDR_OFS</ref><sp/>=<sp/>8,<sp/><sp/></highlight><highlight class="comment">/*<sp/>8<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3107"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a8be22e7047a06fc2815c55c84b82b222" kindref="member">MZ_ZIP64_ECDL_TOTAL_NUMBER_OF_DISKS_OFS</ref><sp/>=<sp/>16,<sp/></highlight><highlight class="comment">/*<sp/>4<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3108"><highlight class="normal"></highlight></codeline>
<codeline lineno="3109"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ZIP64<sp/>End<sp/>of<sp/>central<sp/>directory<sp/>header<sp/>offsets<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3110"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0ecfe9df02264886b36ace284d1fcfd4" kindref="member">MZ_ZIP64_ECDH_SIG_OFS</ref><sp/>=<sp/>0,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>4<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3111"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7af93888e0a9fe5b48b11c983d8626278d" kindref="member">MZ_ZIP64_ECDH_SIZE_OF_RECORD_OFS</ref><sp/>=<sp/>4,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>8<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3112"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03aa0ae942083ab0f6bee9f23f3eec45" kindref="member">MZ_ZIP64_ECDH_VERSION_MADE_BY_OFS</ref><sp/>=<sp/>12,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>2<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3113"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a55ade64891d171085e4c27b6c91a5b18" kindref="member">MZ_ZIP64_ECDH_VERSION_NEEDED_OFS</ref><sp/>=<sp/>14,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>2<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3114"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ab99ad7abe356356da9f80a7c141f9027" kindref="member">MZ_ZIP64_ECDH_NUM_THIS_DISK_OFS</ref><sp/>=<sp/>16,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>4<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3115"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2790f9123d0398f4498f75784069c3c9" kindref="member">MZ_ZIP64_ECDH_NUM_DISK_CDIR_OFS</ref><sp/>=<sp/>20,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>4<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3116"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a63640ed20841b4aad31e5f27bc11f5c4" kindref="member">MZ_ZIP64_ECDH_CDIR_NUM_ENTRIES_ON_DISK_OFS</ref><sp/>=<sp/>24,<sp/></highlight><highlight class="comment">/*<sp/>8<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3117"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa3bd2e64f9cea2ef41a46201685ebb0f" kindref="member">MZ_ZIP64_ECDH_CDIR_TOTAL_ENTRIES_OFS</ref><sp/>=<sp/>32,<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>8<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3118"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a8bd9fc50f35f48bf3ce4456b4d57bac3" kindref="member">MZ_ZIP64_ECDH_CDIR_SIZE_OFS</ref><sp/>=<sp/>40,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>8<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3119"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac3072ff7e0d451b2d918e4be650c998c" kindref="member">MZ_ZIP64_ECDH_CDIR_OFS_OFS</ref><sp/>=<sp/>48,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>8<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3120"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a7107b0f82574f69262e3d0b4443856b6" kindref="member">MZ_ZIP_VERSION_MADE_BY_DOS_FILESYSTEM_ID</ref><sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="3121"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4a2a1bb318f1f4ab445c7e4de3d3e1cc" kindref="member">MZ_ZIP_DOS_DIR_ATTRIBUTE_BITFLAG</ref><sp/>=<sp/>0x10,</highlight></codeline>
<codeline lineno="3122"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aee3f29c6ca80f7c1ba12e8d4620980b0" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_IS_ENCRYPTED</ref><sp/>=<sp/>1,</highlight></codeline>
<codeline lineno="3123"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a3df7ccd884899093e2cc9cf6411f5743" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_COMPRESSED_PATCH_FLAG</ref><sp/>=<sp/>32,</highlight></codeline>
<codeline lineno="3124"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a9065070139fca1d195692b1009357e3c" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_USES_STRONG_ENCRYPTION</ref><sp/>=<sp/>64,</highlight></codeline>
<codeline lineno="3125"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ab5a6b8b6b4b9f098c4ec926a6d22c432" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_LOCAL_DIR_IS_MASKED</ref><sp/>=<sp/>8192,</highlight></codeline>
<codeline lineno="3126"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2170b4f05a7674dad26a7c90f92ed992" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_UTF8</ref><sp/>=<sp/>1<sp/>&lt;&lt;<sp/>11</highlight></codeline>
<codeline lineno="3127"><highlight class="normal">};</highlight></codeline>
<codeline lineno="3128"><highlight class="normal"></highlight></codeline>
<codeline lineno="3129" refid="structmz__zip__array" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3130"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*m_p;</highlight></codeline>
<codeline lineno="3132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>m_size,<sp/>m_capacity;</highlight></codeline>
<codeline lineno="3133"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>m_element_size;</highlight></codeline>
<codeline lineno="3134"><highlight class="normal">}<sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref>;</highlight></codeline>
<codeline lineno="3135"><highlight class="normal"></highlight></codeline>
<codeline lineno="3136" refid="structmz__zip__internal__state__tag" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state_tag</ref></highlight></codeline>
<codeline lineno="3137"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3138"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/><ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>;</highlight></codeline>
<codeline lineno="3139"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/><ref refid="structmz__zip__internal__state__tag_1a51a9aa41f7499c7e6e4c2546aa965b9c" kindref="member">m_central_dir_offsets</ref>;</highlight></codeline>
<codeline lineno="3140"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/><ref refid="structmz__zip__internal__state__tag_1a1e3af54224b61cb20d6ceaeb5807bc33" kindref="member">m_sorted_central_dir_offsets</ref>;</highlight></codeline>
<codeline lineno="3141"><highlight class="normal"></highlight></codeline>
<codeline lineno="3142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>The<sp/>flags<sp/>passed<sp/>in<sp/>when<sp/>the<sp/>archive<sp/>is<sp/>initially<sp/>opened.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3143"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/><ref refid="structmz__zip__internal__state__tag_1aa247669a24b55b9b9e86f732ea175bce" kindref="member">m_init_flags</ref>;</highlight></codeline>
<codeline lineno="3144"><highlight class="normal"></highlight></codeline>
<codeline lineno="3145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>MZ_TRUE<sp/>if<sp/>the<sp/>archive<sp/>has<sp/>a<sp/>zip64<sp/>end<sp/>of<sp/>central<sp/>directory<sp/>headers,<sp/>etc.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3146"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>;</highlight></codeline>
<codeline lineno="3147"><highlight class="normal"></highlight></codeline>
<codeline lineno="3148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>MZ_TRUE<sp/>if<sp/>we<sp/>found<sp/>zip64<sp/>extended<sp/>info<sp/>in<sp/>the<sp/>central<sp/>directory<sp/>(m_zip64<sp/>will<sp/>also<sp/>be<sp/>slammed<sp/>to<sp/>true<sp/>too,<sp/>even<sp/>if<sp/>we<sp/>didn&apos;t<sp/>find<sp/>a<sp/>zip64<sp/>end<sp/>of<sp/>central<sp/>dir<sp/>header,<sp/>etc.)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3149"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="structmz__zip__internal__state__tag_1a0071a211627637fc049defb3f61972fe" kindref="member">m_zip64_has_extended_info_fields</ref>;</highlight></codeline>
<codeline lineno="3150"><highlight class="normal"></highlight></codeline>
<codeline lineno="3151"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>These<sp/>fields<sp/>are<sp/>used<sp/>by<sp/>the<sp/>file,<sp/>FILE,<sp/>memory,<sp/>and<sp/>memory/heap<sp/>read/write<sp/>helpers.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3152"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref><sp/>*<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>;</highlight></codeline>
<codeline lineno="3153"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/><ref refid="structmz__zip__internal__state__tag_1a2705cc469d5f08543d5f827f43f391ec" kindref="member">m_file_archive_start_ofs</ref>;</highlight></codeline>
<codeline lineno="3154"><highlight class="normal"></highlight></codeline>
<codeline lineno="3155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref>;</highlight></codeline>
<codeline lineno="3156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structmz__zip__internal__state__tag_1a4511d7743e1a63fb78ed066f8de96466" kindref="member">m_mem_size</ref>;</highlight></codeline>
<codeline lineno="3157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structmz__zip__internal__state__tag_1a71f011527805e3ac48f5f12cb73d2233" kindref="member">m_mem_capacity</ref>;</highlight></codeline>
<codeline lineno="3158"><highlight class="normal">};</highlight></codeline>
<codeline lineno="3159"><highlight class="normal"></highlight></codeline>
<codeline lineno="3160"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_ZIP_ARRAY_SET_ELEMENT_SIZE(array_ptr,<sp/>element_size)<sp/>(array_ptr)-&gt;m_element_size<sp/>=<sp/>element_size</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3161"><highlight class="normal"></highlight></codeline>
<codeline lineno="3162"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(DEBUG)<sp/>||<sp/>defined(_DEBUG)<sp/>||<sp/>defined(NDEBUG)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3163"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>mz_zip_array_range_check(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pArray,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>index)</highlight></codeline>
<codeline lineno="3164"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3165"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(index<sp/>&lt;<sp/>pArray-&gt;m_size);</highlight></codeline>
<codeline lineno="3166"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>index;</highlight></codeline>
<codeline lineno="3167"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3168"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_ZIP_ARRAY_ELEMENT(array_ptr,<sp/>element_type,<sp/>index)<sp/>((element_type<sp/>*)((array_ptr)-&gt;m_p))[mz_zip_array_range_check(array_ptr,<sp/>index)]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3169"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3170"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_ZIP_ARRAY_ELEMENT(array_ptr,<sp/>element_type,<sp/>index)<sp/>((element_type<sp/>*)((array_ptr)-&gt;m_p))[index]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3171"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3172"><highlight class="normal"></highlight></codeline>
<codeline lineno="3173"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a6e4fb49aa0c719cd8545f933085d3f31" kindref="member">mz_zip_array_init</ref>(<ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pArray,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>element_size)</highlight></codeline>
<codeline lineno="3174"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3175"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(pArray,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref>));</highlight></codeline>
<codeline lineno="3176"><highlight class="normal"><sp/><sp/><sp/><sp/>pArray-&gt;<ref refid="structmz__zip__array_1ac3eb7acc1c233ed3c53db813d7d00692" kindref="member">m_element_size</ref><sp/>=<sp/>element_size;</highlight></codeline>
<codeline lineno="3177"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3178"><highlight class="normal"></highlight></codeline>
<codeline lineno="3179"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pArray)</highlight></codeline>
<codeline lineno="3180"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3181"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pArray-&gt;<ref refid="structmz__zip__array_1a8054ffa9a3da062a1d7528b124a8b651" kindref="member">m_p</ref>);</highlight></codeline>
<codeline lineno="3182"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(pArray,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref>));</highlight></codeline>
<codeline lineno="3183"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3184"><highlight class="normal"></highlight></codeline>
<codeline lineno="3185"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1aea3e54d9a8a3dd68909748bbf331fdec" kindref="member">mz_zip_array_ensure_capacity</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pArray,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>min_new_capacity,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>growing)</highlight></codeline>
<codeline lineno="3186"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pNew_p;</highlight></codeline>
<codeline lineno="3188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>new_capacity<sp/>=<sp/>min_new_capacity;</highlight></codeline>
<codeline lineno="3189"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(pArray-&gt;<ref refid="structmz__zip__array_1ac3eb7acc1c233ed3c53db813d7d00692" kindref="member">m_element_size</ref>);</highlight></codeline>
<codeline lineno="3190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pArray-&gt;<ref refid="structmz__zip__array_1abb5fb11f941f23713d9a8ef20930bf68" kindref="member">m_capacity</ref><sp/>&gt;=<sp/>min_new_capacity)</highlight></codeline>
<codeline lineno="3191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(growing)</highlight></codeline>
<codeline lineno="3193"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_capacity<sp/>=<sp/><ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>(1,<sp/>pArray-&gt;<ref refid="structmz__zip__array_1abb5fb11f941f23713d9a8ef20930bf68" kindref="member">m_capacity</ref>);</highlight></codeline>
<codeline lineno="3195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(new_capacity<sp/>&lt;<sp/>min_new_capacity)</highlight></codeline>
<codeline lineno="3196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_capacity<sp/>*=<sp/>2;</highlight></codeline>
<codeline lineno="3197"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>(pNew_p<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ac3cdd59e8bcc156954790af62fee92e8" kindref="member">m_pRealloc</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pArray-&gt;<ref refid="structmz__zip__array_1a8054ffa9a3da062a1d7528b124a8b651" kindref="member">m_p</ref>,<sp/>pArray-&gt;<ref refid="structmz__zip__array_1ac3eb7acc1c233ed3c53db813d7d00692" kindref="member">m_element_size</ref>,<sp/>new_capacity)))</highlight></codeline>
<codeline lineno="3199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3200"><highlight class="normal"><sp/><sp/><sp/><sp/>pArray-&gt;<ref refid="structmz__zip__array_1a8054ffa9a3da062a1d7528b124a8b651" kindref="member">m_p</ref><sp/>=<sp/>pNew_p;</highlight></codeline>
<codeline lineno="3201"><highlight class="normal"><sp/><sp/><sp/><sp/>pArray-&gt;<ref refid="structmz__zip__array_1abb5fb11f941f23713d9a8ef20930bf68" kindref="member">m_capacity</ref><sp/>=<sp/>new_capacity;</highlight></codeline>
<codeline lineno="3202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3203"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3204"><highlight class="normal"></highlight></codeline>
<codeline lineno="3205"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1aa6dddea105b3aa50fc245c1faf43843e" kindref="member">mz_zip_array_reserve</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pArray,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>new_capacity,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>growing)</highlight></codeline>
<codeline lineno="3206"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(new_capacity<sp/>&gt;<sp/>pArray-&gt;<ref refid="structmz__zip__array_1abb5fb11f941f23713d9a8ef20930bf68" kindref="member">m_capacity</ref>)</highlight></codeline>
<codeline lineno="3208"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1aea3e54d9a8a3dd68909748bbf331fdec" kindref="member">mz_zip_array_ensure_capacity</ref>(pZip,<sp/>pArray,<sp/>new_capacity,<sp/>growing))</highlight></codeline>
<codeline lineno="3210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3211"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3213"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3214"><highlight class="normal"></highlight></codeline>
<codeline lineno="3215"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1aef74dba7366dcc1de36eca8682480ddb" kindref="member">mz_zip_array_resize</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pArray,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>new_size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>growing)</highlight></codeline>
<codeline lineno="3216"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3217"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(new_size<sp/>&gt;<sp/>pArray-&gt;<ref refid="structmz__zip__array_1abb5fb11f941f23713d9a8ef20930bf68" kindref="member">m_capacity</ref>)</highlight></codeline>
<codeline lineno="3218"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1aea3e54d9a8a3dd68909748bbf331fdec" kindref="member">mz_zip_array_ensure_capacity</ref>(pZip,<sp/>pArray,<sp/>new_size,<sp/>growing))</highlight></codeline>
<codeline lineno="3220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3221"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3222"><highlight class="normal"><sp/><sp/><sp/><sp/>pArray-&gt;<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref><sp/>=<sp/>new_size;</highlight></codeline>
<codeline lineno="3223"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3224"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3225"><highlight class="normal"></highlight></codeline>
<codeline lineno="3226"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a0b9993d18742ba59643f17a4f5eff39e" kindref="member">mz_zip_array_ensure_room</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pArray,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>n)</highlight></codeline>
<codeline lineno="3227"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1aa6dddea105b3aa50fc245c1faf43843e" kindref="member">mz_zip_array_reserve</ref>(pZip,<sp/>pArray,<sp/>pArray-&gt;<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref><sp/>+<sp/>n,<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>);</highlight></codeline>
<codeline lineno="3229"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3230"><highlight class="normal"></highlight></codeline>
<codeline lineno="3231"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" kindref="member">mz_zip_array_push_back</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pArray,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pElements,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>n)</highlight></codeline>
<codeline lineno="3232"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3233"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>orig_size<sp/>=<sp/>pArray-&gt;<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref>;</highlight></codeline>
<codeline lineno="3234"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1aef74dba7366dcc1de36eca8682480ddb" kindref="member">mz_zip_array_resize</ref>(pZip,<sp/>pArray,<sp/>orig_size<sp/>+<sp/>n,<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>))</highlight></codeline>
<codeline lineno="3235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3236"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy((<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pArray-&gt;<ref refid="structmz__zip__array_1a8054ffa9a3da062a1d7528b124a8b651" kindref="member">m_p</ref><sp/>+<sp/>orig_size<sp/>*<sp/>pArray-&gt;<ref refid="structmz__zip__array_1ac3eb7acc1c233ed3c53db813d7d00692" kindref="member">m_element_size</ref>,<sp/>pElements,<sp/>n<sp/>*<sp/>pArray-&gt;<ref refid="structmz__zip__array_1ac3eb7acc1c233ed3c53db813d7d00692" kindref="member">m_element_size</ref>);</highlight></codeline>
<codeline lineno="3237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3238"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3239"><highlight class="normal"></highlight></codeline>
<codeline lineno="3240"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_TIME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3241"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref><sp/><ref refid="miniz_8c_1a865b4534749f2889ff8f0c7cd46a2262" kindref="member">mz_zip_dos_to_time_t</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>dos_time,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>dos_date)</highlight></codeline>
<codeline lineno="3242"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3243"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">tm<sp/>tm;</highlight></codeline>
<codeline lineno="3244"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;tm,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(tm));</highlight></codeline>
<codeline lineno="3245"><highlight class="normal"><sp/><sp/><sp/><sp/>tm.tm_isdst<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="3246"><highlight class="normal"><sp/><sp/><sp/><sp/>tm.tm_year<sp/>=<sp/>((dos_date<sp/>&gt;&gt;<sp/>9)<sp/>&amp;<sp/>127)<sp/>+<sp/>1980<sp/>-<sp/>1900;</highlight></codeline>
<codeline lineno="3247"><highlight class="normal"><sp/><sp/><sp/><sp/>tm.tm_mon<sp/>=<sp/>((dos_date<sp/>&gt;&gt;<sp/>5)<sp/>&amp;<sp/>15)<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="3248"><highlight class="normal"><sp/><sp/><sp/><sp/>tm.tm_mday<sp/>=<sp/>dos_date<sp/>&amp;<sp/>31;</highlight></codeline>
<codeline lineno="3249"><highlight class="normal"><sp/><sp/><sp/><sp/>tm.tm_hour<sp/>=<sp/>(dos_time<sp/>&gt;&gt;<sp/>11)<sp/>&amp;<sp/>31;</highlight></codeline>
<codeline lineno="3250"><highlight class="normal"><sp/><sp/><sp/><sp/>tm.tm_min<sp/>=<sp/>(dos_time<sp/>&gt;&gt;<sp/>5)<sp/>&amp;<sp/>63;</highlight></codeline>
<codeline lineno="3251"><highlight class="normal"><sp/><sp/><sp/><sp/>tm.tm_sec<sp/>=<sp/>(dos_time<sp/>&lt;&lt;<sp/>1)<sp/>&amp;<sp/>62;</highlight></codeline>
<codeline lineno="3252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>mktime(&amp;tm);</highlight></codeline>
<codeline lineno="3253"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3254"><highlight class="normal"></highlight></codeline>
<codeline lineno="3255"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_ARCHIVE_WRITING_APIS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3256"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a81014d6382ef61c51ea369d3ba09d420" kindref="member">mz_zip_time_t_to_dos_time</ref>(<ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref><sp/>time,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>*pDOS_time,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>*pDOS_date)</highlight></codeline>
<codeline lineno="3257"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3258"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_MSC_VER</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3259"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">tm<sp/>tm_struct;</highlight></codeline>
<codeline lineno="3260"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">tm<sp/>*tm<sp/>=<sp/>&amp;tm_struct;</highlight></codeline>
<codeline lineno="3261"><highlight class="normal"><sp/><sp/><sp/><sp/>errno_t<sp/>err<sp/>=<sp/>localtime_s(tm,<sp/>&amp;time);</highlight></codeline>
<codeline lineno="3262"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(err)</highlight></codeline>
<codeline lineno="3263"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pDOS_date<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pDOS_time<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3267"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3268"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3269"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">tm<sp/>*tm<sp/>=<sp/>localtime(&amp;time);</highlight></codeline>
<codeline lineno="3270"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifdef<sp/>_MSC_VER<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3271"><highlight class="normal"></highlight></codeline>
<codeline lineno="3272"><highlight class="normal"><sp/><sp/><sp/><sp/>*pDOS_time<sp/>=<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)(((tm-&gt;tm_hour)<sp/>&lt;&lt;<sp/>11)<sp/>+<sp/>((tm-&gt;tm_min)<sp/>&lt;&lt;<sp/>5)<sp/>+<sp/>((tm-&gt;tm_sec)<sp/>&gt;&gt;<sp/>1));</highlight></codeline>
<codeline lineno="3273"><highlight class="normal"><sp/><sp/><sp/><sp/>*pDOS_date<sp/>=<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)(((tm-&gt;tm_year<sp/>+<sp/>1900<sp/>-<sp/>1980)<sp/>&lt;&lt;<sp/>9)<sp/>+<sp/>((tm-&gt;tm_mon<sp/>+<sp/>1)<sp/>&lt;&lt;<sp/>5)<sp/>+<sp/>tm-&gt;tm_mday);</highlight></codeline>
<codeline lineno="3274"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3275"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MINIZ_NO_ARCHIVE_WRITING_APIS<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3276"><highlight class="normal"></highlight></codeline>
<codeline lineno="3277"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_STDIO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3278"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_ARCHIVE_WRITING_APIS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3279"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a43fb717be3e3b6afcd27587df7669a07" kindref="member">mz_zip_get_file_modified_time</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename,<sp/><ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref><sp/>*pTime)</highlight></codeline>
<codeline lineno="3280"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="miniz_8c_1abbb4323f24a8e32a583c0b1b7e6820c9" kindref="member">MZ_FILE_STAT_STRUCT</ref><sp/>file_stat;</highlight></codeline>
<codeline lineno="3282"><highlight class="normal"></highlight></codeline>
<codeline lineno="3283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>On<sp/>Linux<sp/>with<sp/>x86<sp/>glibc,<sp/>this<sp/>call<sp/>will<sp/>fail<sp/>on<sp/>large<sp/>files<sp/>(I<sp/>think<sp/>&gt;=<sp/>0x80000000<sp/>bytes)<sp/>unless<sp/>you<sp/>compiled<sp/>with<sp/>_LARGEFILE64_SOURCE.<sp/>Argh.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3284"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8c_1a06857ce8d288f462c7a2c5ded5eeea7c" kindref="member">MZ_FILE_STAT</ref>(pFilename,<sp/>&amp;file_stat)<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="3285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3286"><highlight class="normal"></highlight></codeline>
<codeline lineno="3287"><highlight class="normal"><sp/><sp/><sp/><sp/>*pTime<sp/>=<sp/>file_stat.st_mtime;</highlight></codeline>
<codeline lineno="3288"><highlight class="normal"></highlight></codeline>
<codeline lineno="3289"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3290"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3291"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifndef<sp/>MINIZ_NO_ARCHIVE_WRITING_APIS*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3292"><highlight class="normal"></highlight></codeline>
<codeline lineno="3293"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a306c414bc38c7d4e1955328a61162afb" kindref="member">mz_zip_set_file_times</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename,<sp/><ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref><sp/>access_time,<sp/><ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref><sp/>modified_time)</highlight></codeline>
<codeline lineno="3294"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3295"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">utimbuf<sp/>t;</highlight></codeline>
<codeline lineno="3296"><highlight class="normal"></highlight></codeline>
<codeline lineno="3297"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;t,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(t));</highlight></codeline>
<codeline lineno="3298"><highlight class="normal"><sp/><sp/><sp/><sp/>t.actime<sp/>=<sp/>access_time;</highlight></codeline>
<codeline lineno="3299"><highlight class="normal"><sp/><sp/><sp/><sp/>t.modtime<sp/>=<sp/>modified_time;</highlight></codeline>
<codeline lineno="3300"><highlight class="normal"></highlight></codeline>
<codeline lineno="3301"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>!utime(pFilename,<sp/>&amp;t);</highlight></codeline>
<codeline lineno="3302"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3303"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifndef<sp/>MINIZ_NO_STDIO<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3304"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifndef<sp/>MINIZ_NO_TIME<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3305"><highlight class="normal"></highlight></codeline>
<codeline lineno="3306"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref><sp/>err_num)</highlight></codeline>
<codeline lineno="3307"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3308"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip)</highlight></codeline>
<codeline lineno="3309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref><sp/>=<sp/>err_num;</highlight></codeline>
<codeline lineno="3310"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3311"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3312"><highlight class="normal"></highlight></codeline>
<codeline lineno="3313"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a52d8a4b36d39d7cf0dd2afbba5ce9c7e" kindref="member">mz_zip_reader_init_internal</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="3314"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3315"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)flags;</highlight></codeline>
<codeline lineno="3316"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)<sp/>||<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>!=<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a713f3b45f38e966b751027436df64e50" kindref="member">MZ_ZIP_MODE_INVALID</ref>))</highlight></codeline>
<codeline lineno="3317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="3318"><highlight class="normal"></highlight></codeline>
<codeline lineno="3319"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>)</highlight></codeline>
<codeline lineno="3320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref><sp/>=<sp/><ref refid="miniz_8c_1a5b8c4d334248b00bb255a64a7628ab36" kindref="member">miniz_def_alloc_func</ref>;</highlight></codeline>
<codeline lineno="3321"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>)</highlight></codeline>
<codeline lineno="3322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref><sp/>=<sp/><ref refid="miniz_8c_1a74bd5c1f3f342d2109643cfa500689fc" kindref="member">miniz_def_free_func</ref>;</highlight></codeline>
<codeline lineno="3323"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1ac3cdd59e8bcc156954790af62fee92e8" kindref="member">m_pRealloc</ref>)</highlight></codeline>
<codeline lineno="3324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ac3cdd59e8bcc156954790af62fee92e8" kindref="member">m_pRealloc</ref><sp/>=<sp/><ref refid="miniz_8c_1ae51abb9ee6167023388e1d1122b10d89" kindref="member">miniz_def_realloc_func</ref>;</highlight></codeline>
<codeline lineno="3325"><highlight class="normal"></highlight></codeline>
<codeline lineno="3326"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3327"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a128125bc28f4d1f118fe7b9badd0f975" kindref="member">m_central_directory_file_ofs</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3328"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3329"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref><sp/>=<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da6d0cd76e20534ea0d5777ac0c3601db9" kindref="member">MZ_ZIP_NO_ERROR</ref>;</highlight></codeline>
<codeline lineno="3330"><highlight class="normal"></highlight></codeline>
<codeline lineno="3331"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref><sp/>=<sp/>(<ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref><sp/>*)pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>1,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref>))))</highlight></codeline>
<codeline lineno="3332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="3333"><highlight class="normal"></highlight></codeline>
<codeline lineno="3334"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref>));</highlight></codeline>
<codeline lineno="3335"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a26e8cbdf6ac000e1becf7faa1aa7a1fa" kindref="member">MZ_ZIP_ARRAY_SET_ELEMENT_SIZE</ref>(&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>));</highlight></codeline>
<codeline lineno="3336"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a26e8cbdf6ac000e1becf7faa1aa7a1fa" kindref="member">MZ_ZIP_ARRAY_SET_ELEMENT_SIZE</ref>(&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a51a9aa41f7499c7e6e4c2546aa965b9c" kindref="member">m_central_dir_offsets</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>));</highlight></codeline>
<codeline lineno="3337"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a26e8cbdf6ac000e1becf7faa1aa7a1fa" kindref="member">MZ_ZIP_ARRAY_SET_ELEMENT_SIZE</ref>(&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a1e3af54224b61cb20d6ceaeb5807bc33" kindref="member">m_sorted_central_dir_offsets</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>));</highlight></codeline>
<codeline lineno="3338"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1aa247669a24b55b9b9e86f732ea175bce" kindref="member">m_init_flags</ref><sp/>=<sp/>flags;</highlight></codeline>
<codeline lineno="3339"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref><sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3340"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a0071a211627637fc049defb3f61972fe" kindref="member">m_zip64_has_extended_info_fields</ref><sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3341"><highlight class="normal"></highlight></codeline>
<codeline lineno="3342"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>=<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a40c391220d01d172a451f3dad0d5aed6" kindref="member">MZ_ZIP_MODE_READING</ref>;</highlight></codeline>
<codeline lineno="3343"><highlight class="normal"></highlight></codeline>
<codeline lineno="3344"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3345"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3346"><highlight class="normal"></highlight></codeline>
<codeline lineno="3347"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a98ed4a51418dd67d4ec4c7a6f1d7483e" kindref="member">mz_zip_reader_filename_less</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pCentral_dir_array,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pCentral_dir_offsets,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>l_index,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>r_index)</highlight></codeline>
<codeline lineno="3348"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3349"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pL<sp/>=<sp/>&amp;<ref refid="miniz_8c_1ad6e55a2b6b4b7d99a13f79301e949143" kindref="member">MZ_ZIP_ARRAY_ELEMENT</ref>(pCentral_dir_array,<sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>,<sp/><ref refid="miniz_8c_1ad6e55a2b6b4b7d99a13f79301e949143" kindref="member">MZ_ZIP_ARRAY_ELEMENT</ref>(pCentral_dir_offsets,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>,<sp/>l_index)),<sp/>*pE;</highlight></codeline>
<codeline lineno="3350"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pR<sp/>=<sp/>&amp;<ref refid="miniz_8c_1ad6e55a2b6b4b7d99a13f79301e949143" kindref="member">MZ_ZIP_ARRAY_ELEMENT</ref>(pCentral_dir_array,<sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>,<sp/><ref refid="miniz_8c_1ad6e55a2b6b4b7d99a13f79301e949143" kindref="member">MZ_ZIP_ARRAY_ELEMENT</ref>(pCentral_dir_offsets,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>,<sp/>r_index));</highlight></codeline>
<codeline lineno="3351"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>l_len<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pL<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03f4415315a96a9691344f193cef8da2" kindref="member">MZ_ZIP_CDH_FILENAME_LEN_OFS</ref>),<sp/>r_len<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pR<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03f4415315a96a9691344f193cef8da2" kindref="member">MZ_ZIP_CDH_FILENAME_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="3352"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>l<sp/>=<sp/>0,<sp/>r<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3353"><highlight class="normal"><sp/><sp/><sp/><sp/>pL<sp/>+=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac89e96bb4580c93ac5cc27ca0623b964" kindref="member">MZ_ZIP_CENTRAL_DIR_HEADER_SIZE</ref>;</highlight></codeline>
<codeline lineno="3354"><highlight class="normal"><sp/><sp/><sp/><sp/>pR<sp/>+=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac89e96bb4580c93ac5cc27ca0623b964" kindref="member">MZ_ZIP_CENTRAL_DIR_HEADER_SIZE</ref>;</highlight></codeline>
<codeline lineno="3355"><highlight class="normal"><sp/><sp/><sp/><sp/>pE<sp/>=<sp/>pL<sp/>+<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(l_len,<sp/>r_len);</highlight></codeline>
<codeline lineno="3356"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(pL<sp/>&lt;<sp/>pE)</highlight></codeline>
<codeline lineno="3357"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((l<sp/>=<sp/><ref refid="miniz_8c_1a61d1f0e538f1b127ef8383e2d8c49f58" kindref="member">MZ_TOLOWER</ref>(*pL))<sp/>!=<sp/>(r<sp/>=<sp/><ref refid="miniz_8c_1a61d1f0e538f1b127ef8383e2d8c49f58" kindref="member">MZ_TOLOWER</ref>(*pR)))</highlight></codeline>
<codeline lineno="3359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pL++;</highlight></codeline>
<codeline lineno="3361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pR++;</highlight></codeline>
<codeline lineno="3362"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3363"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(pL<sp/>==<sp/>pE)<sp/>?<sp/>(l_len<sp/>&lt;<sp/>r_len)<sp/>:<sp/>(l<sp/>&lt;<sp/>r);</highlight></codeline>
<codeline lineno="3364"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3365"><highlight class="normal"></highlight></codeline>
<codeline lineno="3366"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_SWAP_UINT32(a,<sp/>b)<sp/>\</highlight></codeline>
<codeline lineno="3367"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>do<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="3368"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="3369"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mz_uint32<sp/>t<sp/>=<sp/>a;<sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="3370"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a<sp/>=<sp/>b;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="3371"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>b<sp/>=<sp/>t;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="3372"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="3373"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>MZ_MACRO_END</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3374"><highlight class="normal"></highlight></codeline>
<codeline lineno="3375"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Heap<sp/>sort<sp/>of<sp/>lowercased<sp/>filenames,<sp/>used<sp/>to<sp/>help<sp/>accelerate<sp/>plain<sp/>central<sp/>directory<sp/>searches<sp/>by<sp/>mz_zip_reader_locate_file().<sp/>(Could<sp/>also<sp/>use<sp/>qsort(),<sp/>but<sp/>it<sp/>could<sp/>allocate<sp/>memory.)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3376"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a240514a6b8d7e6f71ca91b166f37d961" kindref="member">mz_zip_reader_sort_central_dir_offsets_by_filename</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="3377"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3378"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref><sp/>*pState<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>;</highlight></codeline>
<codeline lineno="3379"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pCentral_dir_offsets<sp/>=<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a51a9aa41f7499c7e6e4c2546aa965b9c" kindref="member">m_central_dir_offsets</ref>;</highlight></codeline>
<codeline lineno="3380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pCentral_dir<sp/>=<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>;</highlight></codeline>
<codeline lineno="3381"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>*pIndices;</highlight></codeline>
<codeline lineno="3382"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>start,<sp/>end;</highlight></codeline>
<codeline lineno="3383"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>size<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>;</highlight></codeline>
<codeline lineno="3384"><highlight class="normal"></highlight></codeline>
<codeline lineno="3385"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(size<sp/>&lt;=<sp/>1U)</highlight></codeline>
<codeline lineno="3386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3387"><highlight class="normal"></highlight></codeline>
<codeline lineno="3388"><highlight class="normal"><sp/><sp/><sp/><sp/>pIndices<sp/>=<sp/>&amp;<ref refid="miniz_8c_1ad6e55a2b6b4b7d99a13f79301e949143" kindref="member">MZ_ZIP_ARRAY_ELEMENT</ref>(&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a1e3af54224b61cb20d6ceaeb5807bc33" kindref="member">m_sorted_central_dir_offsets</ref>,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="3389"><highlight class="normal"></highlight></codeline>
<codeline lineno="3390"><highlight class="normal"><sp/><sp/><sp/><sp/>start<sp/>=<sp/>(size<sp/>-<sp/>2U)<sp/>&gt;&gt;<sp/>1U;</highlight></codeline>
<codeline lineno="3391"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="3392"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>child,<sp/>root<sp/>=<sp/>start;</highlight></codeline>
<codeline lineno="3394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="3395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((child<sp/>=<sp/>(root<sp/>&lt;&lt;<sp/>1U)<sp/>+<sp/>1U)<sp/>&gt;=<sp/>size)</highlight></codeline>
<codeline lineno="3397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>child<sp/>+=<sp/>(((child<sp/>+<sp/>1U)<sp/>&lt;<sp/>size)<sp/>&amp;&amp;<sp/>(<ref refid="miniz_8c_1a98ed4a51418dd67d4ec4c7a6f1d7483e" kindref="member">mz_zip_reader_filename_less</ref>(pCentral_dir,<sp/>pCentral_dir_offsets,<sp/>pIndices[child],<sp/>pIndices[child<sp/>+<sp/>1U])));</highlight></codeline>
<codeline lineno="3399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a98ed4a51418dd67d4ec4c7a6f1d7483e" kindref="member">mz_zip_reader_filename_less</ref>(pCentral_dir,<sp/>pCentral_dir_offsets,<sp/>pIndices[root],<sp/>pIndices[child]))</highlight></codeline>
<codeline lineno="3400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ac5054e9be72034055946137811cbb0a1" kindref="member">MZ_SWAP_UINT32</ref>(pIndices[root],<sp/>pIndices[child]);</highlight></codeline>
<codeline lineno="3402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>root<sp/>=<sp/>child;</highlight></codeline>
<codeline lineno="3403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!start)</highlight></codeline>
<codeline lineno="3405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start--;</highlight></codeline>
<codeline lineno="3407"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3408"><highlight class="normal"></highlight></codeline>
<codeline lineno="3409"><highlight class="normal"><sp/><sp/><sp/><sp/>end<sp/>=<sp/>size<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="3410"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(end<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="3411"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>child,<sp/>root<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ac5054e9be72034055946137811cbb0a1" kindref="member">MZ_SWAP_UINT32</ref>(pIndices[end],<sp/>pIndices[0]);</highlight></codeline>
<codeline lineno="3414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="3415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((child<sp/>=<sp/>(root<sp/>&lt;&lt;<sp/>1U)<sp/>+<sp/>1U)<sp/>&gt;=<sp/>end)</highlight></codeline>
<codeline lineno="3417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>child<sp/>+=<sp/>(((child<sp/>+<sp/>1U)<sp/>&lt;<sp/>end)<sp/>&amp;&amp;<sp/><ref refid="miniz_8c_1a98ed4a51418dd67d4ec4c7a6f1d7483e" kindref="member">mz_zip_reader_filename_less</ref>(pCentral_dir,<sp/>pCentral_dir_offsets,<sp/>pIndices[child],<sp/>pIndices[child<sp/>+<sp/>1U]));</highlight></codeline>
<codeline lineno="3419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a98ed4a51418dd67d4ec4c7a6f1d7483e" kindref="member">mz_zip_reader_filename_less</ref>(pCentral_dir,<sp/>pCentral_dir_offsets,<sp/>pIndices[root],<sp/>pIndices[child]))</highlight></codeline>
<codeline lineno="3420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ac5054e9be72034055946137811cbb0a1" kindref="member">MZ_SWAP_UINT32</ref>(pIndices[root],<sp/>pIndices[child]);</highlight></codeline>
<codeline lineno="3422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>root<sp/>=<sp/>child;</highlight></codeline>
<codeline lineno="3423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>end--;</highlight></codeline>
<codeline lineno="3425"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3426"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3427"><highlight class="normal"></highlight></codeline>
<codeline lineno="3428"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a35703b413385ecd807012bca70a3a221" kindref="member">mz_zip_reader_locate_header_sig</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>record_sig,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>record_size,<sp/><ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref><sp/>*pOfs)</highlight></codeline>
<codeline lineno="3429"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3430"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref><sp/>cur_file_ofs;</highlight></codeline>
<codeline lineno="3431"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>buf_u32[4096<sp/>/<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)];</highlight></codeline>
<codeline lineno="3432"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pBuf<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)buf_u32;</highlight></codeline>
<codeline lineno="3433"><highlight class="normal"></highlight></codeline>
<codeline lineno="3434"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Basic<sp/>sanity<sp/>checks<sp/>-<sp/>reject<sp/>files<sp/>which<sp/>are<sp/>too<sp/>small<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3435"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>&lt;<sp/>record_size)</highlight></codeline>
<codeline lineno="3436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3437"><highlight class="normal"></highlight></codeline>
<codeline lineno="3438"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Find<sp/>the<sp/>record<sp/>by<sp/>scanning<sp/>the<sp/>file<sp/>from<sp/>the<sp/>end<sp/>towards<sp/>the<sp/>beginning.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3439"><highlight class="normal"><sp/><sp/><sp/><sp/>cur_file_ofs<sp/>=<sp/><ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>((<ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref>)pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>-<sp/>(<ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref>)</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(buf_u32),<sp/>0);</highlight></codeline>
<codeline lineno="3440"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="3441"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i,<sp/>n<sp/>=<sp/>(int)<ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(buf_u32),<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>-<sp/>cur_file_ofs);</highlight></codeline>
<codeline lineno="3443"><highlight class="normal"></highlight></codeline>
<codeline lineno="3444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_file_ofs,<sp/>pBuf,<sp/>n)<sp/>!=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)n)</highlight></codeline>
<codeline lineno="3445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3446"><highlight class="normal"></highlight></codeline>
<codeline lineno="3447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>n<sp/>-<sp/>4;<sp/>i<sp/>&gt;=<sp/>0;<sp/>--i)</highlight></codeline>
<codeline lineno="3448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>s<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pBuf<sp/>+<sp/>i);</highlight></codeline>
<codeline lineno="3450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(s<sp/>==<sp/>record_sig)</highlight></codeline>
<codeline lineno="3451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>-<sp/>(cur_file_ofs<sp/>+<sp/>i))<sp/>&gt;=<sp/>record_size)</highlight></codeline>
<codeline lineno="3453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3456"><highlight class="normal"></highlight></codeline>
<codeline lineno="3457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(i<sp/>&gt;=<sp/>0)</highlight></codeline>
<codeline lineno="3458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_file_ofs<sp/>+=<sp/>i;</highlight></codeline>
<codeline lineno="3460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3462"><highlight class="normal"></highlight></codeline>
<codeline lineno="3463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Give<sp/>up<sp/>if<sp/>we&apos;ve<sp/>searched<sp/>the<sp/>entire<sp/>file,<sp/>or<sp/>we&apos;ve<sp/>gone<sp/>back<sp/>&quot;too<sp/>far&quot;<sp/>(~64kb)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!cur_file_ofs)<sp/>||<sp/>((pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>-<sp/>cur_file_ofs)<sp/>&gt;=<sp/>(<ref refid="miniz_8h_1a512356d187ddd5c72e3123703d60b6cf" kindref="member">MZ_UINT16_MAX</ref><sp/>+<sp/>record_size)))</highlight></codeline>
<codeline lineno="3465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3466"><highlight class="normal"></highlight></codeline>
<codeline lineno="3467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_file_ofs<sp/>=<sp/><ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>(cur_file_ofs<sp/>-<sp/>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(buf_u32)<sp/>-<sp/>3),<sp/>0);</highlight></codeline>
<codeline lineno="3468"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3469"><highlight class="normal"></highlight></codeline>
<codeline lineno="3470"><highlight class="normal"><sp/><sp/><sp/><sp/>*pOfs<sp/>=<sp/>cur_file_ofs;</highlight></codeline>
<codeline lineno="3471"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3472"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3473"><highlight class="normal"></highlight></codeline>
<codeline lineno="3474"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a7ac2826eb7d5b0df83a06d43a4489f4f" kindref="member">mz_zip_reader_read_central_dir</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="3475"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3476"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>cdir_size<sp/>=<sp/>0,<sp/>cdir_entries_on_this_disk<sp/>=<sp/>0,<sp/>num_this_disk<sp/>=<sp/>0,<sp/>cdir_disk_index<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3477"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>cdir_ofs<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3478"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref><sp/>cur_file_ofs<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3479"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*p;</highlight></codeline>
<codeline lineno="3480"><highlight class="normal"></highlight></codeline>
<codeline lineno="3481"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>buf_u32[4096<sp/>/<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)];</highlight></codeline>
<codeline lineno="3482"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pBuf<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)buf_u32;</highlight></codeline>
<codeline lineno="3483"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>sort_central_dir<sp/>=<sp/>((flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a0b7f6f797da7a3d078535ba71ca00858ab09115999c35684b92cd771f65909e39" kindref="member">MZ_ZIP_FLAG_DO_NOT_SORT_CENTRAL_DIRECTORY</ref>)<sp/>==<sp/>0);</highlight></codeline>
<codeline lineno="3484"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>zip64_end_of_central_dir_locator_u32[(<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4a1c181272cf9a1959d655c252a4419b" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIZE</ref><sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>-<sp/>1)<sp/>/<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)];</highlight></codeline>
<codeline lineno="3485"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pZip64_locator<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)zip64_end_of_central_dir_locator_u32;</highlight></codeline>
<codeline lineno="3486"><highlight class="normal"></highlight></codeline>
<codeline lineno="3487"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>zip64_end_of_central_dir_header_u32[(<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7acc90947176ac515bdaa8c71daf7aaaa3" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_HEADER_SIZE</ref><sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>-<sp/>1)<sp/>/<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)];</highlight></codeline>
<codeline lineno="3488"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pZip64_end_of_central_dir<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)zip64_end_of_central_dir_header_u32;</highlight></codeline>
<codeline lineno="3489"><highlight class="normal"></highlight></codeline>
<codeline lineno="3490"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>zip64_end_of_central_dir_ofs<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3491"><highlight class="normal"></highlight></codeline>
<codeline lineno="3492"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Basic<sp/>sanity<sp/>checks<sp/>-<sp/>reject<sp/>files<sp/>which<sp/>are<sp/>too<sp/>small,<sp/>and<sp/>check<sp/>the<sp/>first<sp/>4<sp/>bytes<sp/>of<sp/>the<sp/>file<sp/>to<sp/>make<sp/>sure<sp/>a<sp/>local<sp/>header<sp/>is<sp/>there.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3493"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>&lt;<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abec7783de4399c774ee325a0e4226ed9" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>)</highlight></codeline>
<codeline lineno="3494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daeab66c528acdb43f7946e6411f515083" kindref="member">MZ_ZIP_NOT_AN_ARCHIVE</ref>);</highlight></codeline>
<codeline lineno="3495"><highlight class="normal"></highlight></codeline>
<codeline lineno="3496"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a35703b413385ecd807012bca70a3a221" kindref="member">mz_zip_reader_locate_header_sig</ref>(pZip,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a95b16d7168bf48558fd3c8b852cb8a3d" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIG</ref>,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abec7783de4399c774ee325a0e4226ed9" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>,<sp/>&amp;cur_file_ofs))</highlight></codeline>
<codeline lineno="3497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dadce5afd210f3689e58e71ed2acc02d6c" kindref="member">MZ_ZIP_FAILED_FINDING_CENTRAL_DIR</ref>);</highlight></codeline>
<codeline lineno="3498"><highlight class="normal"></highlight></codeline>
<codeline lineno="3499"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>and<sp/>verify<sp/>the<sp/>end<sp/>of<sp/>central<sp/>directory<sp/>record.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3500"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_file_ofs,<sp/>pBuf,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abec7783de4399c774ee325a0e4226ed9" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>)<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abec7783de4399c774ee325a0e4226ed9" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>)</highlight></codeline>
<codeline lineno="3501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="3502"><highlight class="normal"></highlight></codeline>
<codeline lineno="3503"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pBuf<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a7b4454ba69b4a1c3bfe0cd316932a3cf" kindref="member">MZ_ZIP_ECDH_SIG_OFS</ref>)<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a95b16d7168bf48558fd3c8b852cb8a3d" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIG</ref>)</highlight></codeline>
<codeline lineno="3504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daeab66c528acdb43f7946e6411f515083" kindref="member">MZ_ZIP_NOT_AN_ARCHIVE</ref>);</highlight></codeline>
<codeline lineno="3505"><highlight class="normal"></highlight></codeline>
<codeline lineno="3506"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cur_file_ofs<sp/>&gt;=<sp/>(<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4a1c181272cf9a1959d655c252a4419b" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIZE</ref><sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7acc90947176ac515bdaa8c71daf7aaaa3" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>))</highlight></codeline>
<codeline lineno="3507"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_file_ofs<sp/>-<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4a1c181272cf9a1959d655c252a4419b" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIZE</ref>,<sp/>pZip64_locator,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4a1c181272cf9a1959d655c252a4419b" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIZE</ref>)<sp/>==<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4a1c181272cf9a1959d655c252a4419b" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIZE</ref>)</highlight></codeline>
<codeline lineno="3509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pZip64_locator<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a493c8c19fe896d665222f70c623f9fc6" kindref="member">MZ_ZIP64_ECDL_SIG_OFS</ref>)<sp/>==<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aacfa47118d9e7c741c8b27a1e4f27958" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIG</ref>)</highlight></codeline>
<codeline lineno="3511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>zip64_end_of_central_dir_ofs<sp/>=<sp/><ref refid="miniz_8h_1ae29c34529021741ba9d9032248a7a625" kindref="member">MZ_READ_LE64</ref>(pZip64_locator<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5e3af797b3f1a81865958774b1c62735" kindref="member">MZ_ZIP64_ECDL_REL_OFS_TO_ZIP64_ECDR_OFS</ref>);</highlight></codeline>
<codeline lineno="3513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(zip64_end_of_central_dir_ofs<sp/>&gt;<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>-<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7acc90947176ac515bdaa8c71daf7aaaa3" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>))</highlight></codeline>
<codeline lineno="3514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daeab66c528acdb43f7946e6411f515083" kindref="member">MZ_ZIP_NOT_AN_ARCHIVE</ref>);</highlight></codeline>
<codeline lineno="3515"><highlight class="normal"></highlight></codeline>
<codeline lineno="3516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>zip64_end_of_central_dir_ofs,<sp/>pZip64_end_of_central_dir,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7acc90947176ac515bdaa8c71daf7aaaa3" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>)<sp/>==<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7acc90947176ac515bdaa8c71daf7aaaa3" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>)</highlight></codeline>
<codeline lineno="3517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pZip64_end_of_central_dir<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0ecfe9df02264886b36ace284d1fcfd4" kindref="member">MZ_ZIP64_ECDH_SIG_OFS</ref>)<sp/>==<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a1737873733b435bcafe42f36d33e95e6" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_HEADER_SIG</ref>)</highlight></codeline>
<codeline lineno="3519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref><sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3525"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3526"><highlight class="normal"></highlight></codeline>
<codeline lineno="3527"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pBuf<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a76cd05886b8034f320cb457c03e6641a" kindref="member">MZ_ZIP_ECDH_CDIR_TOTAL_ENTRIES_OFS</ref>);</highlight></codeline>
<codeline lineno="3528"><highlight class="normal"><sp/><sp/><sp/><sp/>cdir_entries_on_this_disk<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pBuf<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a3415fd67ec4b72e9b7e6856ed920d100" kindref="member">MZ_ZIP_ECDH_CDIR_NUM_ENTRIES_ON_DISK_OFS</ref>);</highlight></codeline>
<codeline lineno="3529"><highlight class="normal"><sp/><sp/><sp/><sp/>num_this_disk<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pBuf<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ae0c658558608a1501292d493a3049178" kindref="member">MZ_ZIP_ECDH_NUM_THIS_DISK_OFS</ref>);</highlight></codeline>
<codeline lineno="3530"><highlight class="normal"><sp/><sp/><sp/><sp/>cdir_disk_index<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pBuf<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0edb58391c7fa73d90c8deac8bc8b85e" kindref="member">MZ_ZIP_ECDH_NUM_DISK_CDIR_OFS</ref>);</highlight></codeline>
<codeline lineno="3531"><highlight class="normal"><sp/><sp/><sp/><sp/>cdir_size<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pBuf<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a45f0ad9bb0f828942c6e54015f44af4e" kindref="member">MZ_ZIP_ECDH_CDIR_SIZE_OFS</ref>);</highlight></codeline>
<codeline lineno="3532"><highlight class="normal"><sp/><sp/><sp/><sp/>cdir_ofs<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pBuf<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa862cb29a1bcd653affce1a58e82f494" kindref="member">MZ_ZIP_ECDH_CDIR_OFS_OFS</ref>);</highlight></codeline>
<codeline lineno="3533"><highlight class="normal"></highlight></codeline>
<codeline lineno="3534"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="3535"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>zip64_total_num_of_disks<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pZip64_locator<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a8be22e7047a06fc2815c55c84b82b222" kindref="member">MZ_ZIP64_ECDL_TOTAL_NUMBER_OF_DISKS_OFS</ref>);</highlight></codeline>
<codeline lineno="3537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>zip64_cdir_total_entries<sp/>=<sp/><ref refid="miniz_8h_1ae29c34529021741ba9d9032248a7a625" kindref="member">MZ_READ_LE64</ref>(pZip64_end_of_central_dir<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa3bd2e64f9cea2ef41a46201685ebb0f" kindref="member">MZ_ZIP64_ECDH_CDIR_TOTAL_ENTRIES_OFS</ref>);</highlight></codeline>
<codeline lineno="3538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>zip64_cdir_total_entries_on_this_disk<sp/>=<sp/><ref refid="miniz_8h_1ae29c34529021741ba9d9032248a7a625" kindref="member">MZ_READ_LE64</ref>(pZip64_end_of_central_dir<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a63640ed20841b4aad31e5f27bc11f5c4" kindref="member">MZ_ZIP64_ECDH_CDIR_NUM_ENTRIES_ON_DISK_OFS</ref>);</highlight></codeline>
<codeline lineno="3539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>zip64_size_of_end_of_central_dir_record<sp/>=<sp/><ref refid="miniz_8h_1ae29c34529021741ba9d9032248a7a625" kindref="member">MZ_READ_LE64</ref>(pZip64_end_of_central_dir<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7af93888e0a9fe5b48b11c983d8626278d" kindref="member">MZ_ZIP64_ECDH_SIZE_OF_RECORD_OFS</ref>);</highlight></codeline>
<codeline lineno="3540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>zip64_size_of_central_directory<sp/>=<sp/><ref refid="miniz_8h_1ae29c34529021741ba9d9032248a7a625" kindref="member">MZ_READ_LE64</ref>(pZip64_end_of_central_dir<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a8bd9fc50f35f48bf3ce4456b4d57bac3" kindref="member">MZ_ZIP64_ECDH_CDIR_SIZE_OFS</ref>);</highlight></codeline>
<codeline lineno="3541"><highlight class="normal"></highlight></codeline>
<codeline lineno="3542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(zip64_size_of_end_of_central_dir_record<sp/>&lt;<sp/>(<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7acc90947176ac515bdaa8c71daf7aaaa3" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_HEADER_SIZE</ref><sp/>-<sp/>12))</highlight></codeline>
<codeline lineno="3543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="3544"><highlight class="normal"></highlight></codeline>
<codeline lineno="3545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(zip64_total_num_of_disks<sp/>!=<sp/>1U)</highlight></codeline>
<codeline lineno="3546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da8c4bcce26300af775c179d6b0a35aff7" kindref="member">MZ_ZIP_UNSUPPORTED_MULTIDISK</ref>);</highlight></codeline>
<codeline lineno="3547"><highlight class="normal"></highlight></codeline>
<codeline lineno="3548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>for<sp/>miniz&apos;s<sp/>practical<sp/>limits<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(zip64_cdir_total_entries<sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="3550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da72b70e986fc0d33212f6a898e3e6ee94" kindref="member">MZ_ZIP_TOO_MANY_FILES</ref>);</highlight></codeline>
<codeline lineno="3551"><highlight class="normal"></highlight></codeline>
<codeline lineno="3552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)zip64_cdir_total_entries;</highlight></codeline>
<codeline lineno="3553"><highlight class="normal"></highlight></codeline>
<codeline lineno="3554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(zip64_cdir_total_entries_on_this_disk<sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="3555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da72b70e986fc0d33212f6a898e3e6ee94" kindref="member">MZ_ZIP_TOO_MANY_FILES</ref>);</highlight></codeline>
<codeline lineno="3556"><highlight class="normal"></highlight></codeline>
<codeline lineno="3557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cdir_entries_on_this_disk<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)zip64_cdir_total_entries_on_this_disk;</highlight></codeline>
<codeline lineno="3558"><highlight class="normal"></highlight></codeline>
<codeline lineno="3559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>for<sp/>miniz&apos;s<sp/>current<sp/>practical<sp/>limits<sp/>(sorry,<sp/>this<sp/>should<sp/>be<sp/>enough<sp/>for<sp/>millions<sp/>of<sp/>files)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(zip64_size_of_central_directory<sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="3561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dace5ba2a072f9f615873588e7ebc56ab3" kindref="member">MZ_ZIP_UNSUPPORTED_CDIR_SIZE</ref>);</highlight></codeline>
<codeline lineno="3562"><highlight class="normal"></highlight></codeline>
<codeline lineno="3563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cdir_size<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)zip64_size_of_central_directory;</highlight></codeline>
<codeline lineno="3564"><highlight class="normal"></highlight></codeline>
<codeline lineno="3565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_this_disk<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pZip64_end_of_central_dir<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ab99ad7abe356356da9f80a7c141f9027" kindref="member">MZ_ZIP64_ECDH_NUM_THIS_DISK_OFS</ref>);</highlight></codeline>
<codeline lineno="3566"><highlight class="normal"></highlight></codeline>
<codeline lineno="3567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cdir_disk_index<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pZip64_end_of_central_dir<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2790f9123d0398f4498f75784069c3c9" kindref="member">MZ_ZIP64_ECDH_NUM_DISK_CDIR_OFS</ref>);</highlight></codeline>
<codeline lineno="3568"><highlight class="normal"></highlight></codeline>
<codeline lineno="3569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cdir_ofs<sp/>=<sp/><ref refid="miniz_8h_1ae29c34529021741ba9d9032248a7a625" kindref="member">MZ_READ_LE64</ref>(pZip64_end_of_central_dir<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac3072ff7e0d451b2d918e4be650c998c" kindref="member">MZ_ZIP64_ECDH_CDIR_OFS_OFS</ref>);</highlight></codeline>
<codeline lineno="3570"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3571"><highlight class="normal"></highlight></codeline>
<codeline lineno="3572"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>!=<sp/>cdir_entries_on_this_disk)</highlight></codeline>
<codeline lineno="3573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da8c4bcce26300af775c179d6b0a35aff7" kindref="member">MZ_ZIP_UNSUPPORTED_MULTIDISK</ref>);</highlight></codeline>
<codeline lineno="3574"><highlight class="normal"></highlight></codeline>
<codeline lineno="3575"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((num_this_disk<sp/>|<sp/>cdir_disk_index)<sp/>!=<sp/>0)<sp/>&amp;&amp;<sp/>((num_this_disk<sp/>!=<sp/>1)<sp/>||<sp/>(cdir_disk_index<sp/>!=<sp/>1)))</highlight></codeline>
<codeline lineno="3576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da8c4bcce26300af775c179d6b0a35aff7" kindref="member">MZ_ZIP_UNSUPPORTED_MULTIDISK</ref>);</highlight></codeline>
<codeline lineno="3577"><highlight class="normal"></highlight></codeline>
<codeline lineno="3578"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cdir_size<sp/>&lt;<sp/>pZip-&gt;m_total_files<sp/>*<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac89e96bb4580c93ac5cc27ca0623b964" kindref="member">MZ_ZIP_CENTRAL_DIR_HEADER_SIZE</ref>)</highlight></codeline>
<codeline lineno="3579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="3580"><highlight class="normal"></highlight></codeline>
<codeline lineno="3581"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((cdir_ofs<sp/>+<sp/>(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)cdir_size)<sp/>&gt;<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref>)</highlight></codeline>
<codeline lineno="3582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="3583"><highlight class="normal"></highlight></codeline>
<codeline lineno="3584"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a128125bc28f4d1f118fe7b9badd0f975" kindref="member">m_central_directory_file_ofs</ref><sp/>=<sp/>cdir_ofs;</highlight></codeline>
<codeline lineno="3585"><highlight class="normal"></highlight></codeline>
<codeline lineno="3586"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>)</highlight></codeline>
<codeline lineno="3587"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>i,<sp/>n;</highlight></codeline>
<codeline lineno="3589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>the<sp/>entire<sp/>central<sp/>directory<sp/>into<sp/>a<sp/>heap<sp/>block,<sp/>and<sp/>allocate<sp/>another<sp/>heap<sp/>block<sp/>to<sp/>hold<sp/>the<sp/>unsorted<sp/>central<sp/>dir<sp/>file<sp/>record<sp/>offsets,<sp/>and<sp/>possibly<sp/>another<sp/>to<sp/>hold<sp/>the<sp/>sorted<sp/>indices.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!<ref refid="miniz_8c_1aef74dba7366dcc1de36eca8682480ddb" kindref="member">mz_zip_array_resize</ref>(pZip,<sp/>&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>cdir_size,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>))<sp/>||</highlight></codeline>
<codeline lineno="3591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(!<ref refid="miniz_8c_1aef74dba7366dcc1de36eca8682480ddb" kindref="member">mz_zip_array_resize</ref>(pZip,<sp/>&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a51a9aa41f7499c7e6e4c2546aa965b9c" kindref="member">m_central_dir_offsets</ref>,<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>)))</highlight></codeline>
<codeline lineno="3592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="3593"><highlight class="normal"></highlight></codeline>
<codeline lineno="3594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sort_central_dir)</highlight></codeline>
<codeline lineno="3595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1aef74dba7366dcc1de36eca8682480ddb" kindref="member">mz_zip_array_resize</ref>(pZip,<sp/>&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a1e3af54224b61cb20d6ceaeb5807bc33" kindref="member">m_sorted_central_dir_offsets</ref>,<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>))</highlight></codeline>
<codeline lineno="3597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="3598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3599"><highlight class="normal"></highlight></codeline>
<codeline lineno="3600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cdir_ofs,<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a8054ffa9a3da062a1d7528b124a8b651" kindref="member">m_p</ref>,<sp/>cdir_size)<sp/>!=<sp/>cdir_size)</highlight></codeline>
<codeline lineno="3601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="3602"><highlight class="normal"></highlight></codeline>
<codeline lineno="3603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Now<sp/>create<sp/>an<sp/>index<sp/>into<sp/>the<sp/>central<sp/>directory<sp/>file<sp/>records,<sp/>do<sp/>some<sp/>basic<sp/>sanity<sp/>checking<sp/>on<sp/>each<sp/>record<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a8054ffa9a3da062a1d7528b124a8b651" kindref="member">m_p</ref>;</highlight></codeline>
<codeline lineno="3605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>(n<sp/>=<sp/>cdir_size,<sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>;<sp/>++i)</highlight></codeline>
<codeline lineno="3606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>total_header_size,<sp/>disk_index,<sp/>bit_flags,<sp/>filename_size,<sp/>ext_data_size;</highlight></codeline>
<codeline lineno="3608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>comp_size,<sp/>decomp_size,<sp/>local_header_ofs;</highlight></codeline>
<codeline lineno="3609"><highlight class="normal"></highlight></codeline>
<codeline lineno="3610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((n<sp/>&lt;<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE)<sp/>||<sp/>(<ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(p)<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a77d0b453bce2a419b6144bf87e71b170" kindref="member">MZ_ZIP_CENTRAL_DIR_HEADER_SIG</ref>))</highlight></codeline>
<codeline lineno="3611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="3612"><highlight class="normal"></highlight></codeline>
<codeline lineno="3613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ad6e55a2b6b4b7d99a13f79301e949143" kindref="member">MZ_ZIP_ARRAY_ELEMENT</ref>(&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a51a9aa41f7499c7e6e4c2546aa965b9c" kindref="member">m_central_dir_offsets</ref>,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>,<sp/>i)<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)(p<sp/>-<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a8054ffa9a3da062a1d7528b124a8b651" kindref="member">m_p</ref>);</highlight></codeline>
<codeline lineno="3614"><highlight class="normal"></highlight></codeline>
<codeline lineno="3615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sort_central_dir)</highlight></codeline>
<codeline lineno="3616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ad6e55a2b6b4b7d99a13f79301e949143" kindref="member">MZ_ZIP_ARRAY_ELEMENT</ref>(&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a1e3af54224b61cb20d6ceaeb5807bc33" kindref="member">m_sorted_central_dir_offsets</ref>,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>,<sp/>i)<sp/>=<sp/>i;</highlight></codeline>
<codeline lineno="3617"><highlight class="normal"></highlight></codeline>
<codeline lineno="3618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_size<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2a463b99b8d0699bda4e3a52dd1d1015" kindref="member">MZ_ZIP_CDH_COMPRESSED_SIZE_OFS</ref>);</highlight></codeline>
<codeline lineno="3619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>decomp_size<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a43afeb736295b1f90330d79db8420c9e" kindref="member">MZ_ZIP_CDH_DECOMPRESSED_SIZE_OFS</ref>);</highlight></codeline>
<codeline lineno="3620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>local_header_ofs<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a15dc7648592d367c3edaac476c3aac87" kindref="member">MZ_ZIP_CDH_LOCAL_HEADER_OFS</ref>);</highlight></codeline>
<codeline lineno="3621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filename_size<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03f4415315a96a9691344f193cef8da2" kindref="member">MZ_ZIP_CDH_FILENAME_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="3622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext_data_size<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5a7ea82498b1ffd464965872fe507d8b" kindref="member">MZ_ZIP_CDH_EXTRA_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="3623"><highlight class="normal"></highlight></codeline>
<codeline lineno="3624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a0071a211627637fc049defb3f61972fe" kindref="member">m_zip64_has_extended_info_fields</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="3625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ext_data_size)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="3626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>(<ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>(comp_size,<sp/>decomp_size),<sp/>local_header_ofs)<sp/>==<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>))</highlight></codeline>
<codeline lineno="3627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Attempt<sp/>to<sp/>find<sp/>zip64<sp/>extended<sp/>information<sp/>field<sp/>in<sp/>the<sp/>entry&apos;s<sp/>extra<sp/>data<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>extra_size_remaining<sp/>=<sp/>ext_data_size;</highlight></codeline>
<codeline lineno="3630"><highlight class="normal"></highlight></codeline>
<codeline lineno="3631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(extra_size_remaining)</highlight></codeline>
<codeline lineno="3632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pExtra_data<sp/>=<sp/>p<sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE<sp/>+<sp/>filename_size;</highlight></codeline>
<codeline lineno="3634"><highlight class="normal"></highlight></codeline>
<codeline lineno="3635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>field_id;</highlight></codeline>
<codeline lineno="3638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>field_data_size;</highlight></codeline>
<codeline lineno="3639"><highlight class="normal"></highlight></codeline>
<codeline lineno="3640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(extra_size_remaining<sp/>&lt;<sp/>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2))</highlight></codeline>
<codeline lineno="3641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="3642"><highlight class="normal"></highlight></codeline>
<codeline lineno="3643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_id<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pExtra_data);</highlight></codeline>
<codeline lineno="3644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_data_size<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pExtra_data<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>));</highlight></codeline>
<codeline lineno="3645"><highlight class="normal"></highlight></codeline>
<codeline lineno="3646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((field_data_size<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2)<sp/>&gt;<sp/>extra_size_remaining)</highlight></codeline>
<codeline lineno="3647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="3648"><highlight class="normal"></highlight></codeline>
<codeline lineno="3649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(field_id<sp/>==<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a76fd85fc5176e2615ec50dc9e9a850dc" kindref="member">MZ_ZIP64_EXTENDED_INFORMATION_FIELD_HEADER_ID</ref>)</highlight></codeline>
<codeline lineno="3650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ok,<sp/>the<sp/>archive<sp/>didn&apos;t<sp/>have<sp/>any<sp/>zip64<sp/>headers<sp/>but<sp/>it<sp/>uses<sp/>a<sp/>zip64<sp/>extended<sp/>information<sp/>field<sp/>so<sp/>mark<sp/>it<sp/>as<sp/>zip64<sp/>anyway<sp/>(this<sp/>can<sp/>occur<sp/>with<sp/>infozip&apos;s<sp/>zip<sp/>util<sp/>when<sp/>it<sp/>reads<sp/>compresses<sp/>files<sp/>from<sp/>stdin).<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref><sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a0071a211627637fc049defb3f61972fe" kindref="member">m_zip64_has_extended_info_fields</ref><sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3656"><highlight class="normal"></highlight></codeline>
<codeline lineno="3657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pExtra_data<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2<sp/>+<sp/>field_data_size;</highlight></codeline>
<codeline lineno="3658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_size_remaining<sp/>=<sp/>extra_size_remaining<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2<sp/>-<sp/>field_data_size;</highlight></codeline>
<codeline lineno="3659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(extra_size_remaining);</highlight></codeline>
<codeline lineno="3660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3662"><highlight class="normal"></highlight></codeline>
<codeline lineno="3663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>I&apos;ve<sp/>seen<sp/>archives<sp/>that<sp/>aren&apos;t<sp/>marked<sp/>as<sp/>zip64<sp/>that<sp/>uses<sp/>zip64<sp/>ext<sp/>data,<sp/>argh<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((comp_size<sp/>!=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>&amp;&amp;<sp/>(decomp_size<sp/>!=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>))</highlight></codeline>
<codeline lineno="3665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((!<ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a49864f9b56c094003565ed64b2b4aed1" kindref="member">MZ_ZIP_CDH_METHOD_OFS</ref>))<sp/>&amp;&amp;<sp/>(decomp_size<sp/>!=<sp/>comp_size))<sp/>||<sp/>(decomp_size<sp/>&amp;&amp;<sp/>!comp_size))</highlight></codeline>
<codeline lineno="3667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="3668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3669"><highlight class="normal"></highlight></codeline>
<codeline lineno="3670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>disk_index<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa0323bb440c5cb8ebcacc2bf7da778bc" kindref="member">MZ_ZIP_CDH_DISK_START_OFS</ref>);</highlight></codeline>
<codeline lineno="3671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((disk_index<sp/>==<sp/><ref refid="miniz_8h_1a512356d187ddd5c72e3123703d60b6cf" kindref="member">MZ_UINT16_MAX</ref>)<sp/>||<sp/>((disk_index<sp/>!=<sp/>num_this_disk)<sp/>&amp;&amp;<sp/>(disk_index<sp/>!=<sp/>1)))</highlight></codeline>
<codeline lineno="3672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da8c4bcce26300af775c179d6b0a35aff7" kindref="member">MZ_ZIP_UNSUPPORTED_MULTIDISK</ref>);</highlight></codeline>
<codeline lineno="3673"><highlight class="normal"></highlight></codeline>
<codeline lineno="3674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(comp_size<sp/>!=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="3675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)<ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a15dc7648592d367c3edaac476c3aac87" kindref="member">MZ_ZIP_CDH_LOCAL_HEADER_OFS</ref>)<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref><sp/>+<sp/>comp_size)<sp/>&gt;<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref>)</highlight></codeline>
<codeline lineno="3677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="3678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3679"><highlight class="normal"></highlight></codeline>
<codeline lineno="3680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_flags<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac50291ea0ed2b18a069f5e129f098db2" kindref="member">MZ_ZIP_CDH_BIT_FLAG_OFS</ref>);</highlight></codeline>
<codeline lineno="3681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bit_flags<sp/>&amp;<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ab5a6b8b6b4b9f098c4ec926a6d22c432" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_LOCAL_DIR_IS_MASKED</ref>)</highlight></codeline>
<codeline lineno="3682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da6d29d37c6300c91cb5fc9a66d1cb1db1" kindref="member">MZ_ZIP_UNSUPPORTED_ENCRYPTION</ref>);</highlight></codeline>
<codeline lineno="3683"><highlight class="normal"></highlight></codeline>
<codeline lineno="3684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((total_header_size<sp/>=<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE<sp/>+<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03f4415315a96a9691344f193cef8da2" kindref="member">MZ_ZIP_CDH_FILENAME_LEN_OFS</ref>)<sp/>+<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5a7ea82498b1ffd464965872fe507d8b" kindref="member">MZ_ZIP_CDH_EXTRA_LEN_OFS</ref>)<sp/>+<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac67dc228d5e122d1ad9cd42072e65c1d" kindref="member">MZ_ZIP_CDH_COMMENT_LEN_OFS</ref>))<sp/>&gt;<sp/>n)</highlight></codeline>
<codeline lineno="3685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="3686"><highlight class="normal"></highlight></codeline>
<codeline lineno="3687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>-=<sp/>total_header_size;</highlight></codeline>
<codeline lineno="3688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>+=<sp/>total_header_size;</highlight></codeline>
<codeline lineno="3689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3690"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3691"><highlight class="normal"></highlight></codeline>
<codeline lineno="3692"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sort_central_dir)</highlight></codeline>
<codeline lineno="3693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a240514a6b8d7e6f71ca91b166f37d961" kindref="member">mz_zip_reader_sort_central_dir_offsets_by_filename</ref>(pZip);</highlight></codeline>
<codeline lineno="3694"><highlight class="normal"></highlight></codeline>
<codeline lineno="3695"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3696"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3697"><highlight class="normal"></highlight></codeline>
<codeline lineno="3698"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a8c64687454aca17948eb58730dc6f41b" kindref="member">mz_zip_zero_struct</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="3699"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3700"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip)</highlight></codeline>
<codeline lineno="3701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(*pZip);</highlight></codeline>
<codeline lineno="3702"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3703"><highlight class="normal"></highlight></codeline>
<codeline lineno="3704"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a550503f834d14ecf4baf1eff98f3ca5c" kindref="member">mz_zip_reader_end_internal</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>set_last_error)</highlight></codeline>
<codeline lineno="3705"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3706"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3707"><highlight class="normal"></highlight></codeline>
<codeline lineno="3708"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip)</highlight></codeline>
<codeline lineno="3709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3710"><highlight class="normal"></highlight></codeline>
<codeline lineno="3711"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>)<sp/>||<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>!=<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a40c391220d01d172a451f3dad0d5aed6" kindref="member">MZ_ZIP_MODE_READING</ref>))</highlight></codeline>
<codeline lineno="3712"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(set_last_error)</highlight></codeline>
<codeline lineno="3714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref><sp/>=<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>;</highlight></codeline>
<codeline lineno="3715"><highlight class="normal"></highlight></codeline>
<codeline lineno="3716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3717"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3718"><highlight class="normal"></highlight></codeline>
<codeline lineno="3719"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)</highlight></codeline>
<codeline lineno="3720"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref><sp/>*pState<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>;</highlight></codeline>
<codeline lineno="3722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="3723"><highlight class="normal"></highlight></codeline>
<codeline lineno="3724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>);</highlight></codeline>
<codeline lineno="3725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a51a9aa41f7499c7e6e4c2546aa965b9c" kindref="member">m_central_dir_offsets</ref>);</highlight></codeline>
<codeline lineno="3726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a1e3af54224b61cb20d6ceaeb5807bc33" kindref="member">m_sorted_central_dir_offsets</ref>);</highlight></codeline>
<codeline lineno="3727"><highlight class="normal"></highlight></codeline>
<codeline lineno="3728"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_STDIO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>)</highlight></codeline>
<codeline lineno="3730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ae63ea3648c32998d2b17cc6dc6401671" kindref="member">m_zip_type</ref><sp/>==<sp/><ref refid="miniz_8h_1a9e009caf9b469d91618c184666c50da4a1c755e926bbf9197e0d64a0387a4e70a" kindref="member">MZ_ZIP_TYPE_FILE</ref>)</highlight></codeline>
<codeline lineno="3732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8c_1aca3383a48f6eda415e7b7bceea2d3e55" kindref="member">MZ_FCLOSE</ref>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>)<sp/>==<sp/>EOF)</highlight></codeline>
<codeline lineno="3734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(set_last_error)</highlight></codeline>
<codeline lineno="3736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref><sp/>=<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da425368dd51a2a374f88b285338098851" kindref="member">MZ_ZIP_FILE_CLOSE_FAILED</ref>;</highlight></codeline>
<codeline lineno="3737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="3741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3742"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifndef<sp/>MINIZ_NO_STDIO<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3743"><highlight class="normal"></highlight></codeline>
<codeline lineno="3744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pState);</highlight></codeline>
<codeline lineno="3745"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3746"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>=<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a713f3b45f38e966b751027436df64e50" kindref="member">MZ_ZIP_MODE_INVALID</ref>;</highlight></codeline>
<codeline lineno="3747"><highlight class="normal"></highlight></codeline>
<codeline lineno="3748"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="3749"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3750"><highlight class="normal"></highlight></codeline>
<codeline lineno="3751"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a0cf333c7781de5d56d24d70e573507e2" kindref="member">mz_zip_reader_end</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="3752"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3753"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a550503f834d14ecf4baf1eff98f3ca5c" kindref="member">mz_zip_reader_end_internal</ref>(pZip,<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>);</highlight></codeline>
<codeline lineno="3754"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3755"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a5aeef8648af76ac95c3d8e2f43be095e" kindref="member">mz_zip_reader_init</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="3756"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3757"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>))</highlight></codeline>
<codeline lineno="3758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="3759"><highlight class="normal"></highlight></codeline>
<codeline lineno="3760"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a52d8a4b36d39d7cf0dd2afbba5ce9c7e" kindref="member">mz_zip_reader_init_internal</ref>(pZip,<sp/>flags))</highlight></codeline>
<codeline lineno="3761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3762"><highlight class="normal"></highlight></codeline>
<codeline lineno="3763"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ae63ea3648c32998d2b17cc6dc6401671" kindref="member">m_zip_type</ref><sp/>=<sp/><ref refid="miniz_8h_1a9e009caf9b469d91618c184666c50da4a01c18c633c1058f9e758e30169ea5170" kindref="member">MZ_ZIP_TYPE_USER</ref>;</highlight></codeline>
<codeline lineno="3764"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>=<sp/>size;</highlight></codeline>
<codeline lineno="3765"><highlight class="normal"></highlight></codeline>
<codeline lineno="3766"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a7ac2826eb7d5b0df83a06d43a4489f4f" kindref="member">mz_zip_reader_read_central_dir</ref>(pZip,<sp/>flags))</highlight></codeline>
<codeline lineno="3767"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a550503f834d14ecf4baf1eff98f3ca5c" kindref="member">mz_zip_reader_end_internal</ref>(pZip,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="3769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3770"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3771"><highlight class="normal"></highlight></codeline>
<codeline lineno="3772"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3773"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3774"><highlight class="normal"></highlight></codeline>
<codeline lineno="3775"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a98e280f09026d4746a4171c94c8d64f6" kindref="member">mz_zip_mem_read_func</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pOpaque,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>file_ofs,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>n)</highlight></codeline>
<codeline lineno="3776"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3777"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip<sp/>=<sp/>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*)pOpaque;</highlight></codeline>
<codeline lineno="3778"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>s<sp/>=<sp/>(file_ofs<sp/>&gt;=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref>)<sp/>?<sp/>0<sp/>:<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)<ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>-<sp/>file_ofs,<sp/>n);</highlight></codeline>
<codeline lineno="3779"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy(pBuf,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref><sp/>+<sp/>file_ofs,<sp/>s);</highlight></codeline>
<codeline lineno="3780"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>s;</highlight></codeline>
<codeline lineno="3781"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3782"><highlight class="normal"></highlight></codeline>
<codeline lineno="3783"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a6806f0e4c2e8320f33188e12ec0b63b6" kindref="member">mz_zip_reader_init_mem</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pMem,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="3784"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3785"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pMem)</highlight></codeline>
<codeline lineno="3786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="3787"><highlight class="normal"></highlight></codeline>
<codeline lineno="3788"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(size<sp/>&lt;<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abec7783de4399c774ee325a0e4226ed9" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>)</highlight></codeline>
<codeline lineno="3789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daeab66c528acdb43f7946e6411f515083" kindref="member">MZ_ZIP_NOT_AN_ARCHIVE</ref>);</highlight></codeline>
<codeline lineno="3790"><highlight class="normal"></highlight></codeline>
<codeline lineno="3791"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a52d8a4b36d39d7cf0dd2afbba5ce9c7e" kindref="member">mz_zip_reader_init_internal</ref>(pZip,<sp/>flags))</highlight></codeline>
<codeline lineno="3792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3793"><highlight class="normal"></highlight></codeline>
<codeline lineno="3794"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ae63ea3648c32998d2b17cc6dc6401671" kindref="member">m_zip_type</ref><sp/>=<sp/><ref refid="miniz_8h_1a9e009caf9b469d91618c184666c50da4a74c17a3e487cc9d8732404550466195b" kindref="member">MZ_ZIP_TYPE_MEMORY</ref>;</highlight></codeline>
<codeline lineno="3795"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>=<sp/>size;</highlight></codeline>
<codeline lineno="3796"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref><sp/>=<sp/><ref refid="miniz_8c_1a98e280f09026d4746a4171c94c8d64f6" kindref="member">mz_zip_mem_read_func</ref>;</highlight></codeline>
<codeline lineno="3797"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref><sp/>=<sp/>pZip;</highlight></codeline>
<codeline lineno="3798"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a943ea385742e04f7995cb54b46892213" kindref="member">m_pNeeds_keepalive</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="3799"><highlight class="normal"></highlight></codeline>
<codeline lineno="3800"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3801"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref><sp/>=<sp/></highlight><highlight class="keyword">const_cast&lt;</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(pMem);</highlight></codeline>
<codeline lineno="3802"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3803"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref><sp/>=<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*)pMem;</highlight></codeline>
<codeline lineno="3804"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3805"><highlight class="normal"></highlight></codeline>
<codeline lineno="3806"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a4511d7743e1a63fb78ed066f8de96466" kindref="member">m_mem_size</ref><sp/>=<sp/>size;</highlight></codeline>
<codeline lineno="3807"><highlight class="normal"></highlight></codeline>
<codeline lineno="3808"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a7ac2826eb7d5b0df83a06d43a4489f4f" kindref="member">mz_zip_reader_read_central_dir</ref>(pZip,<sp/>flags))</highlight></codeline>
<codeline lineno="3809"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a550503f834d14ecf4baf1eff98f3ca5c" kindref="member">mz_zip_reader_end_internal</ref>(pZip,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="3811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3812"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3813"><highlight class="normal"></highlight></codeline>
<codeline lineno="3814"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3815"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3816"><highlight class="normal"></highlight></codeline>
<codeline lineno="3817"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_STDIO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3818"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a1440cf12da0b3513e14319c32f04b44f" kindref="member">mz_zip_file_read_func</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pOpaque,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>file_ofs,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>n)</highlight></codeline>
<codeline lineno="3819"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3820"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip<sp/>=<sp/>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*)pOpaque;</highlight></codeline>
<codeline lineno="3821"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref><sp/>cur_ofs<sp/>=<sp/><ref refid="miniz_8c_1af3b9d5f2af50464d16fd7a6ef48c916b" kindref="member">MZ_FTELL64</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>);</highlight></codeline>
<codeline lineno="3822"><highlight class="normal"></highlight></codeline>
<codeline lineno="3823"><highlight class="normal"><sp/><sp/><sp/><sp/>file_ofs<sp/>+=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a2705cc469d5f08543d5f827f43f391ec" kindref="member">m_file_archive_start_ofs</ref>;</highlight></codeline>
<codeline lineno="3824"><highlight class="normal"></highlight></codeline>
<codeline lineno="3825"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((<ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref>)file_ofs<sp/>&lt;<sp/>0)<sp/>||<sp/>(((cur_ofs<sp/>!=<sp/>(<ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref>)file_ofs))<sp/>&amp;&amp;<sp/>(<ref refid="miniz_8c_1a6cd8f6b4134fc9ea62f311ac7f2c5c1d" kindref="member">MZ_FSEEK64</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>,<sp/>(<ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref>)file_ofs,<sp/>SEEK_SET))))</highlight></codeline>
<codeline lineno="3826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="3827"><highlight class="normal"></highlight></codeline>
<codeline lineno="3828"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a52bd2726a671aabfe4d49804e79900d0" kindref="member">MZ_FREAD</ref>(pBuf,<sp/>1,<sp/>n,<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>);</highlight></codeline>
<codeline lineno="3829"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3830"><highlight class="normal"></highlight></codeline>
<codeline lineno="3831"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a24e55b3b8f9f7722a43117d8a3497eff" kindref="member">mz_zip_reader_init_file</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>flags)</highlight></codeline>
<codeline lineno="3832"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3833"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1aac2174a6cb49f234d050051bff59bfdd" kindref="member">mz_zip_reader_init_file_v2</ref>(pZip,<sp/>pFilename,<sp/>flags,<sp/>0,<sp/>0);</highlight></codeline>
<codeline lineno="3834"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3835"><highlight class="normal"></highlight></codeline>
<codeline lineno="3836"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1aac2174a6cb49f234d050051bff59bfdd" kindref="member">mz_zip_reader_init_file_v2</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>file_start_ofs,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>archive_size)</highlight></codeline>
<codeline lineno="3837"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3838"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>file_size;</highlight></codeline>
<codeline lineno="3839"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref><sp/>*pFile;</highlight></codeline>
<codeline lineno="3840"><highlight class="normal"></highlight></codeline>
<codeline lineno="3841"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pFilename)<sp/>||<sp/>((archive_size)<sp/>&amp;&amp;<sp/>(archive_size<sp/>&lt;<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abec7783de4399c774ee325a0e4226ed9" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>)))</highlight></codeline>
<codeline lineno="3842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="3843"><highlight class="normal"></highlight></codeline>
<codeline lineno="3844"><highlight class="normal"><sp/><sp/><sp/><sp/>pFile<sp/>=<sp/><ref refid="miniz_8c_1a7ab43238d8cd27afaf9ee668c8f6ab70" kindref="member">MZ_FOPEN</ref>(pFilename,<sp/></highlight><highlight class="stringliteral">&quot;rb&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3845"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pFile)</highlight></codeline>
<codeline lineno="3846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da0c392e441dd7e14e4731686e8f3369ed" kindref="member">MZ_ZIP_FILE_OPEN_FAILED</ref>);</highlight></codeline>
<codeline lineno="3847"><highlight class="normal"></highlight></codeline>
<codeline lineno="3848"><highlight class="normal"><sp/><sp/><sp/><sp/>file_size<sp/>=<sp/>archive_size;</highlight></codeline>
<codeline lineno="3849"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!file_size)</highlight></codeline>
<codeline lineno="3850"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8c_1a6cd8f6b4134fc9ea62f311ac7f2c5c1d" kindref="member">MZ_FSEEK64</ref>(pFile,<sp/>0,<sp/>SEEK_END))</highlight></codeline>
<codeline lineno="3852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1aca3383a48f6eda415e7b7bceea2d3e55" kindref="member">MZ_FCLOSE</ref>(pFile);</highlight></codeline>
<codeline lineno="3854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dafada0e6e18c6a880a9a5af7848cceb54" kindref="member">MZ_ZIP_FILE_SEEK_FAILED</ref>);</highlight></codeline>
<codeline lineno="3855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3856"><highlight class="normal"></highlight></codeline>
<codeline lineno="3857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>file_size<sp/>=<sp/><ref refid="miniz_8c_1af3b9d5f2af50464d16fd7a6ef48c916b" kindref="member">MZ_FTELL64</ref>(pFile);</highlight></codeline>
<codeline lineno="3858"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3859"><highlight class="normal"></highlight></codeline>
<codeline lineno="3860"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>TODO:<sp/>Better<sp/>sanity<sp/>check<sp/>archive_size<sp/>and<sp/>the<sp/>#<sp/>of<sp/>actual<sp/>remaining<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3861"><highlight class="normal"></highlight></codeline>
<codeline lineno="3862"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(file_size<sp/>&lt;<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abec7783de4399c774ee325a0e4226ed9" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>)</highlight></codeline>
<codeline lineno="3863"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daeab66c528acdb43f7946e6411f515083" kindref="member">MZ_ZIP_NOT_AN_ARCHIVE</ref>);</highlight></codeline>
<codeline lineno="3864"><highlight class="normal"></highlight></codeline>
<codeline lineno="3865"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a52d8a4b36d39d7cf0dd2afbba5ce9c7e" kindref="member">mz_zip_reader_init_internal</ref>(pZip,<sp/>flags))</highlight></codeline>
<codeline lineno="3866"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1aca3383a48f6eda415e7b7bceea2d3e55" kindref="member">MZ_FCLOSE</ref>(pFile);</highlight></codeline>
<codeline lineno="3868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3869"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3870"><highlight class="normal"></highlight></codeline>
<codeline lineno="3871"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ae63ea3648c32998d2b17cc6dc6401671" kindref="member">m_zip_type</ref><sp/>=<sp/><ref refid="miniz_8h_1a9e009caf9b469d91618c184666c50da4a1c755e926bbf9197e0d64a0387a4e70a" kindref="member">MZ_ZIP_TYPE_FILE</ref>;</highlight></codeline>
<codeline lineno="3872"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref><sp/>=<sp/><ref refid="miniz_8c_1a1440cf12da0b3513e14319c32f04b44f" kindref="member">mz_zip_file_read_func</ref>;</highlight></codeline>
<codeline lineno="3873"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref><sp/>=<sp/>pZip;</highlight></codeline>
<codeline lineno="3874"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref><sp/>=<sp/>pFile;</highlight></codeline>
<codeline lineno="3875"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>=<sp/>file_size;</highlight></codeline>
<codeline lineno="3876"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a2705cc469d5f08543d5f827f43f391ec" kindref="member">m_file_archive_start_ofs</ref><sp/>=<sp/>file_start_ofs;</highlight></codeline>
<codeline lineno="3877"><highlight class="normal"></highlight></codeline>
<codeline lineno="3878"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a7ac2826eb7d5b0df83a06d43a4489f4f" kindref="member">mz_zip_reader_read_central_dir</ref>(pZip,<sp/>flags))</highlight></codeline>
<codeline lineno="3879"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a550503f834d14ecf4baf1eff98f3ca5c" kindref="member">mz_zip_reader_end_internal</ref>(pZip,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="3881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3882"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3883"><highlight class="normal"></highlight></codeline>
<codeline lineno="3884"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3885"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3886"><highlight class="normal"></highlight></codeline>
<codeline lineno="3887"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1adf32b3615759bd3db23877eb95d106d5" kindref="member">mz_zip_reader_init_cfile</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref><sp/>*pFile,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>archive_size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="3888"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3889"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>cur_file_ofs;</highlight></codeline>
<codeline lineno="3890"><highlight class="normal"></highlight></codeline>
<codeline lineno="3891"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pFile))</highlight></codeline>
<codeline lineno="3892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da0c392e441dd7e14e4731686e8f3369ed" kindref="member">MZ_ZIP_FILE_OPEN_FAILED</ref>);</highlight></codeline>
<codeline lineno="3893"><highlight class="normal"></highlight></codeline>
<codeline lineno="3894"><highlight class="normal"><sp/><sp/><sp/><sp/>cur_file_ofs<sp/>=<sp/><ref refid="miniz_8c_1af3b9d5f2af50464d16fd7a6ef48c916b" kindref="member">MZ_FTELL64</ref>(pFile);</highlight></codeline>
<codeline lineno="3895"><highlight class="normal"></highlight></codeline>
<codeline lineno="3896"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!archive_size)</highlight></codeline>
<codeline lineno="3897"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8c_1a6cd8f6b4134fc9ea62f311ac7f2c5c1d" kindref="member">MZ_FSEEK64</ref>(pFile,<sp/>0,<sp/>SEEK_END))</highlight></codeline>
<codeline lineno="3899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dafada0e6e18c6a880a9a5af7848cceb54" kindref="member">MZ_ZIP_FILE_SEEK_FAILED</ref>);</highlight></codeline>
<codeline lineno="3900"><highlight class="normal"></highlight></codeline>
<codeline lineno="3901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>archive_size<sp/>=<sp/><ref refid="miniz_8c_1af3b9d5f2af50464d16fd7a6ef48c916b" kindref="member">MZ_FTELL64</ref>(pFile)<sp/>-<sp/>cur_file_ofs;</highlight></codeline>
<codeline lineno="3902"><highlight class="normal"></highlight></codeline>
<codeline lineno="3903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(archive_size<sp/>&lt;<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abec7783de4399c774ee325a0e4226ed9" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>)</highlight></codeline>
<codeline lineno="3904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daeab66c528acdb43f7946e6411f515083" kindref="member">MZ_ZIP_NOT_AN_ARCHIVE</ref>);</highlight></codeline>
<codeline lineno="3905"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3906"><highlight class="normal"></highlight></codeline>
<codeline lineno="3907"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a52d8a4b36d39d7cf0dd2afbba5ce9c7e" kindref="member">mz_zip_reader_init_internal</ref>(pZip,<sp/>flags))</highlight></codeline>
<codeline lineno="3908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3909"><highlight class="normal"></highlight></codeline>
<codeline lineno="3910"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ae63ea3648c32998d2b17cc6dc6401671" kindref="member">m_zip_type</ref><sp/>=<sp/><ref refid="miniz_8h_1a9e009caf9b469d91618c184666c50da4a83f61a4c11f3ac2eb415546785502af7" kindref="member">MZ_ZIP_TYPE_CFILE</ref>;</highlight></codeline>
<codeline lineno="3911"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref><sp/>=<sp/><ref refid="miniz_8c_1a1440cf12da0b3513e14319c32f04b44f" kindref="member">mz_zip_file_read_func</ref>;</highlight></codeline>
<codeline lineno="3912"><highlight class="normal"></highlight></codeline>
<codeline lineno="3913"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref><sp/>=<sp/>pZip;</highlight></codeline>
<codeline lineno="3914"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref><sp/>=<sp/>pFile;</highlight></codeline>
<codeline lineno="3915"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>=<sp/>archive_size;</highlight></codeline>
<codeline lineno="3916"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a2705cc469d5f08543d5f827f43f391ec" kindref="member">m_file_archive_start_ofs</ref><sp/>=<sp/>cur_file_ofs;</highlight></codeline>
<codeline lineno="3917"><highlight class="normal"></highlight></codeline>
<codeline lineno="3918"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a7ac2826eb7d5b0df83a06d43a4489f4f" kindref="member">mz_zip_reader_read_central_dir</ref>(pZip,<sp/>flags))</highlight></codeline>
<codeline lineno="3919"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a550503f834d14ecf4baf1eff98f3ca5c" kindref="member">mz_zip_reader_end_internal</ref>(pZip,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="3921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3922"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3923"><highlight class="normal"></highlight></codeline>
<codeline lineno="3924"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3925"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3926"><highlight class="normal"></highlight></codeline>
<codeline lineno="3927"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifndef<sp/>MINIZ_NO_STDIO<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3928"><highlight class="normal"></highlight></codeline>
<codeline lineno="3929"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*<ref refid="miniz_8c_1abb036541231e500526a12a35e3bd0eae" kindref="member">mz_zip_get_cdh</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_index)</highlight></codeline>
<codeline lineno="3930"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3931"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)<sp/>||<sp/>(file_index<sp/>&gt;=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>))</highlight></codeline>
<codeline lineno="3932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="3933"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>&amp;<ref refid="miniz_8c_1ad6e55a2b6b4b7d99a13f79301e949143" kindref="member">MZ_ZIP_ARRAY_ELEMENT</ref>(&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>,<sp/><ref refid="miniz_8c_1ad6e55a2b6b4b7d99a13f79301e949143" kindref="member">MZ_ZIP_ARRAY_ELEMENT</ref>(&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a51a9aa41f7499c7e6e4c2546aa965b9c" kindref="member">m_central_dir_offsets</ref>,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>,<sp/>file_index));</highlight></codeline>
<codeline lineno="3934"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3935"><highlight class="normal"></highlight></codeline>
<codeline lineno="3936"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a8b262a8e0d2b58d0d0d5523655bd07bc" kindref="member">mz_zip_reader_is_file_encrypted</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_index)</highlight></codeline>
<codeline lineno="3937"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3938"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>m_bit_flag;</highlight></codeline>
<codeline lineno="3939"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*p<sp/>=<sp/><ref refid="miniz_8c_1abb036541231e500526a12a35e3bd0eae" kindref="member">mz_zip_get_cdh</ref>(pZip,<sp/>file_index);</highlight></codeline>
<codeline lineno="3940"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!p)</highlight></codeline>
<codeline lineno="3941"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="3943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3944"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3945"><highlight class="normal"></highlight></codeline>
<codeline lineno="3946"><highlight class="normal"><sp/><sp/><sp/><sp/>m_bit_flag<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac50291ea0ed2b18a069f5e129f098db2" kindref="member">MZ_ZIP_CDH_BIT_FLAG_OFS</ref>);</highlight></codeline>
<codeline lineno="3947"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(m_bit_flag<sp/>&amp;<sp/>(<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aee3f29c6ca80f7c1ba12e8d4620980b0" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_IS_ENCRYPTED</ref><sp/>|<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a9065070139fca1d195692b1009357e3c" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_USES_STRONG_ENCRYPTION</ref>))<sp/>!=<sp/>0;</highlight></codeline>
<codeline lineno="3948"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3949"><highlight class="normal"></highlight></codeline>
<codeline lineno="3950"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a996d0ae919e19b0821cebbc7ce52ce91" kindref="member">mz_zip_reader_is_file_supported</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_index)</highlight></codeline>
<codeline lineno="3951"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3952"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>bit_flag;</highlight></codeline>
<codeline lineno="3953"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>method;</highlight></codeline>
<codeline lineno="3954"><highlight class="normal"></highlight></codeline>
<codeline lineno="3955"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*p<sp/>=<sp/><ref refid="miniz_8c_1abb036541231e500526a12a35e3bd0eae" kindref="member">mz_zip_get_cdh</ref>(pZip,<sp/>file_index);</highlight></codeline>
<codeline lineno="3956"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!p)</highlight></codeline>
<codeline lineno="3957"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="3959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3960"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3961"><highlight class="normal"></highlight></codeline>
<codeline lineno="3962"><highlight class="normal"><sp/><sp/><sp/><sp/>method<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a49864f9b56c094003565ed64b2b4aed1" kindref="member">MZ_ZIP_CDH_METHOD_OFS</ref>);</highlight></codeline>
<codeline lineno="3963"><highlight class="normal"><sp/><sp/><sp/><sp/>bit_flag<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac50291ea0ed2b18a069f5e129f098db2" kindref="member">MZ_ZIP_CDH_BIT_FLAG_OFS</ref>);</highlight></codeline>
<codeline lineno="3964"><highlight class="normal"></highlight></codeline>
<codeline lineno="3965"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((method<sp/>!=<sp/>0)<sp/>&amp;&amp;<sp/>(method<sp/>!=<sp/><ref refid="miniz_8h_1a3e92e9b3cc525db1fd503d9630ec1bf5" kindref="member">MZ_DEFLATED</ref>))</highlight></codeline>
<codeline lineno="3966"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da003e8bf2463b5f3849242b3808e4d6fe" kindref="member">MZ_ZIP_UNSUPPORTED_METHOD</ref>);</highlight></codeline>
<codeline lineno="3968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3969"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3970"><highlight class="normal"></highlight></codeline>
<codeline lineno="3971"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bit_flag<sp/>&amp;<sp/>(<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aee3f29c6ca80f7c1ba12e8d4620980b0" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_IS_ENCRYPTED</ref><sp/>|<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a9065070139fca1d195692b1009357e3c" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_USES_STRONG_ENCRYPTION</ref>))</highlight></codeline>
<codeline lineno="3972"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da6d29d37c6300c91cb5fc9a66d1cb1db1" kindref="member">MZ_ZIP_UNSUPPORTED_ENCRYPTION</ref>);</highlight></codeline>
<codeline lineno="3974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3975"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3976"><highlight class="normal"></highlight></codeline>
<codeline lineno="3977"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bit_flag<sp/>&amp;<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a3df7ccd884899093e2cc9cf6411f5743" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_COMPRESSED_PATCH_FLAG</ref>)</highlight></codeline>
<codeline lineno="3978"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da079e286899478ed53a7473f1816a692f" kindref="member">MZ_ZIP_UNSUPPORTED_FEATURE</ref>);</highlight></codeline>
<codeline lineno="3980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3981"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3982"><highlight class="normal"></highlight></codeline>
<codeline lineno="3983"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="3984"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3985"><highlight class="normal"></highlight></codeline>
<codeline lineno="3986"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a400dc4c44934e7d73706b419f4a73595" kindref="member">mz_zip_reader_is_file_a_directory</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_index)</highlight></codeline>
<codeline lineno="3987"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3988"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>filename_len,<sp/>attribute_mapping_id,<sp/>external_attr;</highlight></codeline>
<codeline lineno="3989"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*p<sp/>=<sp/><ref refid="miniz_8c_1abb036541231e500526a12a35e3bd0eae" kindref="member">mz_zip_get_cdh</ref>(pZip,<sp/>file_index);</highlight></codeline>
<codeline lineno="3990"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!p)</highlight></codeline>
<codeline lineno="3991"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="3993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="3994"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3995"><highlight class="normal"></highlight></codeline>
<codeline lineno="3996"><highlight class="normal"><sp/><sp/><sp/><sp/>filename_len<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03f4415315a96a9691344f193cef8da2" kindref="member">MZ_ZIP_CDH_FILENAME_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="3997"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(filename_len)</highlight></codeline>
<codeline lineno="3998"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*(p<sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE<sp/>+<sp/>filename_len<sp/>-<sp/>1)<sp/>==<sp/></highlight><highlight class="charliteral">&apos;/&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="4000"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="4001"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4002"><highlight class="normal"></highlight></codeline>
<codeline lineno="4003"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Bugfix:<sp/>This<sp/>code<sp/>was<sp/>also<sp/>checking<sp/>if<sp/>the<sp/>internal<sp/>attribute<sp/>was<sp/>non-zero,<sp/>which<sp/>wasn&apos;t<sp/>correct.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4004"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Most/all<sp/>zip<sp/>writers<sp/>(hopefully)<sp/>set<sp/>DOS<sp/>file/directory<sp/>attributes<sp/>in<sp/>the<sp/>low<sp/>16-bits,<sp/>so<sp/>check<sp/>for<sp/>the<sp/>DOS<sp/>directory<sp/>flag<sp/>and<sp/>ignore<sp/>the<sp/>source<sp/>OS<sp/>ID<sp/>in<sp/>the<sp/>created<sp/>by<sp/>field.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4005"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>FIXME:<sp/>Remove<sp/>this<sp/>check?<sp/>Is<sp/>it<sp/>necessary<sp/>-<sp/>we<sp/>already<sp/>check<sp/>the<sp/>filename.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4006"><highlight class="normal"><sp/><sp/><sp/><sp/>attribute_mapping_id<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7adc548ddb0c98ab80c5040a55a03561da" kindref="member">MZ_ZIP_CDH_VERSION_MADE_BY_OFS</ref>)<sp/>&gt;&gt;<sp/>8;</highlight></codeline>
<codeline lineno="4007"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)attribute_mapping_id;</highlight></codeline>
<codeline lineno="4008"><highlight class="normal"></highlight></codeline>
<codeline lineno="4009"><highlight class="normal"><sp/><sp/><sp/><sp/>external_attr<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ab4dec2086b60f7e1c7ce499b07b966cb" kindref="member">MZ_ZIP_CDH_EXTERNAL_ATTR_OFS</ref>);</highlight></codeline>
<codeline lineno="4010"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((external_attr<sp/>&amp;<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4a2a1bb318f1f4ab445c7e4de3d3e1cc" kindref="member">MZ_ZIP_DOS_DIR_ATTRIBUTE_BITFLAG</ref>)<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="4011"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4012"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="4013"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4014"><highlight class="normal"></highlight></codeline>
<codeline lineno="4015"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4016"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4017"><highlight class="normal"></highlight></codeline>
<codeline lineno="4018"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a2a7f8b015e1b9e5b28617661a2102325" kindref="member">mz_zip_file_stat_internal</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_index,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pCentral_dir_header,<sp/><ref refid="structmz__zip__archive__file__stat" kindref="compound">mz_zip_archive_file_stat</ref><sp/>*pStat,<sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>*pFound_zip64_extra_data)</highlight></codeline>
<codeline lineno="4019"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4020"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>n;</highlight></codeline>
<codeline lineno="4021"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*p<sp/>=<sp/>pCentral_dir_header;</highlight></codeline>
<codeline lineno="4022"><highlight class="normal"></highlight></codeline>
<codeline lineno="4023"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pFound_zip64_extra_data)</highlight></codeline>
<codeline lineno="4024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pFound_zip64_extra_data<sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4025"><highlight class="normal"></highlight></codeline>
<codeline lineno="4026"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!p)<sp/>||<sp/>(!pStat))</highlight></codeline>
<codeline lineno="4027"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="4028"><highlight class="normal"></highlight></codeline>
<codeline lineno="4029"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Extract<sp/>fields<sp/>from<sp/>the<sp/>central<sp/>directory<sp/>record.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4030"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1a9a7f0737f031b23a29c58fc7ff2bd131" kindref="member">m_file_index</ref><sp/>=<sp/>file_index;</highlight></codeline>
<codeline lineno="4031"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1a79ac549bef6a828b37e4dc72d9282d1e" kindref="member">m_central_dir_ofs</ref><sp/>=<sp/><ref refid="miniz_8c_1ad6e55a2b6b4b7d99a13f79301e949143" kindref="member">MZ_ZIP_ARRAY_ELEMENT</ref>(&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a51a9aa41f7499c7e6e4c2546aa965b9c" kindref="member">m_central_dir_offsets</ref>,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>,<sp/>file_index);</highlight></codeline>
<codeline lineno="4032"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1a3038faf9c1f24f2bf48eab9cc2b8ce8c" kindref="member">m_version_made_by</ref><sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7adc548ddb0c98ab80c5040a55a03561da" kindref="member">MZ_ZIP_CDH_VERSION_MADE_BY_OFS</ref>);</highlight></codeline>
<codeline lineno="4033"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1a0cfb77699313b855dcd1b5bed9dfb93a" kindref="member">m_version_needed</ref><sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a122562cf2a1182825317fe26e7902e64" kindref="member">MZ_ZIP_CDH_VERSION_NEEDED_OFS</ref>);</highlight></codeline>
<codeline lineno="4034"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1ac9fdb10d21124d44be05ef0c04c1ad15" kindref="member">m_bit_flag</ref><sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac50291ea0ed2b18a069f5e129f098db2" kindref="member">MZ_ZIP_CDH_BIT_FLAG_OFS</ref>);</highlight></codeline>
<codeline lineno="4035"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1ae1a9a8fbc09a4c3c14b04667d0f2d189" kindref="member">m_method</ref><sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a49864f9b56c094003565ed64b2b4aed1" kindref="member">MZ_ZIP_CDH_METHOD_OFS</ref>);</highlight></codeline>
<codeline lineno="4036"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_TIME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4037"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1ad9da17b1b5d7c66be26257c98f2492a9" kindref="member">m_time</ref><sp/>=<sp/><ref refid="miniz_8c_1a865b4534749f2889ff8f0c7cd46a2262" kindref="member">mz_zip_dos_to_time_t</ref>(<ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a6954b28080a1fb151914b00da25074f5" kindref="member">MZ_ZIP_CDH_FILE_TIME_OFS</ref>),<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0a30dbf39d1e87013ef095186370cc36" kindref="member">MZ_ZIP_CDH_FILE_DATE_OFS</ref>));</highlight></codeline>
<codeline lineno="4038"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4039"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1af9fe260b684c70c1725a8b100cbd97a8" kindref="member">m_crc32</ref><sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a98e11950c99539215b65a334a2afe989" kindref="member">MZ_ZIP_CDH_CRC32_OFS</ref>);</highlight></codeline>
<codeline lineno="4040"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1ae2ac087fa11585219308de1677000ab3" kindref="member">m_comp_size</ref><sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2a463b99b8d0699bda4e3a52dd1d1015" kindref="member">MZ_ZIP_CDH_COMPRESSED_SIZE_OFS</ref>);</highlight></codeline>
<codeline lineno="4041"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1aa55ee3580a844400d4bd43be27ae3808" kindref="member">m_uncomp_size</ref><sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a43afeb736295b1f90330d79db8420c9e" kindref="member">MZ_ZIP_CDH_DECOMPRESSED_SIZE_OFS</ref>);</highlight></codeline>
<codeline lineno="4042"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1ad628219b167bef01305e8fa09a1f10d1" kindref="member">m_internal_attr</ref><sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa4790eefd44430aa5eab2837e16ab840" kindref="member">MZ_ZIP_CDH_INTERNAL_ATTR_OFS</ref>);</highlight></codeline>
<codeline lineno="4043"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1a0303a6779c89c31eecf62b4744913272" kindref="member">m_external_attr</ref><sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ab4dec2086b60f7e1c7ce499b07b966cb" kindref="member">MZ_ZIP_CDH_EXTERNAL_ATTR_OFS</ref>);</highlight></codeline>
<codeline lineno="4044"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1acc27b6ca5dd7159c19bc3dc32e844ac7" kindref="member">m_local_header_ofs</ref><sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a15dc7648592d367c3edaac476c3aac87" kindref="member">MZ_ZIP_CDH_LOCAL_HEADER_OFS</ref>);</highlight></codeline>
<codeline lineno="4045"><highlight class="normal"></highlight></codeline>
<codeline lineno="4046"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>as<sp/>much<sp/>of<sp/>the<sp/>filename<sp/>and<sp/>comment<sp/>as<sp/>possible.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4047"><highlight class="normal"><sp/><sp/><sp/><sp/>n<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03f4415315a96a9691344f193cef8da2" kindref="member">MZ_ZIP_CDH_FILENAME_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="4048"><highlight class="normal"><sp/><sp/><sp/><sp/>n<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(n,<sp/><ref refid="miniz_8h_1ac36f475ca5b446f4fde4c9b90bec77c8aea0de5eaaef93308322a12ea1097b370" kindref="member">MZ_ZIP_MAX_ARCHIVE_FILENAME_SIZE</ref><sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="4049"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy(pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1ae500a60c1ca2d56199fa06f54036abea" kindref="member">m_filename</ref>,<sp/>p<sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE,<sp/>n);</highlight></codeline>
<codeline lineno="4050"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1ae500a60c1ca2d56199fa06f54036abea" kindref="member">m_filename</ref>[n]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4051"><highlight class="normal"></highlight></codeline>
<codeline lineno="4052"><highlight class="normal"><sp/><sp/><sp/><sp/>n<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac67dc228d5e122d1ad9cd42072e65c1d" kindref="member">MZ_ZIP_CDH_COMMENT_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="4053"><highlight class="normal"><sp/><sp/><sp/><sp/>n<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(n,<sp/><ref refid="miniz_8h_1ac36f475ca5b446f4fde4c9b90bec77c8a1705abc3aa04db87446b6477bffc4899" kindref="member">MZ_ZIP_MAX_ARCHIVE_FILE_COMMENT_SIZE</ref><sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="4054"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1aacf4d95d27894acac1303f51542c51b6" kindref="member">m_comment_size</ref><sp/>=<sp/>n;</highlight></codeline>
<codeline lineno="4055"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy(pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1afb0f2b80d59f134f6fee4c8728649119" kindref="member">m_comment</ref>,<sp/>p<sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE<sp/>+<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03f4415315a96a9691344f193cef8da2" kindref="member">MZ_ZIP_CDH_FILENAME_LEN_OFS</ref>)<sp/>+<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5a7ea82498b1ffd464965872fe507d8b" kindref="member">MZ_ZIP_CDH_EXTRA_LEN_OFS</ref>),<sp/>n);</highlight></codeline>
<codeline lineno="4056"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1afb0f2b80d59f134f6fee4c8728649119" kindref="member">m_comment</ref>[n]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4057"><highlight class="normal"></highlight></codeline>
<codeline lineno="4058"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>some<sp/>flags<sp/>for<sp/>convienance<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4059"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1a02509653cc5553e63a1053802f808cbc" kindref="member">m_is_directory</ref><sp/>=<sp/><ref refid="miniz_8c_1a400dc4c44934e7d73706b419f4a73595" kindref="member">mz_zip_reader_is_file_a_directory</ref>(pZip,<sp/>file_index);</highlight></codeline>
<codeline lineno="4060"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1a952eb97b58881df827ce3808071e7754" kindref="member">m_is_encrypted</ref><sp/>=<sp/><ref refid="miniz_8c_1a8b262a8e0d2b58d0d0d5523655bd07bc" kindref="member">mz_zip_reader_is_file_encrypted</ref>(pZip,<sp/>file_index);</highlight></codeline>
<codeline lineno="4061"><highlight class="normal"><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1a4742f25dec4e490bedc1262b96e49ed6" kindref="member">m_is_supported</ref><sp/>=<sp/><ref refid="miniz_8c_1a996d0ae919e19b0821cebbc7ce52ce91" kindref="member">mz_zip_reader_is_file_supported</ref>(pZip,<sp/>file_index);</highlight></codeline>
<codeline lineno="4062"><highlight class="normal"></highlight></codeline>
<codeline lineno="4063"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>See<sp/>if<sp/>we<sp/>need<sp/>to<sp/>read<sp/>any<sp/>zip64<sp/>extended<sp/>information<sp/>fields.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4064"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Confusingly,<sp/>these<sp/>zip64<sp/>fields<sp/>can<sp/>be<sp/>present<sp/>even<sp/>on<sp/>non-zip64<sp/>archives<sp/>(Debian<sp/>zip<sp/>on<sp/>a<sp/>huge<sp/>files<sp/>from<sp/>stdin<sp/>piped<sp/>to<sp/>stdout<sp/>creates<sp/>them).<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4065"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>(<ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>(pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1ae2ac087fa11585219308de1677000ab3" kindref="member">m_comp_size</ref>,<sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1aa55ee3580a844400d4bd43be27ae3808" kindref="member">m_uncomp_size</ref>),<sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1acc27b6ca5dd7159c19bc3dc32e844ac7" kindref="member">m_local_header_ofs</ref>)<sp/>==<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="4066"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4067"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Attempt<sp/>to<sp/>find<sp/>zip64<sp/>extended<sp/>information<sp/>field<sp/>in<sp/>the<sp/>entry&apos;s<sp/>extra<sp/>data<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>extra_size_remaining<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5a7ea82498b1ffd464965872fe507d8b" kindref="member">MZ_ZIP_CDH_EXTRA_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="4069"><highlight class="normal"></highlight></codeline>
<codeline lineno="4070"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(extra_size_remaining)</highlight></codeline>
<codeline lineno="4071"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4072"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pExtra_data<sp/>=<sp/>p<sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE<sp/>+<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03f4415315a96a9691344f193cef8da2" kindref="member">MZ_ZIP_CDH_FILENAME_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="4073"><highlight class="normal"></highlight></codeline>
<codeline lineno="4074"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>field_id;</highlight></codeline>
<codeline lineno="4077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>field_data_size;</highlight></codeline>
<codeline lineno="4078"><highlight class="normal"></highlight></codeline>
<codeline lineno="4079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(extra_size_remaining<sp/>&lt;<sp/>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2))</highlight></codeline>
<codeline lineno="4080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="4081"><highlight class="normal"></highlight></codeline>
<codeline lineno="4082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_id<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pExtra_data);</highlight></codeline>
<codeline lineno="4083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_data_size<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pExtra_data<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>));</highlight></codeline>
<codeline lineno="4084"><highlight class="normal"></highlight></codeline>
<codeline lineno="4085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((field_data_size<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2)<sp/>&gt;<sp/>extra_size_remaining)</highlight></codeline>
<codeline lineno="4086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="4087"><highlight class="normal"></highlight></codeline>
<codeline lineno="4088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(field_id<sp/>==<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a76fd85fc5176e2615ec50dc9e9a850dc" kindref="member">MZ_ZIP64_EXTENDED_INFORMATION_FIELD_HEADER_ID</ref>)</highlight></codeline>
<codeline lineno="4089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pField_data<sp/>=<sp/>pExtra_data<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2;</highlight></codeline>
<codeline lineno="4091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>field_data_remaining<sp/>=<sp/>field_data_size;</highlight></codeline>
<codeline lineno="4092"><highlight class="normal"></highlight></codeline>
<codeline lineno="4093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pFound_zip64_extra_data)</highlight></codeline>
<codeline lineno="4094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pFound_zip64_extra_data<sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="4095"><highlight class="normal"></highlight></codeline>
<codeline lineno="4096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1aa55ee3580a844400d4bd43be27ae3808" kindref="member">m_uncomp_size</ref><sp/>==<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="4097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(field_data_remaining<sp/>&lt;<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>))</highlight></codeline>
<codeline lineno="4099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="4100"><highlight class="normal"></highlight></codeline>
<codeline lineno="4101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1aa55ee3580a844400d4bd43be27ae3808" kindref="member">m_uncomp_size</ref><sp/>=<sp/><ref refid="miniz_8h_1ae29c34529021741ba9d9032248a7a625" kindref="member">MZ_READ_LE64</ref>(pField_data);</highlight></codeline>
<codeline lineno="4102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pField_data<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>);</highlight></codeline>
<codeline lineno="4103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_data_remaining<sp/>-=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>);</highlight></codeline>
<codeline lineno="4104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4105"><highlight class="normal"></highlight></codeline>
<codeline lineno="4106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1ae2ac087fa11585219308de1677000ab3" kindref="member">m_comp_size</ref><sp/>==<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="4107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(field_data_remaining<sp/>&lt;<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>))</highlight></codeline>
<codeline lineno="4109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="4110"><highlight class="normal"></highlight></codeline>
<codeline lineno="4111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1ae2ac087fa11585219308de1677000ab3" kindref="member">m_comp_size</ref><sp/>=<sp/><ref refid="miniz_8h_1ae29c34529021741ba9d9032248a7a625" kindref="member">MZ_READ_LE64</ref>(pField_data);</highlight></codeline>
<codeline lineno="4112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pField_data<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>);</highlight></codeline>
<codeline lineno="4113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_data_remaining<sp/>-=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>);</highlight></codeline>
<codeline lineno="4114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4115"><highlight class="normal"></highlight></codeline>
<codeline lineno="4116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1acc27b6ca5dd7159c19bc3dc32e844ac7" kindref="member">m_local_header_ofs</ref><sp/>==<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="4117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(field_data_remaining<sp/>&lt;<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>))</highlight></codeline>
<codeline lineno="4119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="4120"><highlight class="normal"></highlight></codeline>
<codeline lineno="4121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pStat-&gt;<ref refid="structmz__zip__archive__file__stat_1acc27b6ca5dd7159c19bc3dc32e844ac7" kindref="member">m_local_header_ofs</ref><sp/>=<sp/><ref refid="miniz_8h_1ae29c34529021741ba9d9032248a7a625" kindref="member">MZ_READ_LE64</ref>(pField_data);</highlight></codeline>
<codeline lineno="4122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pField_data<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>);</highlight></codeline>
<codeline lineno="4123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_data_remaining<sp/>-=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>);</highlight></codeline>
<codeline lineno="4124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4125"><highlight class="normal"></highlight></codeline>
<codeline lineno="4126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4128"><highlight class="normal"></highlight></codeline>
<codeline lineno="4129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pExtra_data<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2<sp/>+<sp/>field_data_size;</highlight></codeline>
<codeline lineno="4130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_size_remaining<sp/>=<sp/>extra_size_remaining<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2<sp/>-<sp/>field_data_size;</highlight></codeline>
<codeline lineno="4131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(extra_size_remaining);</highlight></codeline>
<codeline lineno="4132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4133"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4134"><highlight class="normal"></highlight></codeline>
<codeline lineno="4135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="4136"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4137"><highlight class="normal"></highlight></codeline>
<codeline lineno="4138"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1ac48f0e1e64ceda14c01f224cd710ca3f" kindref="member">mz_zip_string_equal</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pA,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pB,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>len,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="4139"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4140"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>i;</highlight></codeline>
<codeline lineno="4141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a0b7f6f797da7a3d078535ba71ca00858abcc2b8dd27fc7b4889bbf2fa15896b3b" kindref="member">MZ_ZIP_FLAG_CASE_SENSITIVE</ref>)</highlight></codeline>
<codeline lineno="4142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0<sp/>==<sp/>memcmp(pA,<sp/>pB,<sp/>len);</highlight></codeline>
<codeline lineno="4143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>len;<sp/>++i)</highlight></codeline>
<codeline lineno="4144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8c_1a61d1f0e538f1b127ef8383e2d8c49f58" kindref="member">MZ_TOLOWER</ref>(pA[i])<sp/>!=<sp/><ref refid="miniz_8c_1a61d1f0e538f1b127ef8383e2d8c49f58" kindref="member">MZ_TOLOWER</ref>(pB[i]))</highlight></codeline>
<codeline lineno="4145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4146"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="4147"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4148"><highlight class="normal"></highlight></codeline>
<codeline lineno="4149"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a8e24b430eb7de694602135a799e1760a" kindref="member">mz_zip_filename_compare</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pCentral_dir_array,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pCentral_dir_offsets,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>l_index,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pR,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>r_len)</highlight></codeline>
<codeline lineno="4150"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4151"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pL<sp/>=<sp/>&amp;<ref refid="miniz_8c_1ad6e55a2b6b4b7d99a13f79301e949143" kindref="member">MZ_ZIP_ARRAY_ELEMENT</ref>(pCentral_dir_array,<sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>,<sp/><ref refid="miniz_8c_1ad6e55a2b6b4b7d99a13f79301e949143" kindref="member">MZ_ZIP_ARRAY_ELEMENT</ref>(pCentral_dir_offsets,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>,<sp/>l_index)),<sp/>*pE;</highlight></codeline>
<codeline lineno="4152"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>l_len<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pL<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03f4415315a96a9691344f193cef8da2" kindref="member">MZ_ZIP_CDH_FILENAME_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="4153"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>l<sp/>=<sp/>0,<sp/>r<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4154"><highlight class="normal"><sp/><sp/><sp/><sp/>pL<sp/>+=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac89e96bb4580c93ac5cc27ca0623b964" kindref="member">MZ_ZIP_CENTRAL_DIR_HEADER_SIZE</ref>;</highlight></codeline>
<codeline lineno="4155"><highlight class="normal"><sp/><sp/><sp/><sp/>pE<sp/>=<sp/>pL<sp/>+<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(l_len,<sp/>r_len);</highlight></codeline>
<codeline lineno="4156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(pL<sp/>&lt;<sp/>pE)</highlight></codeline>
<codeline lineno="4157"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((l<sp/>=<sp/><ref refid="miniz_8c_1a61d1f0e538f1b127ef8383e2d8c49f58" kindref="member">MZ_TOLOWER</ref>(*pL))<sp/>!=<sp/>(r<sp/>=<sp/><ref refid="miniz_8c_1a61d1f0e538f1b127ef8383e2d8c49f58" kindref="member">MZ_TOLOWER</ref>(*pR)))</highlight></codeline>
<codeline lineno="4159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pL++;</highlight></codeline>
<codeline lineno="4161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pR++;</highlight></codeline>
<codeline lineno="4162"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(pL<sp/>==<sp/>pE)<sp/>?<sp/>(int)(l_len<sp/>-<sp/>r_len)<sp/>:<sp/>(l<sp/>-<sp/>r);</highlight></codeline>
<codeline lineno="4164"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4165"><highlight class="normal"></highlight></codeline>
<codeline lineno="4166"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1aaac0bd73d99bf67e7b32be8acddc4718" kindref="member">mz_zip_locate_file_binary_search</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>*pIndex)</highlight></codeline>
<codeline lineno="4167"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4168"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref><sp/>*pState<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>;</highlight></codeline>
<codeline lineno="4169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pCentral_dir_offsets<sp/>=<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a51a9aa41f7499c7e6e4c2546aa965b9c" kindref="member">m_central_dir_offsets</ref>;</highlight></codeline>
<codeline lineno="4170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pCentral_dir<sp/>=<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>;</highlight></codeline>
<codeline lineno="4171"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>*pIndices<sp/>=<sp/>&amp;<ref refid="miniz_8c_1ad6e55a2b6b4b7d99a13f79301e949143" kindref="member">MZ_ZIP_ARRAY_ELEMENT</ref>(&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a1e3af54224b61cb20d6ceaeb5807bc33" kindref="member">m_sorted_central_dir_offsets</ref>,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="4172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint32_t<sp/>size<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>;</highlight></codeline>
<codeline lineno="4173"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>filename_len<sp/>=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)strlen(pFilename);</highlight></codeline>
<codeline lineno="4174"><highlight class="normal"></highlight></codeline>
<codeline lineno="4175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pIndex)</highlight></codeline>
<codeline lineno="4176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pIndex<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4177"><highlight class="normal"></highlight></codeline>
<codeline lineno="4178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(size)</highlight></codeline>
<codeline lineno="4179"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yes<sp/>I<sp/>could<sp/>use<sp/>uint32_t&apos;s,<sp/>but<sp/>then<sp/>we<sp/>would<sp/>have<sp/>to<sp/>add<sp/>some<sp/>special<sp/>case<sp/>checks<sp/>in<sp/>the<sp/>loop,<sp/>argh,<sp/>and<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>honestly<sp/>the<sp/>major<sp/>expense<sp/>here<sp/>on<sp/>32-bit<sp/>CPU&apos;s<sp/>will<sp/>still<sp/>be<sp/>the<sp/>filename<sp/>compare<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref><sp/>l<sp/>=<sp/>0,<sp/>h<sp/>=<sp/>(<ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref>)size<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="4183"><highlight class="normal"></highlight></codeline>
<codeline lineno="4184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(l<sp/>&lt;=<sp/>h)</highlight></codeline>
<codeline lineno="4185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref><sp/>m<sp/>=<sp/>l<sp/>+<sp/>((h<sp/>-<sp/>l)<sp/>&gt;&gt;<sp/>1);</highlight></codeline>
<codeline lineno="4187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>file_index<sp/>=<sp/>pIndices[(uint32_t)m];</highlight></codeline>
<codeline lineno="4188"><highlight class="normal"></highlight></codeline>
<codeline lineno="4189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>comp<sp/>=<sp/><ref refid="miniz_8c_1a8e24b430eb7de694602135a799e1760a" kindref="member">mz_zip_filename_compare</ref>(pCentral_dir,<sp/>pCentral_dir_offsets,<sp/>file_index,<sp/>pFilename,<sp/>filename_len);</highlight></codeline>
<codeline lineno="4190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!comp)</highlight></codeline>
<codeline lineno="4191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pIndex)</highlight></codeline>
<codeline lineno="4193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pIndex<sp/>=<sp/>file_index;</highlight></codeline>
<codeline lineno="4194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="4195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(comp<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="4197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>l<sp/>=<sp/>m<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="4198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>h<sp/>=<sp/>m<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="4200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4201"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4202"><highlight class="normal"></highlight></codeline>
<codeline lineno="4203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dad845112f4958dee455d1be8cc8e0fd04" kindref="member">MZ_ZIP_FILE_NOT_FOUND</ref>);</highlight></codeline>
<codeline lineno="4204"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4205"><highlight class="normal"></highlight></codeline>
<codeline lineno="4206"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a84813b57c1313c2e2d94a1f62d3ab9b3" kindref="member">mz_zip_reader_locate_file</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pName,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pComment,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="4207"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4208"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>index;</highlight></codeline>
<codeline lineno="4209"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a4d12d37b3d14f7dfb0312433b7940d7e" kindref="member">mz_zip_reader_locate_file_v2</ref>(pZip,<sp/>pName,<sp/>pComment,<sp/>flags,<sp/>&amp;index))</highlight></codeline>
<codeline lineno="4210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="4211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)index;</highlight></codeline>
<codeline lineno="4213"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4214"><highlight class="normal"></highlight></codeline>
<codeline lineno="4215"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a4d12d37b3d14f7dfb0312433b7940d7e" kindref="member">mz_zip_reader_locate_file_v2</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pName,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pComment,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>*pIndex)</highlight></codeline>
<codeline lineno="4216"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4217"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_index;</highlight></codeline>
<codeline lineno="4218"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="control__common__def_8h_1abb146d97cc2ccfa51c6ffbd915609c62" kindref="member">name_len</ref>,<sp/>comment_len;</highlight></codeline>
<codeline lineno="4219"><highlight class="normal"></highlight></codeline>
<codeline lineno="4220"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pIndex)</highlight></codeline>
<codeline lineno="4221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pIndex<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4222"><highlight class="normal"></highlight></codeline>
<codeline lineno="4223"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)<sp/>||<sp/>(!pName))</highlight></codeline>
<codeline lineno="4224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="4225"><highlight class="normal"></highlight></codeline>
<codeline lineno="4226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>See<sp/>if<sp/>we<sp/>can<sp/>use<sp/>a<sp/>binary<sp/>search<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1aa247669a24b55b9b9e86f732ea175bce" kindref="member">m_init_flags</ref><sp/>&amp;<sp/><ref refid="miniz_8h_1a0b7f6f797da7a3d078535ba71ca00858ab09115999c35684b92cd771f65909e39" kindref="member">MZ_ZIP_FLAG_DO_NOT_SORT_CENTRAL_DIRECTORY</ref>)<sp/>==<sp/>0)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="4228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>==<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a40c391220d01d172a451f3dad0d5aed6" kindref="member">MZ_ZIP_MODE_READING</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="4229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((flags<sp/>&amp;<sp/>(<ref refid="miniz_8h_1a0b7f6f797da7a3d078535ba71ca00858aee414b99330e685f4405b2c5ba3bcc1e" kindref="member">MZ_ZIP_FLAG_IGNORE_PATH</ref><sp/>|<sp/>MZ_ZIP_FLAG_CASE_SENSITIVE))<sp/>==<sp/>0)<sp/>&amp;&amp;<sp/>(!pComment)<sp/>&amp;&amp;<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a1e3af54224b61cb20d6ceaeb5807bc33" kindref="member">m_sorted_central_dir_offsets</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref>))</highlight></codeline>
<codeline lineno="4230"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1aaac0bd73d99bf67e7b32be8acddc4718" kindref="member">mz_zip_locate_file_binary_search</ref>(pZip,<sp/>pName,<sp/>pIndex);</highlight></codeline>
<codeline lineno="4232"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4233"><highlight class="normal"></highlight></codeline>
<codeline lineno="4234"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Locate<sp/>the<sp/>entry<sp/>by<sp/>scanning<sp/>the<sp/>entire<sp/>central<sp/>directory<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4235"><highlight class="normal"><sp/><sp/><sp/><sp/>name_len<sp/>=<sp/>strlen(pName);</highlight></codeline>
<codeline lineno="4236"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(name_len<sp/>&gt;<sp/><ref refid="miniz_8h_1a512356d187ddd5c72e3123703d60b6cf" kindref="member">MZ_UINT16_MAX</ref>)</highlight></codeline>
<codeline lineno="4237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="4238"><highlight class="normal"></highlight></codeline>
<codeline lineno="4239"><highlight class="normal"><sp/><sp/><sp/><sp/>comment_len<sp/>=<sp/>pComment<sp/>?<sp/>strlen(pComment)<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="4240"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(comment_len<sp/>&gt;<sp/><ref refid="miniz_8h_1a512356d187ddd5c72e3123703d60b6cf" kindref="member">MZ_UINT16_MAX</ref>)</highlight></codeline>
<codeline lineno="4241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="4242"><highlight class="normal"></highlight></codeline>
<codeline lineno="4243"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(file_index<sp/>=<sp/>0;<sp/>file_index<sp/>&lt;<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>;<sp/>file_index++)</highlight></codeline>
<codeline lineno="4244"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pHeader<sp/>=<sp/>&amp;<ref refid="miniz_8c_1ad6e55a2b6b4b7d99a13f79301e949143" kindref="member">MZ_ZIP_ARRAY_ELEMENT</ref>(&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>,<sp/><ref refid="miniz_8c_1ad6e55a2b6b4b7d99a13f79301e949143" kindref="member">MZ_ZIP_ARRAY_ELEMENT</ref>(&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a51a9aa41f7499c7e6e4c2546aa965b9c" kindref="member">m_central_dir_offsets</ref>,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>,<sp/>file_index));</highlight></codeline>
<codeline lineno="4246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>filename_len<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pHeader<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03f4415315a96a9691344f193cef8da2" kindref="member">MZ_ZIP_CDH_FILENAME_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="4247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)pHeader<sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE;</highlight></codeline>
<codeline lineno="4248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(filename_len<sp/>&lt;<sp/>name_len)</highlight></codeline>
<codeline lineno="4249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(comment_len)</highlight></codeline>
<codeline lineno="4251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_extra_len<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pHeader<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5a7ea82498b1ffd464965872fe507d8b" kindref="member">MZ_ZIP_CDH_EXTRA_LEN_OFS</ref>),<sp/>file_comment_len<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pHeader<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac67dc228d5e122d1ad9cd42072e65c1d" kindref="member">MZ_ZIP_CDH_COMMENT_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="4253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFile_comment<sp/>=<sp/>pFilename<sp/>+<sp/>filename_len<sp/>+<sp/>file_extra_len;</highlight></codeline>
<codeline lineno="4254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((file_comment_len<sp/>!=<sp/>comment_len)<sp/>||<sp/>(!<ref refid="miniz_8c_1ac48f0e1e64ceda14c01f224cd710ca3f" kindref="member">mz_zip_string_equal</ref>(pComment,<sp/>pFile_comment,<sp/>file_comment_len,<sp/>flags)))</highlight></codeline>
<codeline lineno="4255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a0b7f6f797da7a3d078535ba71ca00858aee414b99330e685f4405b2c5ba3bcc1e" kindref="member">MZ_ZIP_FLAG_IGNORE_PATH</ref>)<sp/>&amp;&amp;<sp/>(filename_len))</highlight></codeline>
<codeline lineno="4258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ofs<sp/>=<sp/>filename_len<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="4260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pFilename[ofs]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;/&apos;</highlight><highlight class="normal">)<sp/>||<sp/>(pFilename[ofs]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;\\&apos;</highlight><highlight class="normal">)<sp/>||<sp/>(pFilename[ofs]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;:&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="4263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(--ofs<sp/>&gt;=<sp/>0);</highlight></codeline>
<codeline lineno="4265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ofs++;</highlight></codeline>
<codeline lineno="4266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pFilename<sp/>+=<sp/>ofs;</highlight></codeline>
<codeline lineno="4267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filename_len<sp/>-=<sp/>ofs;</highlight></codeline>
<codeline lineno="4268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((filename_len<sp/>==<sp/>name_len)<sp/>&amp;&amp;<sp/>(<ref refid="miniz_8c_1ac48f0e1e64ceda14c01f224cd710ca3f" kindref="member">mz_zip_string_equal</ref>(pName,<sp/>pFilename,<sp/>filename_len,<sp/>flags)))</highlight></codeline>
<codeline lineno="4270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pIndex)</highlight></codeline>
<codeline lineno="4272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pIndex<sp/>=<sp/>file_index;</highlight></codeline>
<codeline lineno="4273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="4274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4275"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4276"><highlight class="normal"></highlight></codeline>
<codeline lineno="4277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dad845112f4958dee455d1be8cc8e0fd04" kindref="member">MZ_ZIP_FILE_NOT_FOUND</ref>);</highlight></codeline>
<codeline lineno="4278"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4279"><highlight class="normal"></highlight></codeline>
<codeline lineno="4280"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a4721777518994d4d3ba978e427565e28" kindref="member">mz_zip_reader_extract_to_mem_no_alloc</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_index,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>buf_size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pUser_read_buf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>user_read_buf_size)</highlight></codeline>
<codeline lineno="4281"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4af9316c69027621352f435c9a343f1042" kindref="member">TINFL_STATUS_DONE</ref>;</highlight></codeline>
<codeline lineno="4283"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>needed_size,<sp/>cur_file_ofs,<sp/>comp_remaining,<sp/>out_buf_ofs<sp/>=<sp/>0,<sp/>read_buf_size,<sp/>read_buf_ofs<sp/>=<sp/>0,<sp/>read_buf_avail;</highlight></codeline>
<codeline lineno="4284"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__archive__file__stat" kindref="compound">mz_zip_archive_file_stat</ref><sp/>file_stat;</highlight></codeline>
<codeline lineno="4285"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pRead_buf;</highlight></codeline>
<codeline lineno="4286"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>local_header_u32[(<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref><sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>-<sp/>1)<sp/>/<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)];</highlight></codeline>
<codeline lineno="4287"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pLocal_header<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)local_header_u32;</highlight></codeline>
<codeline lineno="4288"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtinfl__decompressor__tag" kindref="compound">tinfl_decompressor</ref><sp/>inflator;</highlight></codeline>
<codeline lineno="4289"><highlight class="normal"></highlight></codeline>
<codeline lineno="4290"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)<sp/>||<sp/>((buf_size)<sp/>&amp;&amp;<sp/>(!pBuf))<sp/>||<sp/>((user_read_buf_size)<sp/>&amp;&amp;<sp/>(!pUser_read_buf))<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>))</highlight></codeline>
<codeline lineno="4291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="4292"><highlight class="normal"></highlight></codeline>
<codeline lineno="4293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1aa9d3abc65b4b9b91efc437ec151e9c99" kindref="member">mz_zip_reader_file_stat</ref>(pZip,<sp/>file_index,<sp/>&amp;file_stat))</highlight></codeline>
<codeline lineno="4294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4295"><highlight class="normal"></highlight></codeline>
<codeline lineno="4296"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>A<sp/>directory<sp/>or<sp/>zero<sp/>length<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4297"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((file_stat.m_is_directory)<sp/>||<sp/>(!file_stat.m_comp_size))</highlight></codeline>
<codeline lineno="4298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="4299"><highlight class="normal"></highlight></codeline>
<codeline lineno="4300"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Encryption<sp/>and<sp/>patch<sp/>files<sp/>are<sp/>not<sp/>supported.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4301"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(file_stat.m_bit_flag<sp/>&amp;<sp/>(<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aee3f29c6ca80f7c1ba12e8d4620980b0" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_IS_ENCRYPTED</ref><sp/>|<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a9065070139fca1d195692b1009357e3c" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_USES_STRONG_ENCRYPTION</ref><sp/>|<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a3df7ccd884899093e2cc9cf6411f5743" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_COMPRESSED_PATCH_FLAG</ref>))</highlight></codeline>
<codeline lineno="4302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da6d29d37c6300c91cb5fc9a66d1cb1db1" kindref="member">MZ_ZIP_UNSUPPORTED_ENCRYPTION</ref>);</highlight></codeline>
<codeline lineno="4303"><highlight class="normal"></highlight></codeline>
<codeline lineno="4304"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>function<sp/>only<sp/>supports<sp/>decompressing<sp/>stored<sp/>and<sp/>deflate.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4305"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!(flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a0b7f6f797da7a3d078535ba71ca00858a8bd495808a247010b31dc240588f51d9" kindref="member">MZ_ZIP_FLAG_COMPRESSED_DATA</ref>))<sp/>&amp;&amp;<sp/>(file_stat.m_method<sp/>!=<sp/>0)<sp/>&amp;&amp;<sp/>(file_stat.m_method<sp/>!=<sp/><ref refid="miniz_8h_1a3e92e9b3cc525db1fd503d9630ec1bf5" kindref="member">MZ_DEFLATED</ref>))</highlight></codeline>
<codeline lineno="4306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da003e8bf2463b5f3849242b3808e4d6fe" kindref="member">MZ_ZIP_UNSUPPORTED_METHOD</ref>);</highlight></codeline>
<codeline lineno="4307"><highlight class="normal"></highlight></codeline>
<codeline lineno="4308"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ensure<sp/>supplied<sp/>output<sp/>buffer<sp/>is<sp/>large<sp/>enough.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4309"><highlight class="normal"><sp/><sp/><sp/><sp/>needed_size<sp/>=<sp/>(flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a0b7f6f797da7a3d078535ba71ca00858a8bd495808a247010b31dc240588f51d9" kindref="member">MZ_ZIP_FLAG_COMPRESSED_DATA</ref>)<sp/>?<sp/>file_stat.m_comp_size<sp/>:<sp/>file_stat.m_uncomp_size;</highlight></codeline>
<codeline lineno="4310"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>(buf_size<sp/>&lt;<sp/>needed_size)</highlight></codeline>
<codeline lineno="4311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da4dd840e5a7def295e6a0a5eb8785a024" kindref="member">MZ_ZIP_BUF_TOO_SMALL</ref>);</highlight></codeline>
<codeline lineno="4312"><highlight class="normal"></highlight></codeline>
<codeline lineno="4313"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>and<sp/>parse<sp/>the<sp/>local<sp/>directory<sp/>entry.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4314"><highlight class="normal"><sp/><sp/><sp/><sp/>cur_file_ofs<sp/>=<sp/>file_stat.m_local_header_ofs;</highlight></codeline>
<codeline lineno="4315"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_file_ofs,<sp/>pLocal_header,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>)<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>)</highlight></codeline>
<codeline lineno="4316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="4317"><highlight class="normal"></highlight></codeline>
<codeline lineno="4318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pLocal_header)<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a05f28665e3880ca5863fff3ca58129b6" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIG</ref>)</highlight></codeline>
<codeline lineno="4319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="4320"><highlight class="normal"></highlight></codeline>
<codeline lineno="4321"><highlight class="normal"><sp/><sp/><sp/><sp/>cur_file_ofs<sp/>+=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref><sp/>+<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pLocal_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4990e590f2652f0d540c3eb35e3f650f" kindref="member">MZ_ZIP_LDH_FILENAME_LEN_OFS</ref>)<sp/>+<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pLocal_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aaecc052d653e298f93b9c5523c98f5f2" kindref="member">MZ_ZIP_LDH_EXTRA_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="4322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((cur_file_ofs<sp/>+<sp/>file_stat.m_comp_size)<sp/>&gt;<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref>)</highlight></codeline>
<codeline lineno="4323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="4324"><highlight class="normal"></highlight></codeline>
<codeline lineno="4325"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_COMPRESSED_DATA)<sp/>||<sp/>(!file_stat.m_method))</highlight></codeline>
<codeline lineno="4326"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>The<sp/>file<sp/>is<sp/>stored<sp/>or<sp/>the<sp/>caller<sp/>has<sp/>requested<sp/>the<sp/>compressed<sp/>data.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_file_ofs,<sp/>pBuf,<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)needed_size)<sp/>!=<sp/>needed_size)</highlight></codeline>
<codeline lineno="4329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="4330"><highlight class="normal"></highlight></codeline>
<codeline lineno="4331"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_DISABLE_ZIP_READER_CRC32_CHECKS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_COMPRESSED_DATA)<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="4333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8c_1a8b7cb38252f297265f6b850ab4ae0f01" kindref="member">mz_crc32</ref>(<ref refid="miniz_8h_1a4e28761db3f5f136f790563dd13a08d6" kindref="member">MZ_CRC32_INIT</ref>,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pBuf,<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)file_stat.m_uncomp_size)<sp/>!=<sp/>file_stat.m_crc32)</highlight></codeline>
<codeline lineno="4335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da388518d305e53c51b07205856d0a8464" kindref="member">MZ_ZIP_CRC_CHECK_FAILED</ref>);</highlight></codeline>
<codeline lineno="4336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4337"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4338"><highlight class="normal"></highlight></codeline>
<codeline lineno="4339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="4340"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4341"><highlight class="normal"></highlight></codeline>
<codeline lineno="4342"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Decompress<sp/>the<sp/>file<sp/>either<sp/>directly<sp/>from<sp/>memory<sp/>or<sp/>from<sp/>a<sp/>file<sp/>input<sp/>buffer.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4343"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a38425ff8609fe5fe5a9a48612e6f3e46" kindref="member">tinfl_init</ref>(&amp;inflator);</highlight></codeline>
<codeline lineno="4344"><highlight class="normal"></highlight></codeline>
<codeline lineno="4345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref>)</highlight></codeline>
<codeline lineno="4346"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>directly<sp/>from<sp/>the<sp/>archive<sp/>in<sp/>memory.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pRead_buf<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref><sp/>+<sp/>cur_file_ofs;</highlight></codeline>
<codeline lineno="4349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_size<sp/>=<sp/>read_buf_avail<sp/>=<sp/>file_stat.m_comp_size;</highlight></codeline>
<codeline lineno="4350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_remaining<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4351"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4352"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pUser_read_buf)</highlight></codeline>
<codeline lineno="4353"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Use<sp/>a<sp/>user<sp/>provided<sp/>read<sp/>buffer.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!user_read_buf_size)</highlight></codeline>
<codeline lineno="4356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pRead_buf<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pUser_read_buf;</highlight></codeline>
<codeline lineno="4358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_size<sp/>=<sp/>user_read_buf_size;</highlight></codeline>
<codeline lineno="4359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_avail<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_remaining<sp/>=<sp/>file_stat.m_comp_size;</highlight></codeline>
<codeline lineno="4361"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4362"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4363"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Temporarily<sp/>allocate<sp/>a<sp/>read<sp/>buffer.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_size<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(file_stat.m_comp_size,<sp/>(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)<ref refid="miniz_8h_1ac36f475ca5b446f4fde4c9b90bec77c8a5b5935618c8f80bac84484ffa644df05" kindref="member">MZ_ZIP_MAX_IO_BUF_SIZE</ref>);</highlight></codeline>
<codeline lineno="4366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)<sp/>==<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)))<sp/>&amp;&amp;<sp/>(read_buf_size<sp/>&gt;<sp/>0x7FFFFFFF))</highlight></codeline>
<codeline lineno="4367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da399161cc4d02bf0bb1815089d2bbdeb8" kindref="member">MZ_ZIP_INTERNAL_ERROR</ref>);</highlight></codeline>
<codeline lineno="4368"><highlight class="normal"></highlight></codeline>
<codeline lineno="4369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>(pRead_buf<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>1,<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)read_buf_size)))</highlight></codeline>
<codeline lineno="4370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="4371"><highlight class="normal"></highlight></codeline>
<codeline lineno="4372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_avail<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_remaining<sp/>=<sp/>file_stat.m_comp_size;</highlight></codeline>
<codeline lineno="4374"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4375"><highlight class="normal"></highlight></codeline>
<codeline lineno="4376"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4377"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>The<sp/>size_t<sp/>cast<sp/>here<sp/>should<sp/>be<sp/>OK<sp/>because<sp/>we&apos;ve<sp/>verified<sp/>that<sp/>the<sp/>output<sp/>buffer<sp/>is<sp/>&gt;=<sp/>file_stat.m_uncomp_size<sp/>above<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>in_buf_size,<sp/>out_buf_size<sp/>=<sp/>(size_t)(file_stat.m_uncomp_size<sp/>-<sp/>out_buf_ofs);</highlight></codeline>
<codeline lineno="4380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!read_buf_avail)<sp/>&amp;&amp;<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref>))</highlight></codeline>
<codeline lineno="4381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_avail<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(read_buf_size,<sp/>comp_remaining);</highlight></codeline>
<codeline lineno="4383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_file_ofs,<sp/>pRead_buf,<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)read_buf_avail)<sp/>!=<sp/>read_buf_avail)</highlight></codeline>
<codeline lineno="4384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>;</highlight></codeline>
<codeline lineno="4386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa713f636687cfc5db4a588d6378a6a10" kindref="member">MZ_ZIP_DECOMPRESSION_FAILED</ref>);</highlight></codeline>
<codeline lineno="4387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_file_ofs<sp/>+=<sp/>read_buf_avail;</highlight></codeline>
<codeline lineno="4390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_remaining<sp/>-=<sp/>read_buf_avail;</highlight></codeline>
<codeline lineno="4391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_ofs<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in_buf_size<sp/>=<sp/>(size_t)read_buf_avail;</highlight></codeline>
<codeline lineno="4394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8c_1ac4e4c006d234780922676ecc31fe1416" kindref="member">tinfl_decompress</ref>(&amp;inflator,<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pRead_buf<sp/>+<sp/>read_buf_ofs,<sp/>&amp;in_buf_size,<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pBuf,<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pBuf<sp/>+<sp/>out_buf_ofs,<sp/>&amp;out_buf_size,<sp/>TINFL_FLAG_USING_NON_WRAPPING_OUTPUT_BUF<sp/>|<sp/>(comp_remaining<sp/>?<sp/><ref refid="miniz_8h_1a385c44f6fb256e5716a2302a5b940388a2eb96c68c6a8df342d8f12d7efcf96c1" kindref="member">TINFL_FLAG_HAS_MORE_INPUT</ref><sp/>:<sp/>0));</highlight></codeline>
<codeline lineno="4395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_avail<sp/>-=<sp/>in_buf_size;</highlight></codeline>
<codeline lineno="4396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_ofs<sp/>+=<sp/>in_buf_size;</highlight></codeline>
<codeline lineno="4397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out_buf_ofs<sp/>+=<sp/>out_buf_size;</highlight></codeline>
<codeline lineno="4398"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(status<sp/>==<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a4150e95aacd9bf414c6f9155263b60e8" kindref="member">TINFL_STATUS_NEEDS_MORE_INPUT</ref>);</highlight></codeline>
<codeline lineno="4399"><highlight class="normal"></highlight></codeline>
<codeline lineno="4400"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>==<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4af9316c69027621352f435c9a343f1042" kindref="member">TINFL_STATUS_DONE</ref>)</highlight></codeline>
<codeline lineno="4401"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Make<sp/>sure<sp/>the<sp/>entire<sp/>file<sp/>was<sp/>decompressed,<sp/>and<sp/>check<sp/>its<sp/>CRC.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(out_buf_ofs<sp/>!=<sp/>file_stat.m_uncomp_size)</highlight></codeline>
<codeline lineno="4404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dae3b0b6f3ca889a916c69c518a54ee755" kindref="member">MZ_ZIP_UNEXPECTED_DECOMPRESSED_SIZE</ref>);</highlight></codeline>
<codeline lineno="4406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>;</highlight></codeline>
<codeline lineno="4407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4408"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_DISABLE_ZIP_READER_CRC32_CHECKS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8c_1a8b7cb38252f297265f6b850ab4ae0f01" kindref="member">mz_crc32</ref>(<ref refid="miniz_8h_1a4e28761db3f5f136f790563dd13a08d6" kindref="member">MZ_CRC32_INIT</ref>,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pBuf,<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)file_stat.m_uncomp_size)<sp/>!=<sp/>file_stat.m_crc32)</highlight></codeline>
<codeline lineno="4410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da388518d305e53c51b07205856d0a8464" kindref="member">MZ_ZIP_CRC_CHECK_FAILED</ref>);</highlight></codeline>
<codeline lineno="4412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>;</highlight></codeline>
<codeline lineno="4413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4414"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4415"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4416"><highlight class="normal"></highlight></codeline>
<codeline lineno="4417"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref>)<sp/>&amp;&amp;<sp/>(!pUser_read_buf))</highlight></codeline>
<codeline lineno="4418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pRead_buf);</highlight></codeline>
<codeline lineno="4419"><highlight class="normal"></highlight></codeline>
<codeline lineno="4420"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status<sp/>==<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4af9316c69027621352f435c9a343f1042" kindref="member">TINFL_STATUS_DONE</ref>;</highlight></codeline>
<codeline lineno="4421"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4422"><highlight class="normal"></highlight></codeline>
<codeline lineno="4423"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1ac16cec09731400cc18c3b907340ef601" kindref="member">mz_zip_reader_extract_file_to_mem_no_alloc</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>buf_size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pUser_read_buf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>user_read_buf_size)</highlight></codeline>
<codeline lineno="4424"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4425"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>file_index;</highlight></codeline>
<codeline lineno="4426"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a4d12d37b3d14f7dfb0312433b7940d7e" kindref="member">mz_zip_reader_locate_file_v2</ref>(pZip,<sp/>pFilename,<sp/>NULL,<sp/>flags,<sp/>&amp;file_index))</highlight></codeline>
<codeline lineno="4427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4428"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a4721777518994d4d3ba978e427565e28" kindref="member">mz_zip_reader_extract_to_mem_no_alloc</ref>(pZip,<sp/>file_index,<sp/>pBuf,<sp/>buf_size,<sp/>flags,<sp/>pUser_read_buf,<sp/>user_read_buf_size);</highlight></codeline>
<codeline lineno="4429"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4430"><highlight class="normal"></highlight></codeline>
<codeline lineno="4431"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a9aa631c7bc8147b39b6d8a910682463e" kindref="member">mz_zip_reader_extract_to_mem</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_index,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>buf_size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="4432"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4433"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a4721777518994d4d3ba978e427565e28" kindref="member">mz_zip_reader_extract_to_mem_no_alloc</ref>(pZip,<sp/>file_index,<sp/>pBuf,<sp/>buf_size,<sp/>flags,<sp/>NULL,<sp/>0);</highlight></codeline>
<codeline lineno="4434"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4435"><highlight class="normal"></highlight></codeline>
<codeline lineno="4436"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1abb734054fc4e51026c1187aa8a12a1f8" kindref="member">mz_zip_reader_extract_file_to_mem</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>buf_size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="4437"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4438"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1ac16cec09731400cc18c3b907340ef601" kindref="member">mz_zip_reader_extract_file_to_mem_no_alloc</ref>(pZip,<sp/>pFilename,<sp/>pBuf,<sp/>buf_size,<sp/>flags,<sp/>NULL,<sp/>0);</highlight></codeline>
<codeline lineno="4439"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4440"><highlight class="normal"></highlight></codeline>
<codeline lineno="4441"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="miniz_8c_1a7387530cd78979243538a5c87132b64b" kindref="member">mz_zip_reader_extract_to_heap</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_index,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*pSize,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="4442"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4443"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>comp_size,<sp/>uncomp_size,<sp/>alloc_size;</highlight></codeline>
<codeline lineno="4444"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*p<sp/>=<sp/><ref refid="miniz_8c_1abb036541231e500526a12a35e3bd0eae" kindref="member">mz_zip_get_cdh</ref>(pZip,<sp/>file_index);</highlight></codeline>
<codeline lineno="4445"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf;</highlight></codeline>
<codeline lineno="4446"><highlight class="normal"></highlight></codeline>
<codeline lineno="4447"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pSize)</highlight></codeline>
<codeline lineno="4448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pSize<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4449"><highlight class="normal"></highlight></codeline>
<codeline lineno="4450"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!p)</highlight></codeline>
<codeline lineno="4451"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="4453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="4454"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4455"><highlight class="normal"></highlight></codeline>
<codeline lineno="4456"><highlight class="normal"><sp/><sp/><sp/><sp/>comp_size<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2a463b99b8d0699bda4e3a52dd1d1015" kindref="member">MZ_ZIP_CDH_COMPRESSED_SIZE_OFS</ref>);</highlight></codeline>
<codeline lineno="4457"><highlight class="normal"><sp/><sp/><sp/><sp/>uncomp_size<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a43afeb736295b1f90330d79db8420c9e" kindref="member">MZ_ZIP_CDH_DECOMPRESSED_SIZE_OFS</ref>);</highlight></codeline>
<codeline lineno="4458"><highlight class="normal"></highlight></codeline>
<codeline lineno="4459"><highlight class="normal"><sp/><sp/><sp/><sp/>alloc_size<sp/>=<sp/>(flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a0b7f6f797da7a3d078535ba71ca00858a8bd495808a247010b31dc240588f51d9" kindref="member">MZ_ZIP_FLAG_COMPRESSED_DATA</ref>)<sp/>?<sp/>comp_size<sp/>:<sp/>uncomp_size;</highlight></codeline>
<codeline lineno="4460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)<sp/>==<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)))<sp/>&amp;&amp;<sp/>(alloc_size<sp/>&gt;<sp/>0x7FFFFFFF))</highlight></codeline>
<codeline lineno="4461"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da399161cc4d02bf0bb1815089d2bbdeb8" kindref="member">MZ_ZIP_INTERNAL_ERROR</ref>);</highlight></codeline>
<codeline lineno="4463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="4464"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4465"><highlight class="normal"></highlight></codeline>
<codeline lineno="4466"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>(pBuf<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>1,<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)alloc_size)))</highlight></codeline>
<codeline lineno="4467"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="4469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="4470"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4471"><highlight class="normal"></highlight></codeline>
<codeline lineno="4472"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a9aa631c7bc8147b39b6d8a910682463e" kindref="member">mz_zip_reader_extract_to_mem</ref>(pZip,<sp/>file_index,<sp/>pBuf,<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)alloc_size,<sp/>flags))</highlight></codeline>
<codeline lineno="4473"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pBuf);</highlight></codeline>
<codeline lineno="4475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="4476"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4477"><highlight class="normal"></highlight></codeline>
<codeline lineno="4478"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pSize)</highlight></codeline>
<codeline lineno="4479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pSize<sp/>=<sp/>(size_t)alloc_size;</highlight></codeline>
<codeline lineno="4480"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pBuf;</highlight></codeline>
<codeline lineno="4481"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4482"><highlight class="normal"></highlight></codeline>
<codeline lineno="4483"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="miniz_8c_1ac0301a766ca6023da1a58f3a3f3333c7" kindref="member">mz_zip_reader_extract_file_to_heap</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*pSize,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="4484"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4485"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>file_index;</highlight></codeline>
<codeline lineno="4486"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a4d12d37b3d14f7dfb0312433b7940d7e" kindref="member">mz_zip_reader_locate_file_v2</ref>(pZip,<sp/>pFilename,<sp/>NULL,<sp/>flags,<sp/>&amp;file_index))</highlight></codeline>
<codeline lineno="4487"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pSize)</highlight></codeline>
<codeline lineno="4489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pSize<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4491"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4492"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a7387530cd78979243538a5c87132b64b" kindref="member">mz_zip_reader_extract_to_heap</ref>(pZip,<sp/>file_index,<sp/>pSize,<sp/>flags);</highlight></codeline>
<codeline lineno="4493"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4494"><highlight class="normal"></highlight></codeline>
<codeline lineno="4495"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a607bba163f72b6728191504c53bf70a8" kindref="member">mz_zip_reader_extract_to_callback</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_index,<sp/><ref refid="miniz_8h_1a20dd8c64af05b367626a8e151c78e521" kindref="member">mz_file_write_func</ref><sp/>pCallback,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pOpaque,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="4496"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4497"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4af9316c69027621352f435c9a343f1042" kindref="member">TINFL_STATUS_DONE</ref>;</highlight></codeline>
<codeline lineno="4498"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_crc32<sp/>=<sp/><ref refid="miniz_8h_1a4e28761db3f5f136f790563dd13a08d6" kindref="member">MZ_CRC32_INIT</ref>;</highlight></codeline>
<codeline lineno="4499"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>read_buf_size,<sp/>read_buf_ofs<sp/>=<sp/>0,<sp/>read_buf_avail,<sp/>comp_remaining,<sp/>out_buf_ofs<sp/>=<sp/>0,<sp/>cur_file_ofs;</highlight></codeline>
<codeline lineno="4500"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__archive__file__stat" kindref="compound">mz_zip_archive_file_stat</ref><sp/>file_stat;</highlight></codeline>
<codeline lineno="4501"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pRead_buf<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="4502"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pWrite_buf<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="4503"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>local_header_u32[(<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref><sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>-<sp/>1)<sp/>/<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)];</highlight></codeline>
<codeline lineno="4504"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pLocal_header<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)local_header_u32;</highlight></codeline>
<codeline lineno="4505"><highlight class="normal"></highlight></codeline>
<codeline lineno="4506"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)<sp/>||<sp/>(!pCallback)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>))</highlight></codeline>
<codeline lineno="4507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="4508"><highlight class="normal"></highlight></codeline>
<codeline lineno="4509"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1aa9d3abc65b4b9b91efc437ec151e9c99" kindref="member">mz_zip_reader_file_stat</ref>(pZip,<sp/>file_index,<sp/>&amp;file_stat))</highlight></codeline>
<codeline lineno="4510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4511"><highlight class="normal"></highlight></codeline>
<codeline lineno="4512"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>A<sp/>directory<sp/>or<sp/>zero<sp/>length<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4513"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((file_stat.m_is_directory)<sp/>||<sp/>(!file_stat.m_comp_size))</highlight></codeline>
<codeline lineno="4514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="4515"><highlight class="normal"></highlight></codeline>
<codeline lineno="4516"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Encryption<sp/>and<sp/>patch<sp/>files<sp/>are<sp/>not<sp/>supported.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4517"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(file_stat.m_bit_flag<sp/>&amp;<sp/>(<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aee3f29c6ca80f7c1ba12e8d4620980b0" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_IS_ENCRYPTED</ref><sp/>|<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a9065070139fca1d195692b1009357e3c" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_USES_STRONG_ENCRYPTION</ref><sp/>|<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a3df7ccd884899093e2cc9cf6411f5743" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_COMPRESSED_PATCH_FLAG</ref>))</highlight></codeline>
<codeline lineno="4518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da6d29d37c6300c91cb5fc9a66d1cb1db1" kindref="member">MZ_ZIP_UNSUPPORTED_ENCRYPTION</ref>);</highlight></codeline>
<codeline lineno="4519"><highlight class="normal"></highlight></codeline>
<codeline lineno="4520"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>function<sp/>only<sp/>supports<sp/>decompressing<sp/>stored<sp/>and<sp/>deflate.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4521"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!(flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_COMPRESSED_DATA))<sp/>&amp;&amp;<sp/>(file_stat.m_method<sp/>!=<sp/>0)<sp/>&amp;&amp;<sp/>(file_stat.m_method<sp/>!=<sp/><ref refid="miniz_8h_1a3e92e9b3cc525db1fd503d9630ec1bf5" kindref="member">MZ_DEFLATED</ref>))</highlight></codeline>
<codeline lineno="4522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da003e8bf2463b5f3849242b3808e4d6fe" kindref="member">MZ_ZIP_UNSUPPORTED_METHOD</ref>);</highlight></codeline>
<codeline lineno="4523"><highlight class="normal"></highlight></codeline>
<codeline lineno="4524"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>and<sp/>do<sp/>some<sp/>minimal<sp/>validation<sp/>of<sp/>the<sp/>local<sp/>directory<sp/>entry<sp/>(this<sp/>doesn&apos;t<sp/>crack<sp/>the<sp/>zip64<sp/>stuff,<sp/>which<sp/>we<sp/>already<sp/>have<sp/>from<sp/>the<sp/>central<sp/>dir)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4525"><highlight class="normal"><sp/><sp/><sp/><sp/>cur_file_ofs<sp/>=<sp/>file_stat.m_local_header_ofs;</highlight></codeline>
<codeline lineno="4526"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_file_ofs,<sp/>pLocal_header,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>)<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>)</highlight></codeline>
<codeline lineno="4527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="4528"><highlight class="normal"></highlight></codeline>
<codeline lineno="4529"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pLocal_header)<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a05f28665e3880ca5863fff3ca58129b6" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIG</ref>)</highlight></codeline>
<codeline lineno="4530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="4531"><highlight class="normal"></highlight></codeline>
<codeline lineno="4532"><highlight class="normal"><sp/><sp/><sp/><sp/>cur_file_ofs<sp/>+=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref><sp/>+<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pLocal_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4990e590f2652f0d540c3eb35e3f650f" kindref="member">MZ_ZIP_LDH_FILENAME_LEN_OFS</ref>)<sp/>+<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pLocal_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aaecc052d653e298f93b9c5523c98f5f2" kindref="member">MZ_ZIP_LDH_EXTRA_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="4533"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((cur_file_ofs<sp/>+<sp/>file_stat.m_comp_size)<sp/>&gt;<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref>)</highlight></codeline>
<codeline lineno="4534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="4535"><highlight class="normal"></highlight></codeline>
<codeline lineno="4536"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Decompress<sp/>the<sp/>file<sp/>either<sp/>directly<sp/>from<sp/>memory<sp/>or<sp/>from<sp/>a<sp/>file<sp/>input<sp/>buffer.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4537"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref>)</highlight></codeline>
<codeline lineno="4538"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pRead_buf<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref><sp/>+<sp/>cur_file_ofs;</highlight></codeline>
<codeline lineno="4540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_size<sp/>=<sp/>read_buf_avail<sp/>=<sp/>file_stat.m_comp_size;</highlight></codeline>
<codeline lineno="4541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_remaining<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4542"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4543"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4544"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_size<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(file_stat.m_comp_size,<sp/>(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)<ref refid="miniz_8h_1ac36f475ca5b446f4fde4c9b90bec77c8a5b5935618c8f80bac84484ffa644df05" kindref="member">MZ_ZIP_MAX_IO_BUF_SIZE</ref>);</highlight></codeline>
<codeline lineno="4546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>(pRead_buf<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>1,<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)read_buf_size)))</highlight></codeline>
<codeline lineno="4547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="4548"><highlight class="normal"></highlight></codeline>
<codeline lineno="4549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_avail<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_remaining<sp/>=<sp/>file_stat.m_comp_size;</highlight></codeline>
<codeline lineno="4551"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4552"><highlight class="normal"></highlight></codeline>
<codeline lineno="4553"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_COMPRESSED_DATA)<sp/>||<sp/>(!file_stat.m_method))</highlight></codeline>
<codeline lineno="4554"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>The<sp/>file<sp/>is<sp/>stored<sp/>or<sp/>the<sp/>caller<sp/>has<sp/>requested<sp/>the<sp/>compressed<sp/>data.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref>)</highlight></codeline>
<codeline lineno="4557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)<sp/>==<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)))<sp/>&amp;&amp;<sp/>(file_stat.m_comp_size<sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>))</highlight></codeline>
<codeline lineno="4559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da399161cc4d02bf0bb1815089d2bbdeb8" kindref="member">MZ_ZIP_INTERNAL_ERROR</ref>);</highlight></codeline>
<codeline lineno="4560"><highlight class="normal"></highlight></codeline>
<codeline lineno="4561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pCallback(pOpaque,<sp/>out_buf_ofs,<sp/>pRead_buf,<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)file_stat.m_comp_size)<sp/>!=<sp/>file_stat.m_comp_size)</highlight></codeline>
<codeline lineno="4562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da2be5cd9afd4fd0fe1b36b753e377658f" kindref="member">MZ_ZIP_WRITE_CALLBACK_FAILED</ref>);</highlight></codeline>
<codeline lineno="4564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>;</highlight></codeline>
<codeline lineno="4565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_COMPRESSED_DATA))</highlight></codeline>
<codeline lineno="4567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4568"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_DISABLE_ZIP_READER_CRC32_CHECKS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>file_crc32<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<ref refid="miniz_8c_1a8b7cb38252f297265f6b850ab4ae0f01" kindref="member">mz_crc32</ref>(file_crc32,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pRead_buf,<sp/>(size_t)file_stat.m_comp_size);</highlight></codeline>
<codeline lineno="4570"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4572"><highlight class="normal"></highlight></codeline>
<codeline lineno="4573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_file_ofs<sp/>+=<sp/>file_stat.m_comp_size;</highlight></codeline>
<codeline lineno="4574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out_buf_ofs<sp/>+=<sp/>file_stat.m_comp_size;</highlight></codeline>
<codeline lineno="4575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_remaining<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(comp_remaining)</highlight></codeline>
<codeline lineno="4580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_avail<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(read_buf_size,<sp/>comp_remaining);</highlight></codeline>
<codeline lineno="4582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_file_ofs,<sp/>pRead_buf,<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)read_buf_avail)<sp/>!=<sp/>read_buf_avail)</highlight></codeline>
<codeline lineno="4583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="4585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>;</highlight></codeline>
<codeline lineno="4586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4588"><highlight class="normal"></highlight></codeline>
<codeline lineno="4589"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_DISABLE_ZIP_READER_CRC32_CHECKS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_COMPRESSED_DATA))</highlight></codeline>
<codeline lineno="4591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>file_crc32<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<ref refid="miniz_8c_1a8b7cb38252f297265f6b850ab4ae0f01" kindref="member">mz_crc32</ref>(file_crc32,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pRead_buf,<sp/>(size_t)read_buf_avail);</highlight></codeline>
<codeline lineno="4593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4594"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4595"><highlight class="normal"></highlight></codeline>
<codeline lineno="4596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pCallback(pOpaque,<sp/>out_buf_ofs,<sp/>pRead_buf,<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)read_buf_avail)<sp/>!=<sp/>read_buf_avail)</highlight></codeline>
<codeline lineno="4597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da2be5cd9afd4fd0fe1b36b753e377658f" kindref="member">MZ_ZIP_WRITE_CALLBACK_FAILED</ref>);</highlight></codeline>
<codeline lineno="4599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>;</highlight></codeline>
<codeline lineno="4600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4602"><highlight class="normal"></highlight></codeline>
<codeline lineno="4603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_file_ofs<sp/>+=<sp/>read_buf_avail;</highlight></codeline>
<codeline lineno="4604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out_buf_ofs<sp/>+=<sp/>read_buf_avail;</highlight></codeline>
<codeline lineno="4605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_remaining<sp/>-=<sp/>read_buf_avail;</highlight></codeline>
<codeline lineno="4606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4608"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4609"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4610"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtinfl__decompressor__tag" kindref="compound">tinfl_decompressor</ref><sp/>inflator;</highlight></codeline>
<codeline lineno="4612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a38425ff8609fe5fe5a9a48612e6f3e46" kindref="member">tinfl_init</ref>(&amp;inflator);</highlight></codeline>
<codeline lineno="4613"><highlight class="normal"></highlight></codeline>
<codeline lineno="4614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>(pWrite_buf<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>1,<sp/><ref refid="miniz_8h_1a39dc152de3351183ff8af716f0c556cb" kindref="member">TINFL_LZ_DICT_SIZE</ref>)))</highlight></codeline>
<codeline lineno="4615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="4617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>;</highlight></codeline>
<codeline lineno="4618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pWrite_buf_cur<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pWrite_buf<sp/>+<sp/>(out_buf_ofs<sp/>&amp;<sp/>(<ref refid="miniz_8h_1a39dc152de3351183ff8af716f0c556cb" kindref="member">TINFL_LZ_DICT_SIZE</ref><sp/>-<sp/>1));</highlight></codeline>
<codeline lineno="4624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>in_buf_size,<sp/>out_buf_size<sp/>=<sp/><ref refid="miniz_8h_1a39dc152de3351183ff8af716f0c556cb" kindref="member">TINFL_LZ_DICT_SIZE</ref><sp/>-<sp/>(out_buf_ofs<sp/>&amp;<sp/>(<ref refid="miniz_8h_1a39dc152de3351183ff8af716f0c556cb" kindref="member">TINFL_LZ_DICT_SIZE</ref><sp/>-<sp/>1));</highlight></codeline>
<codeline lineno="4625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!read_buf_avail)<sp/>&amp;&amp;<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref>))</highlight></codeline>
<codeline lineno="4626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_avail<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(read_buf_size,<sp/>comp_remaining);</highlight></codeline>
<codeline lineno="4628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_file_ofs,<sp/>pRead_buf,<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)read_buf_avail)<sp/>!=<sp/>read_buf_avail)</highlight></codeline>
<codeline lineno="4629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="4631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>;</highlight></codeline>
<codeline lineno="4632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_file_ofs<sp/>+=<sp/>read_buf_avail;</highlight></codeline>
<codeline lineno="4635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_remaining<sp/>-=<sp/>read_buf_avail;</highlight></codeline>
<codeline lineno="4636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_ofs<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4638"><highlight class="normal"></highlight></codeline>
<codeline lineno="4639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in_buf_size<sp/>=<sp/>(size_t)read_buf_avail;</highlight></codeline>
<codeline lineno="4640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8c_1ac4e4c006d234780922676ecc31fe1416" kindref="member">tinfl_decompress</ref>(&amp;inflator,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pRead_buf<sp/>+<sp/>read_buf_ofs,<sp/>&amp;in_buf_size,<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pWrite_buf,<sp/>pWrite_buf_cur,<sp/>&amp;out_buf_size,<sp/>comp_remaining<sp/>?<sp/><ref refid="miniz_8h_1a385c44f6fb256e5716a2302a5b940388a2eb96c68c6a8df342d8f12d7efcf96c1" kindref="member">TINFL_FLAG_HAS_MORE_INPUT</ref><sp/>:<sp/>0);</highlight></codeline>
<codeline lineno="4641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_avail<sp/>-=<sp/>in_buf_size;</highlight></codeline>
<codeline lineno="4642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>read_buf_ofs<sp/>+=<sp/>in_buf_size;</highlight></codeline>
<codeline lineno="4643"><highlight class="normal"></highlight></codeline>
<codeline lineno="4644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(out_buf_size)</highlight></codeline>
<codeline lineno="4645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pCallback(pOpaque,<sp/>out_buf_ofs,<sp/>pWrite_buf_cur,<sp/>out_buf_size)<sp/>!=<sp/>out_buf_size)</highlight></codeline>
<codeline lineno="4647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da2be5cd9afd4fd0fe1b36b753e377658f" kindref="member">MZ_ZIP_WRITE_CALLBACK_FAILED</ref>);</highlight></codeline>
<codeline lineno="4649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>;</highlight></codeline>
<codeline lineno="4650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4652"><highlight class="normal"></highlight></codeline>
<codeline lineno="4653"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_DISABLE_ZIP_READER_CRC32_CHECKS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>file_crc32<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<ref refid="miniz_8c_1a8b7cb38252f297265f6b850ab4ae0f01" kindref="member">mz_crc32</ref>(file_crc32,<sp/>pWrite_buf_cur,<sp/>out_buf_size);</highlight></codeline>
<codeline lineno="4655"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((out_buf_ofs<sp/>+=<sp/>out_buf_size)<sp/>&gt;<sp/>file_stat.m_uncomp_size)</highlight></codeline>
<codeline lineno="4657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa713f636687cfc5db4a588d6378a6a10" kindref="member">MZ_ZIP_DECOMPRESSION_FAILED</ref>);</highlight></codeline>
<codeline lineno="4659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>;</highlight></codeline>
<codeline lineno="4660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((status<sp/>==<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a4150e95aacd9bf414c6f9155263b60e8" kindref="member">TINFL_STATUS_NEEDS_MORE_INPUT</ref>)<sp/>||<sp/>(status<sp/>==<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a49583f3a8fa8eb17838e17f21c08be05" kindref="member">TINFL_STATUS_HAS_MORE_OUTPUT</ref>));</highlight></codeline>
<codeline lineno="4664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4665"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4666"><highlight class="normal"></highlight></codeline>
<codeline lineno="4667"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((status<sp/>==<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4af9316c69027621352f435c9a343f1042" kindref="member">TINFL_STATUS_DONE</ref>)<sp/>&amp;&amp;<sp/>(!(flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_COMPRESSED_DATA)))</highlight></codeline>
<codeline lineno="4668"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Make<sp/>sure<sp/>the<sp/>entire<sp/>file<sp/>was<sp/>decompressed,<sp/>and<sp/>check<sp/>its<sp/>CRC.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(out_buf_ofs<sp/>!=<sp/>file_stat.m_uncomp_size)</highlight></codeline>
<codeline lineno="4671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dae3b0b6f3ca889a916c69c518a54ee755" kindref="member">MZ_ZIP_UNEXPECTED_DECOMPRESSED_SIZE</ref>);</highlight></codeline>
<codeline lineno="4673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>;</highlight></codeline>
<codeline lineno="4674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4675"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_DISABLE_ZIP_READER_CRC32_CHECKS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(file_crc32<sp/>!=<sp/>file_stat.m_crc32)</highlight></codeline>
<codeline lineno="4677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa713f636687cfc5db4a588d6378a6a10" kindref="member">MZ_ZIP_DECOMPRESSION_FAILED</ref>);</highlight></codeline>
<codeline lineno="4679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4a3d9ecb5e7298395555ec061cda50644c" kindref="member">TINFL_STATUS_FAILED</ref>;</highlight></codeline>
<codeline lineno="4680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4681"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4682"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4683"><highlight class="normal"></highlight></codeline>
<codeline lineno="4684"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref>)</highlight></codeline>
<codeline lineno="4685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pRead_buf);</highlight></codeline>
<codeline lineno="4686"><highlight class="normal"></highlight></codeline>
<codeline lineno="4687"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pWrite_buf)</highlight></codeline>
<codeline lineno="4688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pWrite_buf);</highlight></codeline>
<codeline lineno="4689"><highlight class="normal"></highlight></codeline>
<codeline lineno="4690"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status<sp/>==<sp/><ref refid="miniz_8h_1a387ccd3d7a7891c9e1d6ec4f4207c8d4af9316c69027621352f435c9a343f1042" kindref="member">TINFL_STATUS_DONE</ref>;</highlight></codeline>
<codeline lineno="4691"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4692"><highlight class="normal"></highlight></codeline>
<codeline lineno="4693"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a2f77f2adc9a6d554f89f79e4f0207b9c" kindref="member">mz_zip_reader_extract_file_to_callback</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename,<sp/><ref refid="miniz_8h_1a20dd8c64af05b367626a8e151c78e521" kindref="member">mz_file_write_func</ref><sp/>pCallback,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pOpaque,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="4694"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4695"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>file_index;</highlight></codeline>
<codeline lineno="4696"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a4d12d37b3d14f7dfb0312433b7940d7e" kindref="member">mz_zip_reader_locate_file_v2</ref>(pZip,<sp/>pFilename,<sp/>NULL,<sp/>flags,<sp/>&amp;file_index))</highlight></codeline>
<codeline lineno="4697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4698"><highlight class="normal"></highlight></codeline>
<codeline lineno="4699"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a607bba163f72b6728191504c53bf70a8" kindref="member">mz_zip_reader_extract_to_callback</ref>(pZip,<sp/>file_index,<sp/>pCallback,<sp/>pOpaque,<sp/>flags);</highlight></codeline>
<codeline lineno="4700"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4701"><highlight class="normal"></highlight></codeline>
<codeline lineno="4702"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_STDIO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4703"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a6acedb9402a1e7eafad0d09bfa08f20e" kindref="member">mz_zip_file_write_callback</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pOpaque,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>ofs,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>n)</highlight></codeline>
<codeline lineno="4704"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4705"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)ofs;</highlight></codeline>
<codeline lineno="4706"><highlight class="normal"></highlight></codeline>
<codeline lineno="4707"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a5f224b658d4b01790ef55ccd3ff8d3a2" kindref="member">MZ_FWRITE</ref>(pBuf,<sp/>1,<sp/>n,<sp/>(<ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref><sp/>*)pOpaque);</highlight></codeline>
<codeline lineno="4708"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4709"><highlight class="normal"></highlight></codeline>
<codeline lineno="4710"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1af328f94aff4a5d44825959eb58bdf3c9" kindref="member">mz_zip_reader_extract_to_file</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_index,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pDst_filename,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="4711"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4712"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>status;</highlight></codeline>
<codeline lineno="4713"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__archive__file__stat" kindref="compound">mz_zip_archive_file_stat</ref><sp/>file_stat;</highlight></codeline>
<codeline lineno="4714"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref><sp/>*pFile;</highlight></codeline>
<codeline lineno="4715"><highlight class="normal"></highlight></codeline>
<codeline lineno="4716"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1aa9d3abc65b4b9b91efc437ec151e9c99" kindref="member">mz_zip_reader_file_stat</ref>(pZip,<sp/>file_index,<sp/>&amp;file_stat))</highlight></codeline>
<codeline lineno="4717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4718"><highlight class="normal"></highlight></codeline>
<codeline lineno="4719"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((file_stat.<ref refid="structmz__zip__archive__file__stat_1a02509653cc5553e63a1053802f808cbc" kindref="member">m_is_directory</ref>)<sp/>||<sp/>(!file_stat.<ref refid="structmz__zip__archive__file__stat_1a4742f25dec4e490bedc1262b96e49ed6" kindref="member">m_is_supported</ref>))</highlight></codeline>
<codeline lineno="4720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da079e286899478ed53a7473f1816a692f" kindref="member">MZ_ZIP_UNSUPPORTED_FEATURE</ref>);</highlight></codeline>
<codeline lineno="4721"><highlight class="normal"></highlight></codeline>
<codeline lineno="4722"><highlight class="normal"><sp/><sp/><sp/><sp/>pFile<sp/>=<sp/><ref refid="miniz_8c_1a7ab43238d8cd27afaf9ee668c8f6ab70" kindref="member">MZ_FOPEN</ref>(pDst_filename,<sp/></highlight><highlight class="stringliteral">&quot;wb&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4723"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pFile)</highlight></codeline>
<codeline lineno="4724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da0c392e441dd7e14e4731686e8f3369ed" kindref="member">MZ_ZIP_FILE_OPEN_FAILED</ref>);</highlight></codeline>
<codeline lineno="4725"><highlight class="normal"></highlight></codeline>
<codeline lineno="4726"><highlight class="normal"><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8c_1a607bba163f72b6728191504c53bf70a8" kindref="member">mz_zip_reader_extract_to_callback</ref>(pZip,<sp/>file_index,<sp/><ref refid="miniz_8c_1a6acedb9402a1e7eafad0d09bfa08f20e" kindref="member">mz_zip_file_write_callback</ref>,<sp/>pFile,<sp/>flags);</highlight></codeline>
<codeline lineno="4727"><highlight class="normal"></highlight></codeline>
<codeline lineno="4728"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8c_1aca3383a48f6eda415e7b7bceea2d3e55" kindref="member">MZ_FCLOSE</ref>(pFile)<sp/>==<sp/>EOF)</highlight></codeline>
<codeline lineno="4729"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status)</highlight></codeline>
<codeline lineno="4731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da425368dd51a2a374f88b285338098851" kindref="member">MZ_ZIP_FILE_CLOSE_FAILED</ref>);</highlight></codeline>
<codeline lineno="4732"><highlight class="normal"></highlight></codeline>
<codeline lineno="4733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4734"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4735"><highlight class="normal"></highlight></codeline>
<codeline lineno="4736"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!defined(MINIZ_NO_TIME)<sp/>&amp;&amp;<sp/>!defined(MINIZ_NO_STDIO)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4737"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status)</highlight></codeline>
<codeline lineno="4738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a306c414bc38c7d4e1955328a61162afb" kindref="member">mz_zip_set_file_times</ref>(pDst_filename,<sp/>file_stat.<ref refid="structmz__zip__archive__file__stat_1ad9da17b1b5d7c66be26257c98f2492a9" kindref="member">m_time</ref>,<sp/>file_stat.<ref refid="structmz__zip__archive__file__stat_1ad9da17b1b5d7c66be26257c98f2492a9" kindref="member">m_time</ref>);</highlight></codeline>
<codeline lineno="4739"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4740"><highlight class="normal"></highlight></codeline>
<codeline lineno="4741"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="4742"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4743"><highlight class="normal"></highlight></codeline>
<codeline lineno="4744"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a5e053a05efdc3b9d210f9391382dcd9a" kindref="member">mz_zip_reader_extract_file_to_file</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pArchive_filename,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pDst_filename,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="4745"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4746"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>file_index;</highlight></codeline>
<codeline lineno="4747"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a4d12d37b3d14f7dfb0312433b7940d7e" kindref="member">mz_zip_reader_locate_file_v2</ref>(pZip,<sp/>pArchive_filename,<sp/>NULL,<sp/>flags,<sp/>&amp;file_index))</highlight></codeline>
<codeline lineno="4748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4749"><highlight class="normal"></highlight></codeline>
<codeline lineno="4750"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1af328f94aff4a5d44825959eb58bdf3c9" kindref="member">mz_zip_reader_extract_to_file</ref>(pZip,<sp/>file_index,<sp/>pDst_filename,<sp/>flags);</highlight></codeline>
<codeline lineno="4751"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4752"><highlight class="normal"></highlight></codeline>
<codeline lineno="4753"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1adbd8df20b8b63f164c7c2655e30eb232" kindref="member">mz_zip_reader_extract_to_cfile</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_index,<sp/><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref><sp/>*pFile,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="4754"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4755"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__archive__file__stat" kindref="compound">mz_zip_archive_file_stat</ref><sp/>file_stat;</highlight></codeline>
<codeline lineno="4756"><highlight class="normal"></highlight></codeline>
<codeline lineno="4757"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1aa9d3abc65b4b9b91efc437ec151e9c99" kindref="member">mz_zip_reader_file_stat</ref>(pZip,<sp/>file_index,<sp/>&amp;file_stat))</highlight></codeline>
<codeline lineno="4758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4759"><highlight class="normal"></highlight></codeline>
<codeline lineno="4760"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((file_stat.<ref refid="structmz__zip__archive__file__stat_1a02509653cc5553e63a1053802f808cbc" kindref="member">m_is_directory</ref>)<sp/>||<sp/>(!file_stat.<ref refid="structmz__zip__archive__file__stat_1a4742f25dec4e490bedc1262b96e49ed6" kindref="member">m_is_supported</ref>))</highlight></codeline>
<codeline lineno="4761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da079e286899478ed53a7473f1816a692f" kindref="member">MZ_ZIP_UNSUPPORTED_FEATURE</ref>);</highlight></codeline>
<codeline lineno="4762"><highlight class="normal"></highlight></codeline>
<codeline lineno="4763"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a607bba163f72b6728191504c53bf70a8" kindref="member">mz_zip_reader_extract_to_callback</ref>(pZip,<sp/>file_index,<sp/><ref refid="miniz_8c_1a6acedb9402a1e7eafad0d09bfa08f20e" kindref="member">mz_zip_file_write_callback</ref>,<sp/>pFile,<sp/>flags);</highlight></codeline>
<codeline lineno="4764"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4765"><highlight class="normal"></highlight></codeline>
<codeline lineno="4766"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1ae696e70169c739706434446c01fa6f82" kindref="member">mz_zip_reader_extract_file_to_cfile</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pArchive_filename,<sp/><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref><sp/>*pFile,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="4767"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4768"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>file_index;</highlight></codeline>
<codeline lineno="4769"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a4d12d37b3d14f7dfb0312433b7940d7e" kindref="member">mz_zip_reader_locate_file_v2</ref>(pZip,<sp/>pArchive_filename,<sp/>NULL,<sp/>flags,<sp/>&amp;file_index))</highlight></codeline>
<codeline lineno="4770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4771"><highlight class="normal"></highlight></codeline>
<codeline lineno="4772"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1adbd8df20b8b63f164c7c2655e30eb232" kindref="member">mz_zip_reader_extract_to_cfile</ref>(pZip,<sp/>file_index,<sp/>pFile,<sp/>flags);</highlight></codeline>
<codeline lineno="4773"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4774"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifndef<sp/>MINIZ_NO_STDIO<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4775"><highlight class="normal"></highlight></codeline>
<codeline lineno="4776"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1ad66cdb80b873c2eb640df26246c6a4b2" kindref="member">mz_zip_compute_crc32_callback</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pOpaque,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>file_ofs,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>n)</highlight></codeline>
<codeline lineno="4777"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4778"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>*p<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>*)pOpaque;</highlight></codeline>
<codeline lineno="4779"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)file_ofs;</highlight></codeline>
<codeline lineno="4780"><highlight class="normal"><sp/><sp/><sp/><sp/>*p<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<ref refid="miniz_8c_1a8b7cb38252f297265f6b850ab4ae0f01" kindref="member">mz_crc32</ref>(*p,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pBuf,<sp/>n);</highlight></codeline>
<codeline lineno="4781"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>n;</highlight></codeline>
<codeline lineno="4782"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4783"><highlight class="normal"></highlight></codeline>
<codeline lineno="4784"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1acaef85bf26fe6936ac04e14950078892" kindref="member">mz_zip_validate_file</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_index,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="4785"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4786"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__archive__file__stat" kindref="compound">mz_zip_archive_file_stat</ref><sp/>file_stat;</highlight></codeline>
<codeline lineno="4787"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref><sp/>*pState;</highlight></codeline>
<codeline lineno="4788"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pCentral_dir_header;</highlight></codeline>
<codeline lineno="4789"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>found_zip64_ext_data_in_cdir<sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4790"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>found_zip64_ext_data_in_ldir<sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4791"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>local_header_u32[(<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref><sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>-<sp/>1)<sp/>/<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)];</highlight></codeline>
<codeline lineno="4792"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pLocal_header<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)local_header_u32;</highlight></codeline>
<codeline lineno="4793"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>local_header_ofs<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4794"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>local_header_filename_len,<sp/>local_header_extra_len,<sp/>local_header_crc32;</highlight></codeline>
<codeline lineno="4795"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>local_header_comp_size,<sp/>local_header_uncomp_size;</highlight></codeline>
<codeline lineno="4796"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>uncomp_crc32<sp/>=<sp/><ref refid="miniz_8h_1a4e28761db3f5f136f790563dd13a08d6" kindref="member">MZ_CRC32_INIT</ref>;</highlight></codeline>
<codeline lineno="4797"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>has_data_descriptor;</highlight></codeline>
<codeline lineno="4798"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>local_header_bit_flags;</highlight></codeline>
<codeline lineno="4799"><highlight class="normal"></highlight></codeline>
<codeline lineno="4800"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>file_data_array;</highlight></codeline>
<codeline lineno="4801"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a6e4fb49aa0c719cd8545f933085d3f31" kindref="member">mz_zip_array_init</ref>(&amp;file_data_array,<sp/>1);</highlight></codeline>
<codeline lineno="4802"><highlight class="normal"></highlight></codeline>
<codeline lineno="4803"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>))</highlight></codeline>
<codeline lineno="4804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="4805"><highlight class="normal"></highlight></codeline>
<codeline lineno="4806"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(file_index<sp/>&gt;<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>)</highlight></codeline>
<codeline lineno="4807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="4808"><highlight class="normal"></highlight></codeline>
<codeline lineno="4809"><highlight class="normal"><sp/><sp/><sp/><sp/>pState<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>;</highlight></codeline>
<codeline lineno="4810"><highlight class="normal"></highlight></codeline>
<codeline lineno="4811"><highlight class="normal"><sp/><sp/><sp/><sp/>pCentral_dir_header<sp/>=<sp/><ref refid="miniz_8c_1abb036541231e500526a12a35e3bd0eae" kindref="member">mz_zip_get_cdh</ref>(pZip,<sp/>file_index);</highlight></codeline>
<codeline lineno="4812"><highlight class="normal"></highlight></codeline>
<codeline lineno="4813"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a2a7f8b015e1b9e5b28617661a2102325" kindref="member">mz_zip_file_stat_internal</ref>(pZip,<sp/>file_index,<sp/>pCentral_dir_header,<sp/>&amp;file_stat,<sp/>&amp;found_zip64_ext_data_in_cdir))</highlight></codeline>
<codeline lineno="4814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4815"><highlight class="normal"></highlight></codeline>
<codeline lineno="4816"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>A<sp/>directory<sp/>or<sp/>zero<sp/>length<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4817"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((file_stat.<ref refid="structmz__zip__archive__file__stat_1a02509653cc5553e63a1053802f808cbc" kindref="member">m_is_directory</ref>)<sp/>||<sp/>(!file_stat.<ref refid="structmz__zip__archive__file__stat_1aa55ee3580a844400d4bd43be27ae3808" kindref="member">m_uncomp_size</ref>))</highlight></codeline>
<codeline lineno="4818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="4819"><highlight class="normal"></highlight></codeline>
<codeline lineno="4820"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Encryption<sp/>and<sp/>patch<sp/>files<sp/>are<sp/>not<sp/>supported.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4821"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(file_stat.<ref refid="structmz__zip__archive__file__stat_1a952eb97b58881df827ce3808071e7754" kindref="member">m_is_encrypted</ref>)</highlight></codeline>
<codeline lineno="4822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da6d29d37c6300c91cb5fc9a66d1cb1db1" kindref="member">MZ_ZIP_UNSUPPORTED_ENCRYPTION</ref>);</highlight></codeline>
<codeline lineno="4823"><highlight class="normal"></highlight></codeline>
<codeline lineno="4824"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>function<sp/>only<sp/>supports<sp/>stored<sp/>and<sp/>deflate.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4825"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((file_stat.<ref refid="structmz__zip__archive__file__stat_1ae1a9a8fbc09a4c3c14b04667d0f2d189" kindref="member">m_method</ref><sp/>!=<sp/>0)<sp/>&amp;&amp;<sp/>(file_stat.<ref refid="structmz__zip__archive__file__stat_1ae1a9a8fbc09a4c3c14b04667d0f2d189" kindref="member">m_method</ref><sp/>!=<sp/><ref refid="miniz_8h_1a3e92e9b3cc525db1fd503d9630ec1bf5" kindref="member">MZ_DEFLATED</ref>))</highlight></codeline>
<codeline lineno="4826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da003e8bf2463b5f3849242b3808e4d6fe" kindref="member">MZ_ZIP_UNSUPPORTED_METHOD</ref>);</highlight></codeline>
<codeline lineno="4827"><highlight class="normal"></highlight></codeline>
<codeline lineno="4828"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!file_stat.<ref refid="structmz__zip__archive__file__stat_1a4742f25dec4e490bedc1262b96e49ed6" kindref="member">m_is_supported</ref>)</highlight></codeline>
<codeline lineno="4829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da079e286899478ed53a7473f1816a692f" kindref="member">MZ_ZIP_UNSUPPORTED_FEATURE</ref>);</highlight></codeline>
<codeline lineno="4830"><highlight class="normal"></highlight></codeline>
<codeline lineno="4831"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>and<sp/>parse<sp/>the<sp/>local<sp/>directory<sp/>entry.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4832"><highlight class="normal"><sp/><sp/><sp/><sp/>local_header_ofs<sp/>=<sp/>file_stat.<ref refid="structmz__zip__archive__file__stat_1acc27b6ca5dd7159c19bc3dc32e844ac7" kindref="member">m_local_header_ofs</ref>;</highlight></codeline>
<codeline lineno="4833"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>local_header_ofs,<sp/>pLocal_header,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>)<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>)</highlight></codeline>
<codeline lineno="4834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="4835"><highlight class="normal"></highlight></codeline>
<codeline lineno="4836"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pLocal_header)<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a05f28665e3880ca5863fff3ca58129b6" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIG</ref>)</highlight></codeline>
<codeline lineno="4837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="4838"><highlight class="normal"></highlight></codeline>
<codeline lineno="4839"><highlight class="normal"><sp/><sp/><sp/><sp/>local_header_filename_len<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pLocal_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4990e590f2652f0d540c3eb35e3f650f" kindref="member">MZ_ZIP_LDH_FILENAME_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="4840"><highlight class="normal"><sp/><sp/><sp/><sp/>local_header_extra_len<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pLocal_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aaecc052d653e298f93b9c5523c98f5f2" kindref="member">MZ_ZIP_LDH_EXTRA_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="4841"><highlight class="normal"><sp/><sp/><sp/><sp/>local_header_comp_size<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pLocal_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a67751a44d185feb156f40a7cd922a577" kindref="member">MZ_ZIP_LDH_COMPRESSED_SIZE_OFS</ref>);</highlight></codeline>
<codeline lineno="4842"><highlight class="normal"><sp/><sp/><sp/><sp/>local_header_uncomp_size<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pLocal_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac3538fb6973847de5f8bd315ba8d0e1d" kindref="member">MZ_ZIP_LDH_DECOMPRESSED_SIZE_OFS</ref>);</highlight></codeline>
<codeline lineno="4843"><highlight class="normal"><sp/><sp/><sp/><sp/>local_header_crc32<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pLocal_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0b518fa8ffa820df4771f9d567c13dcc" kindref="member">MZ_ZIP_LDH_CRC32_OFS</ref>);</highlight></codeline>
<codeline lineno="4844"><highlight class="normal"><sp/><sp/><sp/><sp/>local_header_bit_flags<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pLocal_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0ed8079f712b2ec7963d9b1378596528" kindref="member">MZ_ZIP_LDH_BIT_FLAG_OFS</ref>);</highlight></codeline>
<codeline lineno="4845"><highlight class="normal"><sp/><sp/><sp/><sp/>has_data_descriptor<sp/>=<sp/>(local_header_bit_flags<sp/>&amp;<sp/>8)<sp/>!=<sp/>0;</highlight></codeline>
<codeline lineno="4846"><highlight class="normal"></highlight></codeline>
<codeline lineno="4847"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(local_header_filename_len<sp/>!=<sp/>strlen(file_stat.<ref refid="structmz__zip__archive__file__stat_1ae500a60c1ca2d56199fa06f54036abea" kindref="member">m_filename</ref>))</highlight></codeline>
<codeline lineno="4848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="4849"><highlight class="normal"></highlight></codeline>
<codeline lineno="4850"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((local_header_ofs<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref><sp/>+<sp/>local_header_filename_len<sp/>+<sp/>local_header_extra_len<sp/>+<sp/>file_stat.<ref refid="structmz__zip__archive__file__stat_1ae2ac087fa11585219308de1677000ab3" kindref="member">m_comp_size</ref>)<sp/>&gt;<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref>)</highlight></codeline>
<codeline lineno="4851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="4852"><highlight class="normal"></highlight></codeline>
<codeline lineno="4853"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1aef74dba7366dcc1de36eca8682480ddb" kindref="member">mz_zip_array_resize</ref>(pZip,<sp/>&amp;file_data_array,<sp/><ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>(local_header_filename_len,<sp/>local_header_extra_len),<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>))</highlight></codeline>
<codeline lineno="4854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="4855"><highlight class="normal"></highlight></codeline>
<codeline lineno="4856"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(local_header_filename_len)</highlight></codeline>
<codeline lineno="4857"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>local_header_ofs<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>,<sp/>file_data_array.<ref refid="structmz__zip__array_1a8054ffa9a3da062a1d7528b124a8b651" kindref="member">m_p</ref>,<sp/>local_header_filename_len)<sp/>!=<sp/>local_header_filename_len)</highlight></codeline>
<codeline lineno="4859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4860"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="4861"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>handle_failure;</highlight></codeline>
<codeline lineno="4862"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4863"><highlight class="normal"></highlight></codeline>
<codeline lineno="4864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>I&apos;ve<sp/>seen<sp/>1<sp/>archive<sp/>that<sp/>had<sp/>the<sp/>same<sp/>pathname,<sp/>but<sp/>used<sp/>backslashes<sp/>in<sp/>the<sp/>local<sp/>dir<sp/>and<sp/>forward<sp/>slashes<sp/>in<sp/>the<sp/>central<sp/>dir.<sp/>Do<sp/>we<sp/>care<sp/>about<sp/>this?<sp/>For<sp/>now,<sp/>this<sp/>case<sp/>will<sp/>fail<sp/>validation.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(memcmp(file_stat.<ref refid="structmz__zip__archive__file__stat_1ae500a60c1ca2d56199fa06f54036abea" kindref="member">m_filename</ref>,<sp/>file_data_array.<ref refid="structmz__zip__array_1a8054ffa9a3da062a1d7528b124a8b651" kindref="member">m_p</ref>,<sp/>local_header_filename_len)<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="4866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da575251baf4e25b05f6cda0253cd2f49f" kindref="member">MZ_ZIP_VALIDATION_FAILED</ref>);</highlight></codeline>
<codeline lineno="4868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>handle_failure;</highlight></codeline>
<codeline lineno="4869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4870"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4871"><highlight class="normal"></highlight></codeline>
<codeline lineno="4872"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((local_header_extra_len)<sp/>&amp;&amp;<sp/>((local_header_comp_size<sp/>==<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>||<sp/>(local_header_uncomp_size<sp/>==<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)))</highlight></codeline>
<codeline lineno="4873"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>extra_size_remaining<sp/>=<sp/>local_header_extra_len;</highlight></codeline>
<codeline lineno="4875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pExtra_data<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)file_data_array.<ref refid="structmz__zip__array_1a8054ffa9a3da062a1d7528b124a8b651" kindref="member">m_p</ref>;</highlight></codeline>
<codeline lineno="4876"><highlight class="normal"></highlight></codeline>
<codeline lineno="4877"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>local_header_ofs<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref><sp/>+<sp/>local_header_filename_len,<sp/>file_data_array.<ref refid="structmz__zip__array_1a8054ffa9a3da062a1d7528b124a8b651" kindref="member">m_p</ref>,<sp/>local_header_extra_len)<sp/>!=<sp/>local_header_extra_len)</highlight></codeline>
<codeline lineno="4878"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="4880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>handle_failure;</highlight></codeline>
<codeline lineno="4881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4882"><highlight class="normal"></highlight></codeline>
<codeline lineno="4883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4885"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>field_id,<sp/>field_data_size,<sp/>field_total_size;</highlight></codeline>
<codeline lineno="4886"><highlight class="normal"></highlight></codeline>
<codeline lineno="4887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(extra_size_remaining<sp/>&lt;<sp/>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2))</highlight></codeline>
<codeline lineno="4888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="4889"><highlight class="normal"></highlight></codeline>
<codeline lineno="4890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_id<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pExtra_data);</highlight></codeline>
<codeline lineno="4891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_data_size<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pExtra_data<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>));</highlight></codeline>
<codeline lineno="4892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_total_size<sp/>=<sp/>field_data_size<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2;</highlight></codeline>
<codeline lineno="4893"><highlight class="normal"></highlight></codeline>
<codeline lineno="4894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(field_total_size<sp/>&gt;<sp/>extra_size_remaining)</highlight></codeline>
<codeline lineno="4895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="4896"><highlight class="normal"></highlight></codeline>
<codeline lineno="4897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(field_id<sp/>==<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a76fd85fc5176e2615ec50dc9e9a850dc" kindref="member">MZ_ZIP64_EXTENDED_INFORMATION_FIELD_HEADER_ID</ref>)</highlight></codeline>
<codeline lineno="4898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pSrc_field_data<sp/>=<sp/>pExtra_data<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>);</highlight></codeline>
<codeline lineno="4900"><highlight class="normal"></highlight></codeline>
<codeline lineno="4901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(field_data_size<sp/>&lt;<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)<sp/>*<sp/>2)</highlight></codeline>
<codeline lineno="4902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="4904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>handle_failure;</highlight></codeline>
<codeline lineno="4905"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4906"><highlight class="normal"></highlight></codeline>
<codeline lineno="4907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>local_header_uncomp_size<sp/>=<sp/><ref refid="miniz_8h_1ae29c34529021741ba9d9032248a7a625" kindref="member">MZ_READ_LE64</ref>(pSrc_field_data);</highlight></codeline>
<codeline lineno="4908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>local_header_comp_size<sp/>=<sp/><ref refid="miniz_8h_1ae29c34529021741ba9d9032248a7a625" kindref="member">MZ_READ_LE64</ref>(pSrc_field_data<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>));</highlight></codeline>
<codeline lineno="4909"><highlight class="normal"></highlight></codeline>
<codeline lineno="4910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>found_zip64_ext_data_in_ldir<sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="4911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4913"><highlight class="normal"></highlight></codeline>
<codeline lineno="4914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pExtra_data<sp/>+=<sp/>field_total_size;</highlight></codeline>
<codeline lineno="4915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_size_remaining<sp/>-=<sp/>field_total_size;</highlight></codeline>
<codeline lineno="4916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(extra_size_remaining);</highlight></codeline>
<codeline lineno="4917"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4918"><highlight class="normal"></highlight></codeline>
<codeline lineno="4919"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>TODO:<sp/>parse<sp/>local<sp/>header<sp/>extra<sp/>data<sp/>when<sp/>local_header_comp_size<sp/>is<sp/>0xFFFFFFFF!<sp/>(big_descriptor.zip)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4920"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>I&apos;ve<sp/>seen<sp/>zips<sp/>in<sp/>the<sp/>wild<sp/>with<sp/>the<sp/>data<sp/>descriptor<sp/>bit<sp/>set,<sp/>but<sp/>proper<sp/>local<sp/>header<sp/>values<sp/>and<sp/>bogus<sp/>data<sp/>descriptors<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4921"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((has_data_descriptor)<sp/>&amp;&amp;<sp/>(!local_header_comp_size)<sp/>&amp;&amp;<sp/>(!local_header_crc32))</highlight></codeline>
<codeline lineno="4922"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>descriptor_buf[32];</highlight></codeline>
<codeline lineno="4924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>has_id;</highlight></codeline>
<codeline lineno="4925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pSrc;</highlight></codeline>
<codeline lineno="4926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>file_crc32;</highlight></codeline>
<codeline lineno="4927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>comp_size<sp/>=<sp/>0,<sp/>uncomp_size<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4928"><highlight class="normal"></highlight></codeline>
<codeline lineno="4929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>num_descriptor_uint32s<sp/>=<sp/>((pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)<sp/>||<sp/>(found_zip64_ext_data_in_ldir))<sp/>?<sp/>6<sp/>:<sp/>4;</highlight></codeline>
<codeline lineno="4930"><highlight class="normal"></highlight></codeline>
<codeline lineno="4931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>local_header_ofs<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref><sp/>+<sp/>local_header_filename_len<sp/>+<sp/>local_header_extra_len<sp/>+<sp/>file_stat.<ref refid="structmz__zip__archive__file__stat_1ae2ac087fa11585219308de1677000ab3" kindref="member">m_comp_size</ref>,<sp/>descriptor_buf,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>*<sp/>num_descriptor_uint32s)<sp/>!=<sp/>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>*<sp/>num_descriptor_uint32s))</highlight></codeline>
<codeline lineno="4932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="4934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>handle_failure;</highlight></codeline>
<codeline lineno="4935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4936"><highlight class="normal"></highlight></codeline>
<codeline lineno="4937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>has_id<sp/>=<sp/>(<ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(descriptor_buf)<sp/>==<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ad5d78923c0a646f47db97500a9d24b9d" kindref="member">MZ_ZIP_DATA_DESCRIPTOR_ID</ref>);</highlight></codeline>
<codeline lineno="4938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc<sp/>=<sp/>has_id<sp/>?<sp/>(descriptor_buf<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>))<sp/>:<sp/>descriptor_buf;</highlight></codeline>
<codeline lineno="4939"><highlight class="normal"></highlight></codeline>
<codeline lineno="4940"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>file_crc32<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pSrc);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="4941"><highlight class="normal"></highlight></codeline>
<codeline lineno="4942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)<sp/>||<sp/>(found_zip64_ext_data_in_ldir))</highlight></codeline>
<codeline lineno="4943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_size<sp/>=<sp/><ref refid="miniz_8h_1ae29c34529021741ba9d9032248a7a625" kindref="member">MZ_READ_LE64</ref>(pSrc<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>));</highlight></codeline>
<codeline lineno="4945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uncomp_size<sp/>=<sp/><ref refid="miniz_8h_1ae29c34529021741ba9d9032248a7a625" kindref="member">MZ_READ_LE64</ref>(pSrc<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>));</highlight></codeline>
<codeline lineno="4946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4948"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_size<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pSrc<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>));</highlight></codeline>
<codeline lineno="4950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uncomp_size<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pSrc<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>));</highlight></codeline>
<codeline lineno="4951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4952"><highlight class="normal"></highlight></codeline>
<codeline lineno="4953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((file_crc32<sp/>!=<sp/>file_stat.<ref refid="structmz__zip__archive__file__stat_1af9fe260b684c70c1725a8b100cbd97a8" kindref="member">m_crc32</ref>)<sp/>||<sp/>(comp_size<sp/>!=<sp/>file_stat.<ref refid="structmz__zip__archive__file__stat_1ae2ac087fa11585219308de1677000ab3" kindref="member">m_comp_size</ref>)<sp/>||<sp/>(uncomp_size<sp/>!=<sp/>file_stat.<ref refid="structmz__zip__archive__file__stat_1aa55ee3580a844400d4bd43be27ae3808" kindref="member">m_uncomp_size</ref>))</highlight></codeline>
<codeline lineno="4954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da575251baf4e25b05f6cda0253cd2f49f" kindref="member">MZ_ZIP_VALIDATION_FAILED</ref>);</highlight></codeline>
<codeline lineno="4956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>handle_failure;</highlight></codeline>
<codeline lineno="4957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4958"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4959"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4960"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((local_header_crc32<sp/>!=<sp/>file_stat.<ref refid="structmz__zip__archive__file__stat_1af9fe260b684c70c1725a8b100cbd97a8" kindref="member">m_crc32</ref>)<sp/>||<sp/>(local_header_comp_size<sp/>!=<sp/>file_stat.<ref refid="structmz__zip__archive__file__stat_1ae2ac087fa11585219308de1677000ab3" kindref="member">m_comp_size</ref>)<sp/>||<sp/>(local_header_uncomp_size<sp/>!=<sp/>file_stat.<ref refid="structmz__zip__archive__file__stat_1aa55ee3580a844400d4bd43be27ae3808" kindref="member">m_uncomp_size</ref>))</highlight></codeline>
<codeline lineno="4962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4963"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da575251baf4e25b05f6cda0253cd2f49f" kindref="member">MZ_ZIP_VALIDATION_FAILED</ref>);</highlight></codeline>
<codeline lineno="4964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>handle_failure;</highlight></codeline>
<codeline lineno="4965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4966"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4967"><highlight class="normal"></highlight></codeline>
<codeline lineno="4968"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;file_data_array);</highlight></codeline>
<codeline lineno="4969"><highlight class="normal"></highlight></codeline>
<codeline lineno="4970"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a0b7f6f797da7a3d078535ba71ca00858a5d61357918be9c723e1765d6e0cf660f" kindref="member">MZ_ZIP_FLAG_VALIDATE_HEADERS_ONLY</ref>)<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="4971"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a607bba163f72b6728191504c53bf70a8" kindref="member">mz_zip_reader_extract_to_callback</ref>(pZip,<sp/>file_index,<sp/><ref refid="miniz_8c_1ad66cdb80b873c2eb640df26246c6a4b2" kindref="member">mz_zip_compute_crc32_callback</ref>,<sp/>&amp;uncomp_crc32,<sp/>0))</highlight></codeline>
<codeline lineno="4973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4974"><highlight class="normal"></highlight></codeline>
<codeline lineno="4975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>1<sp/>more<sp/>check<sp/>to<sp/>be<sp/>sure,<sp/>although<sp/>the<sp/>extract<sp/>checks<sp/>too.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uncomp_crc32<sp/>!=<sp/>file_stat.<ref refid="structmz__zip__archive__file__stat_1af9fe260b684c70c1725a8b100cbd97a8" kindref="member">m_crc32</ref>)</highlight></codeline>
<codeline lineno="4977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da575251baf4e25b05f6cda0253cd2f49f" kindref="member">MZ_ZIP_VALIDATION_FAILED</ref>);</highlight></codeline>
<codeline lineno="4979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4981"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4982"><highlight class="normal"></highlight></codeline>
<codeline lineno="4983"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="4984"><highlight class="normal"></highlight></codeline>
<codeline lineno="4985"><highlight class="normal">handle_failure:</highlight></codeline>
<codeline lineno="4986"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;file_data_array);</highlight></codeline>
<codeline lineno="4987"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="4988"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4989"><highlight class="normal"></highlight></codeline>
<codeline lineno="4990"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a0f22c932bfa13ea1f720dc757e22be12" kindref="member">mz_zip_validate_archive</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="4991"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4992"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref><sp/>*pState;</highlight></codeline>
<codeline lineno="4993"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>i;</highlight></codeline>
<codeline lineno="4994"><highlight class="normal"></highlight></codeline>
<codeline lineno="4995"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>))</highlight></codeline>
<codeline lineno="4996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="4997"><highlight class="normal"></highlight></codeline>
<codeline lineno="4998"><highlight class="normal"><sp/><sp/><sp/><sp/>pState<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>;</highlight></codeline>
<codeline lineno="4999"><highlight class="normal"></highlight></codeline>
<codeline lineno="5000"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Basic<sp/>sanity<sp/>checks<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5001"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="5002"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>&gt;<sp/><ref refid="miniz_8h_1a512356d187ddd5c72e3123703d60b6cf" kindref="member">MZ_UINT16_MAX</ref>)</highlight></codeline>
<codeline lineno="5004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da99db269c395156b2ecaa9e39a0596601" kindref="member">MZ_ZIP_ARCHIVE_TOO_LARGE</ref>);</highlight></codeline>
<codeline lineno="5005"><highlight class="normal"></highlight></codeline>
<codeline lineno="5006"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="5007"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da99db269c395156b2ecaa9e39a0596601" kindref="member">MZ_ZIP_ARCHIVE_TOO_LARGE</ref>);</highlight></codeline>
<codeline lineno="5008"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5009"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5010"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5011"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="5012"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da99db269c395156b2ecaa9e39a0596601" kindref="member">MZ_ZIP_ARCHIVE_TOO_LARGE</ref>);</highlight></codeline>
<codeline lineno="5013"><highlight class="normal"></highlight></codeline>
<codeline lineno="5014"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref><sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="5015"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da99db269c395156b2ecaa9e39a0596601" kindref="member">MZ_ZIP_ARCHIVE_TOO_LARGE</ref>);</highlight></codeline>
<codeline lineno="5016"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5017"><highlight class="normal"></highlight></codeline>
<codeline lineno="5018"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="5019"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5020"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8h_1a0b7f6f797da7a3d078535ba71ca00858a7859626934ae9a84d1fa7620ecb69f27" kindref="member">MZ_ZIP_FLAG_VALIDATE_LOCATE_FILE_FLAG</ref><sp/>&amp;<sp/>flags)</highlight></codeline>
<codeline lineno="5021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>found_index;</highlight></codeline>
<codeline lineno="5023"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structmz__zip__archive__file__stat" kindref="compound">mz_zip_archive_file_stat</ref><sp/>stat;</highlight></codeline>
<codeline lineno="5024"><highlight class="normal"></highlight></codeline>
<codeline lineno="5025"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1aa9d3abc65b4b9b91efc437ec151e9c99" kindref="member">mz_zip_reader_file_stat</ref>(pZip,<sp/>i,<sp/>&amp;stat))</highlight></codeline>
<codeline lineno="5026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5027"><highlight class="normal"></highlight></codeline>
<codeline lineno="5028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a4d12d37b3d14f7dfb0312433b7940d7e" kindref="member">mz_zip_reader_locate_file_v2</ref>(pZip,<sp/>stat.<ref refid="structmz__zip__archive__file__stat_1ae500a60c1ca2d56199fa06f54036abea" kindref="member">m_filename</ref>,<sp/>NULL,<sp/>0,<sp/>&amp;found_index))</highlight></codeline>
<codeline lineno="5029"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5030"><highlight class="normal"></highlight></codeline>
<codeline lineno="5031"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>check<sp/>can<sp/>fail<sp/>if<sp/>there<sp/>are<sp/>duplicate<sp/>filenames<sp/>in<sp/>the<sp/>archive<sp/>(which<sp/>we<sp/>don&apos;t<sp/>check<sp/>for<sp/>when<sp/>writing<sp/>-<sp/>that&apos;s<sp/>up<sp/>to<sp/>the<sp/>user)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(found_index<sp/>!=<sp/>i)</highlight></codeline>
<codeline lineno="5033"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da575251baf4e25b05f6cda0253cd2f49f" kindref="member">MZ_ZIP_VALIDATION_FAILED</ref>);</highlight></codeline>
<codeline lineno="5034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5035"><highlight class="normal"></highlight></codeline>
<codeline lineno="5036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1acaef85bf26fe6936ac04e14950078892" kindref="member">mz_zip_validate_file</ref>(pZip,<sp/>i,<sp/>flags))</highlight></codeline>
<codeline lineno="5037"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5038"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5039"><highlight class="normal"></highlight></codeline>
<codeline lineno="5040"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5041"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5042"><highlight class="normal"></highlight></codeline>
<codeline lineno="5043"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1acaaba12f38ef5ec95f895c54a7c56351" kindref="member">mz_zip_validate_mem_archive</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pMem,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref><sp/>*pErr)</highlight></codeline>
<codeline lineno="5044"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5045"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>success<sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5046"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>zip;</highlight></codeline>
<codeline lineno="5047"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref><sp/>actual_err<sp/>=<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da6d0cd76e20534ea0d5777ac0c3601db9" kindref="member">MZ_ZIP_NO_ERROR</ref>;</highlight></codeline>
<codeline lineno="5048"><highlight class="normal"></highlight></codeline>
<codeline lineno="5049"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pMem)<sp/>||<sp/>(!size))</highlight></codeline>
<codeline lineno="5050"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pErr)</highlight></codeline>
<codeline lineno="5052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pErr<sp/>=<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>;</highlight></codeline>
<codeline lineno="5053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5054"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5055"><highlight class="normal"></highlight></codeline>
<codeline lineno="5056"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8c64687454aca17948eb58730dc6f41b" kindref="member">mz_zip_zero_struct</ref>(&amp;zip);</highlight></codeline>
<codeline lineno="5057"><highlight class="normal"></highlight></codeline>
<codeline lineno="5058"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a6806f0e4c2e8320f33188e12ec0b63b6" kindref="member">mz_zip_reader_init_mem</ref>(&amp;zip,<sp/>pMem,<sp/>size,<sp/>flags))</highlight></codeline>
<codeline lineno="5059"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pErr)</highlight></codeline>
<codeline lineno="5061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pErr<sp/>=<sp/>zip.<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="5062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5063"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5064"><highlight class="normal"></highlight></codeline>
<codeline lineno="5065"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a0f22c932bfa13ea1f720dc757e22be12" kindref="member">mz_zip_validate_archive</ref>(&amp;zip,<sp/>flags))</highlight></codeline>
<codeline lineno="5066"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5067"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>actual_err<sp/>=<sp/>zip.<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="5068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>success<sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5069"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5070"><highlight class="normal"></highlight></codeline>
<codeline lineno="5071"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a550503f834d14ecf4baf1eff98f3ca5c" kindref="member">mz_zip_reader_end_internal</ref>(&amp;zip,<sp/>success))</highlight></codeline>
<codeline lineno="5072"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5073"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!actual_err)</highlight></codeline>
<codeline lineno="5074"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>actual_err<sp/>=<sp/>zip.<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="5075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>success<sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5076"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5077"><highlight class="normal"></highlight></codeline>
<codeline lineno="5078"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pErr)</highlight></codeline>
<codeline lineno="5079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pErr<sp/>=<sp/>actual_err;</highlight></codeline>
<codeline lineno="5080"><highlight class="normal"></highlight></codeline>
<codeline lineno="5081"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>success;</highlight></codeline>
<codeline lineno="5082"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5083"><highlight class="normal"></highlight></codeline>
<codeline lineno="5084"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_STDIO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5085"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a608ee912bc95f54d663f39157dae0d43" kindref="member">mz_zip_validate_file_archive</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref><sp/>*pErr)</highlight></codeline>
<codeline lineno="5086"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5087"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>success<sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5088"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>zip;</highlight></codeline>
<codeline lineno="5089"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref><sp/>actual_err<sp/>=<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da6d0cd76e20534ea0d5777ac0c3601db9" kindref="member">MZ_ZIP_NO_ERROR</ref>;</highlight></codeline>
<codeline lineno="5090"><highlight class="normal"></highlight></codeline>
<codeline lineno="5091"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pFilename)</highlight></codeline>
<codeline lineno="5092"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pErr)</highlight></codeline>
<codeline lineno="5094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pErr<sp/>=<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>;</highlight></codeline>
<codeline lineno="5095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5096"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5097"><highlight class="normal"></highlight></codeline>
<codeline lineno="5098"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8c64687454aca17948eb58730dc6f41b" kindref="member">mz_zip_zero_struct</ref>(&amp;zip);</highlight></codeline>
<codeline lineno="5099"><highlight class="normal"></highlight></codeline>
<codeline lineno="5100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1aac2174a6cb49f234d050051bff59bfdd" kindref="member">mz_zip_reader_init_file_v2</ref>(&amp;zip,<sp/>pFilename,<sp/>flags,<sp/>0,<sp/>0))</highlight></codeline>
<codeline lineno="5101"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pErr)</highlight></codeline>
<codeline lineno="5103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pErr<sp/>=<sp/>zip.<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="5104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5105"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5106"><highlight class="normal"></highlight></codeline>
<codeline lineno="5107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a0f22c932bfa13ea1f720dc757e22be12" kindref="member">mz_zip_validate_archive</ref>(&amp;zip,<sp/>flags))</highlight></codeline>
<codeline lineno="5108"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>actual_err<sp/>=<sp/>zip.<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="5110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>success<sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5111"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5112"><highlight class="normal"></highlight></codeline>
<codeline lineno="5113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a550503f834d14ecf4baf1eff98f3ca5c" kindref="member">mz_zip_reader_end_internal</ref>(&amp;zip,<sp/>success))</highlight></codeline>
<codeline lineno="5114"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!actual_err)</highlight></codeline>
<codeline lineno="5116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>actual_err<sp/>=<sp/>zip.<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="5117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>success<sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5118"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5119"><highlight class="normal"></highlight></codeline>
<codeline lineno="5120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pErr)</highlight></codeline>
<codeline lineno="5121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pErr<sp/>=<sp/>actual_err;</highlight></codeline>
<codeline lineno="5122"><highlight class="normal"></highlight></codeline>
<codeline lineno="5123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>success;</highlight></codeline>
<codeline lineno="5124"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5125"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifndef<sp/>MINIZ_NO_STDIO<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5126"><highlight class="normal"></highlight></codeline>
<codeline lineno="5127"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>-------------------<sp/>.ZIP<sp/>archive<sp/>writing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5128"><highlight class="normal"></highlight></codeline>
<codeline lineno="5129"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_ARCHIVE_WRITING_APIS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5130"><highlight class="normal"></highlight></codeline>
<codeline lineno="5131"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a3084a7ba4f09259808c0003fa1b1e45f" kindref="member">mz_write_le16</ref>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*p,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>v)</highlight></codeline>
<codeline lineno="5132"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5133"><highlight class="normal"><sp/><sp/><sp/><sp/>p[0]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)v;</highlight></codeline>
<codeline lineno="5134"><highlight class="normal"><sp/><sp/><sp/><sp/>p[1]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(v<sp/>&gt;&gt;<sp/>8);</highlight></codeline>
<codeline lineno="5135"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5136"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a1bd4e0a2065cc70ceb20a811605dc402" kindref="member">mz_write_le32</ref>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*p,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>v)</highlight></codeline>
<codeline lineno="5137"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5138"><highlight class="normal"><sp/><sp/><sp/><sp/>p[0]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)v;</highlight></codeline>
<codeline lineno="5139"><highlight class="normal"><sp/><sp/><sp/><sp/>p[1]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(v<sp/>&gt;&gt;<sp/>8);</highlight></codeline>
<codeline lineno="5140"><highlight class="normal"><sp/><sp/><sp/><sp/>p[2]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(v<sp/>&gt;&gt;<sp/>16);</highlight></codeline>
<codeline lineno="5141"><highlight class="normal"><sp/><sp/><sp/><sp/>p[3]<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>)(v<sp/>&gt;&gt;<sp/>24);</highlight></codeline>
<codeline lineno="5142"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5143"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2c231672fab55aa544b2a34cc9d92fe1" kindref="member">MZ_FORCEINLINE</ref><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1ae5d5e45622787aa5a260f1f800b5978e" kindref="member">mz_write_le64</ref>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*p,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>v)</highlight></codeline>
<codeline lineno="5144"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5145"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1bd4e0a2065cc70ceb20a811605dc402" kindref="member">mz_write_le32</ref>(p,<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)v);</highlight></codeline>
<codeline lineno="5146"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1bd4e0a2065cc70ceb20a811605dc402" kindref="member">mz_write_le32</ref>(p<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>),<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)(v<sp/>&gt;&gt;<sp/>32));</highlight></codeline>
<codeline lineno="5147"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5148"><highlight class="normal"></highlight></codeline>
<codeline lineno="5149"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_WRITE_LE16(p,<sp/>v)<sp/>mz_write_le16((mz_uint8<sp/>*)(p),<sp/>(mz_uint16)(v))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5150"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_WRITE_LE32(p,<sp/>v)<sp/>mz_write_le32((mz_uint8<sp/>*)(p),<sp/>(mz_uint32)(v))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5151"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_WRITE_LE64(p,<sp/>v)<sp/>mz_write_le64((mz_uint8<sp/>*)(p),<sp/>(mz_uint64)(v))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5152"><highlight class="normal"></highlight></codeline>
<codeline lineno="5153"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a80eaca434d785016af778ef5c93399e8" kindref="member">mz_zip_heap_write_func</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pOpaque,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>file_ofs,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>n)</highlight></codeline>
<codeline lineno="5154"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5155"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip<sp/>=<sp/>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*)pOpaque;</highlight></codeline>
<codeline lineno="5156"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref><sp/>*pState<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>;</highlight></codeline>
<codeline lineno="5157"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>new_size<sp/>=<sp/><ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>(file_ofs<sp/>+<sp/>n,<sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a4511d7743e1a63fb78ed066f8de96466" kindref="member">m_mem_size</ref>);</highlight></codeline>
<codeline lineno="5158"><highlight class="normal"></highlight></codeline>
<codeline lineno="5159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!n)</highlight></codeline>
<codeline lineno="5160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="5161"><highlight class="normal"></highlight></codeline>
<codeline lineno="5162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>An<sp/>allocation<sp/>this<sp/>big<sp/>is<sp/>likely<sp/>to<sp/>just<sp/>fail<sp/>on<sp/>32-bit<sp/>systems,<sp/>so<sp/>don&apos;t<sp/>even<sp/>go<sp/>there.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)<sp/>==<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>))<sp/>&amp;&amp;<sp/>(new_size<sp/>&gt;<sp/>0x7FFFFFFF))</highlight></codeline>
<codeline lineno="5164"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da1365f1c2703389a5e6d5b5bbcca37859" kindref="member">MZ_ZIP_FILE_TOO_LARGE</ref>);</highlight></codeline>
<codeline lineno="5166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="5167"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5168"><highlight class="normal"></highlight></codeline>
<codeline lineno="5169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(new_size<sp/>&gt;<sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a71f011527805e3ac48f5f12cb73d2233" kindref="member">m_mem_capacity</ref>)</highlight></codeline>
<codeline lineno="5170"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pNew_block;</highlight></codeline>
<codeline lineno="5172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>new_capacity<sp/>=<sp/><ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>(64,<sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a71f011527805e3ac48f5f12cb73d2233" kindref="member">m_mem_capacity</ref>);</highlight></codeline>
<codeline lineno="5173"><highlight class="normal"></highlight></codeline>
<codeline lineno="5174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(new_capacity<sp/>&lt;<sp/>new_size)</highlight></codeline>
<codeline lineno="5175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_capacity<sp/>*=<sp/>2;</highlight></codeline>
<codeline lineno="5176"><highlight class="normal"></highlight></codeline>
<codeline lineno="5177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>(pNew_block<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ac3cdd59e8bcc156954790af62fee92e8" kindref="member">m_pRealloc</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref>,<sp/>1,<sp/>new_capacity)))</highlight></codeline>
<codeline lineno="5178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="5180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="5181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5182"><highlight class="normal"></highlight></codeline>
<codeline lineno="5183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref><sp/>=<sp/>pNew_block;</highlight></codeline>
<codeline lineno="5184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a71f011527805e3ac48f5f12cb73d2233" kindref="member">m_mem_capacity</ref><sp/>=<sp/>new_capacity;</highlight></codeline>
<codeline lineno="5185"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5186"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy((<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pState-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref><sp/>+<sp/>file_ofs,<sp/>pBuf,<sp/>n);</highlight></codeline>
<codeline lineno="5187"><highlight class="normal"><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a4511d7743e1a63fb78ed066f8de96466" kindref="member">m_mem_size</ref><sp/>=<sp/>(size_t)new_size;</highlight></codeline>
<codeline lineno="5188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>n;</highlight></codeline>
<codeline lineno="5189"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5190"><highlight class="normal"></highlight></codeline>
<codeline lineno="5191"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a278e91533e10d52981cb5d3d49335f7e" kindref="member">mz_zip_writer_end_internal</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>set_last_error)</highlight></codeline>
<codeline lineno="5192"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5193"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref><sp/>*pState;</highlight></codeline>
<codeline lineno="5194"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5195"><highlight class="normal"></highlight></codeline>
<codeline lineno="5196"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>)<sp/>||<sp/>((pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>!=<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a3b3ad1c596f00688f17e2672c1a20064" kindref="member">MZ_ZIP_MODE_WRITING</ref>)<sp/>&amp;&amp;<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>!=<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3ab445229af27a6e8c9d512d12265dea5b" kindref="member">MZ_ZIP_MODE_WRITING_HAS_BEEN_FINALIZED</ref>)))</highlight></codeline>
<codeline lineno="5197"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(set_last_error)</highlight></codeline>
<codeline lineno="5199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="5200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5201"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5202"><highlight class="normal"></highlight></codeline>
<codeline lineno="5203"><highlight class="normal"><sp/><sp/><sp/><sp/>pState<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>;</highlight></codeline>
<codeline lineno="5204"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="5205"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>);</highlight></codeline>
<codeline lineno="5206"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a51a9aa41f7499c7e6e4c2546aa965b9c" kindref="member">m_central_dir_offsets</ref>);</highlight></codeline>
<codeline lineno="5207"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a1e3af54224b61cb20d6ceaeb5807bc33" kindref="member">m_sorted_central_dir_offsets</ref>);</highlight></codeline>
<codeline lineno="5208"><highlight class="normal"></highlight></codeline>
<codeline lineno="5209"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_STDIO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5210"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>)</highlight></codeline>
<codeline lineno="5211"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ae63ea3648c32998d2b17cc6dc6401671" kindref="member">m_zip_type</ref><sp/>==<sp/><ref refid="miniz_8h_1a9e009caf9b469d91618c184666c50da4a1c755e926bbf9197e0d64a0387a4e70a" kindref="member">MZ_ZIP_TYPE_FILE</ref>)</highlight></codeline>
<codeline lineno="5213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8c_1aca3383a48f6eda415e7b7bceea2d3e55" kindref="member">MZ_FCLOSE</ref>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>)<sp/>==<sp/>EOF)</highlight></codeline>
<codeline lineno="5215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(set_last_error)</highlight></codeline>
<codeline lineno="5217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da425368dd51a2a374f88b285338098851" kindref="member">MZ_ZIP_FILE_CLOSE_FAILED</ref>);</highlight></codeline>
<codeline lineno="5218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5221"><highlight class="normal"></highlight></codeline>
<codeline lineno="5222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="5223"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5224"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifndef<sp/>MINIZ_NO_STDIO<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5225"><highlight class="normal"></highlight></codeline>
<codeline lineno="5226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref><sp/>==<sp/><ref refid="miniz_8c_1a80eaca434d785016af778ef5c93399e8" kindref="member">mz_zip_heap_write_func</ref>)<sp/>&amp;&amp;<sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref>))</highlight></codeline>
<codeline lineno="5227"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref>);</highlight></codeline>
<codeline lineno="5229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="5230"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5231"><highlight class="normal"></highlight></codeline>
<codeline lineno="5232"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pState);</highlight></codeline>
<codeline lineno="5233"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>=<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a713f3b45f38e966b751027436df64e50" kindref="member">MZ_ZIP_MODE_INVALID</ref>;</highlight></codeline>
<codeline lineno="5234"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="5235"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5236"><highlight class="normal"></highlight></codeline>
<codeline lineno="5237"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1ae7a4dc8ccdc92cf8fe90f0703dae5650" kindref="member">mz_zip_writer_init_v2</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>existing_size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="5238"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5239"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>zip64<sp/>=<sp/>(flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a0b7f6f797da7a3d078535ba71ca00858a43306564d2afb7c7347cd7041481fa36" kindref="member">MZ_ZIP_FLAG_WRITE_ZIP64</ref>)<sp/>!=<sp/>0;</highlight></codeline>
<codeline lineno="5240"><highlight class="normal"></highlight></codeline>
<codeline lineno="5241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>)<sp/>||<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>!=<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a713f3b45f38e966b751027436df64e50" kindref="member">MZ_ZIP_MODE_INVALID</ref>))</highlight></codeline>
<codeline lineno="5242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="5243"><highlight class="normal"></highlight></codeline>
<codeline lineno="5244"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a0b7f6f797da7a3d078535ba71ca00858a4e7e927edda20a28027f4c4a43a4b2e2" kindref="member">MZ_ZIP_FLAG_WRITE_ALLOW_READING</ref>)</highlight></codeline>
<codeline lineno="5245"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>)</highlight></codeline>
<codeline lineno="5247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="5248"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5249"><highlight class="normal"></highlight></codeline>
<codeline lineno="5250"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ad0a89dcb30f4b8fc8b1a94c9df93d0ff" kindref="member">m_file_offset_alignment</ref>)</highlight></codeline>
<codeline lineno="5251"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ensure<sp/>user<sp/>specified<sp/>file<sp/>offset<sp/>alignment<sp/>is<sp/>a<sp/>power<sp/>of<sp/>2.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ad0a89dcb30f4b8fc8b1a94c9df93d0ff" kindref="member">m_file_offset_alignment</ref><sp/>&amp;<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ad0a89dcb30f4b8fc8b1a94c9df93d0ff" kindref="member">m_file_offset_alignment</ref><sp/>-<sp/>1))</highlight></codeline>
<codeline lineno="5254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="5255"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5256"><highlight class="normal"></highlight></codeline>
<codeline lineno="5257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>)</highlight></codeline>
<codeline lineno="5258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref><sp/>=<sp/><ref refid="miniz_8c_1a5b8c4d334248b00bb255a64a7628ab36" kindref="member">miniz_def_alloc_func</ref>;</highlight></codeline>
<codeline lineno="5259"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>)</highlight></codeline>
<codeline lineno="5260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref><sp/>=<sp/><ref refid="miniz_8c_1a74bd5c1f3f342d2109643cfa500689fc" kindref="member">miniz_def_free_func</ref>;</highlight></codeline>
<codeline lineno="5261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1ac3cdd59e8bcc156954790af62fee92e8" kindref="member">m_pRealloc</ref>)</highlight></codeline>
<codeline lineno="5262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ac3cdd59e8bcc156954790af62fee92e8" kindref="member">m_pRealloc</ref><sp/>=<sp/><ref refid="miniz_8c_1ae51abb9ee6167023388e1d1122b10d89" kindref="member">miniz_def_realloc_func</ref>;</highlight></codeline>
<codeline lineno="5263"><highlight class="normal"></highlight></codeline>
<codeline lineno="5264"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>=<sp/>existing_size;</highlight></codeline>
<codeline lineno="5265"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a128125bc28f4d1f118fe7b9badd0f975" kindref="member">m_central_directory_file_ofs</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5266"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5267"><highlight class="normal"></highlight></codeline>
<codeline lineno="5268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref><sp/>=<sp/>(<ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref><sp/>*)pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>1,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref>))))</highlight></codeline>
<codeline lineno="5269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="5270"><highlight class="normal"></highlight></codeline>
<codeline lineno="5271"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref>));</highlight></codeline>
<codeline lineno="5272"><highlight class="normal"></highlight></codeline>
<codeline lineno="5273"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a26e8cbdf6ac000e1becf7faa1aa7a1fa" kindref="member">MZ_ZIP_ARRAY_SET_ELEMENT_SIZE</ref>(&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>));</highlight></codeline>
<codeline lineno="5274"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a26e8cbdf6ac000e1becf7faa1aa7a1fa" kindref="member">MZ_ZIP_ARRAY_SET_ELEMENT_SIZE</ref>(&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a51a9aa41f7499c7e6e4c2546aa965b9c" kindref="member">m_central_dir_offsets</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>));</highlight></codeline>
<codeline lineno="5275"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a26e8cbdf6ac000e1becf7faa1aa7a1fa" kindref="member">MZ_ZIP_ARRAY_SET_ELEMENT_SIZE</ref>(&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a1e3af54224b61cb20d6ceaeb5807bc33" kindref="member">m_sorted_central_dir_offsets</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>));</highlight></codeline>
<codeline lineno="5276"><highlight class="normal"></highlight></codeline>
<codeline lineno="5277"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref><sp/>=<sp/>zip64;</highlight></codeline>
<codeline lineno="5278"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a0071a211627637fc049defb3f61972fe" kindref="member">m_zip64_has_extended_info_fields</ref><sp/>=<sp/>zip64;</highlight></codeline>
<codeline lineno="5279"><highlight class="normal"></highlight></codeline>
<codeline lineno="5280"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ae63ea3648c32998d2b17cc6dc6401671" kindref="member">m_zip_type</ref><sp/>=<sp/><ref refid="miniz_8h_1a9e009caf9b469d91618c184666c50da4a01c18c633c1058f9e758e30169ea5170" kindref="member">MZ_ZIP_TYPE_USER</ref>;</highlight></codeline>
<codeline lineno="5281"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>=<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a3b3ad1c596f00688f17e2672c1a20064" kindref="member">MZ_ZIP_MODE_WRITING</ref>;</highlight></codeline>
<codeline lineno="5282"><highlight class="normal"></highlight></codeline>
<codeline lineno="5283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5284"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5285"><highlight class="normal"></highlight></codeline>
<codeline lineno="5286"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a8b4c858b16cf5ea4508ca2e38a8e2a0a" kindref="member">mz_zip_writer_init</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>existing_size)</highlight></codeline>
<codeline lineno="5287"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5288"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1ae7a4dc8ccdc92cf8fe90f0703dae5650" kindref="member">mz_zip_writer_init_v2</ref>(pZip,<sp/>existing_size,<sp/>0);</highlight></codeline>
<codeline lineno="5289"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5290"><highlight class="normal"></highlight></codeline>
<codeline lineno="5291"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1af2dce1c3179550a7870704abc099f086" kindref="member">mz_zip_writer_init_heap_v2</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>size_to_reserve_at_beginning,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>initial_allocation_size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="5292"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5293"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref><sp/>=<sp/><ref refid="miniz_8c_1a80eaca434d785016af778ef5c93399e8" kindref="member">mz_zip_heap_write_func</ref>;</highlight></codeline>
<codeline lineno="5294"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a943ea385742e04f7995cb54b46892213" kindref="member">m_pNeeds_keepalive</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="5295"><highlight class="normal"></highlight></codeline>
<codeline lineno="5296"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_WRITE_ALLOW_READING)</highlight></codeline>
<codeline lineno="5297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref><sp/>=<sp/><ref refid="miniz_8c_1a98e280f09026d4746a4171c94c8d64f6" kindref="member">mz_zip_mem_read_func</ref>;</highlight></codeline>
<codeline lineno="5298"><highlight class="normal"></highlight></codeline>
<codeline lineno="5299"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref><sp/>=<sp/>pZip;</highlight></codeline>
<codeline lineno="5300"><highlight class="normal"></highlight></codeline>
<codeline lineno="5301"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1ae7a4dc8ccdc92cf8fe90f0703dae5650" kindref="member">mz_zip_writer_init_v2</ref>(pZip,<sp/>size_to_reserve_at_beginning,<sp/>flags))</highlight></codeline>
<codeline lineno="5302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5303"><highlight class="normal"></highlight></codeline>
<codeline lineno="5304"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ae63ea3648c32998d2b17cc6dc6401671" kindref="member">m_zip_type</ref><sp/>=<sp/><ref refid="miniz_8h_1a9e009caf9b469d91618c184666c50da4a59eb97f502e48ac0d4e0979919c822e5" kindref="member">MZ_ZIP_TYPE_HEAP</ref>;</highlight></codeline>
<codeline lineno="5305"><highlight class="normal"></highlight></codeline>
<codeline lineno="5306"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(0<sp/>!=<sp/>(initial_allocation_size<sp/>=<sp/><ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>(initial_allocation_size,<sp/>size_to_reserve_at_beginning)))</highlight></codeline>
<codeline lineno="5307"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref><sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>1,<sp/>initial_allocation_size)))</highlight></codeline>
<codeline lineno="5309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a278e91533e10d52981cb5d3d49335f7e" kindref="member">mz_zip_writer_end_internal</ref>(pZip,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="5311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="5312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a71f011527805e3ac48f5f12cb73d2233" kindref="member">m_mem_capacity</ref><sp/>=<sp/>initial_allocation_size;</highlight></codeline>
<codeline lineno="5314"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5315"><highlight class="normal"></highlight></codeline>
<codeline lineno="5316"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5317"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5318"><highlight class="normal"></highlight></codeline>
<codeline lineno="5319"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a520050b2d27e4a1073e4462c5258d7f2" kindref="member">mz_zip_writer_init_heap</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>size_to_reserve_at_beginning,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>initial_allocation_size)</highlight></codeline>
<codeline lineno="5320"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5321"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1af2dce1c3179550a7870704abc099f086" kindref="member">mz_zip_writer_init_heap_v2</ref>(pZip,<sp/>size_to_reserve_at_beginning,<sp/>initial_allocation_size,<sp/>0);</highlight></codeline>
<codeline lineno="5322"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5323"><highlight class="normal"></highlight></codeline>
<codeline lineno="5324"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_STDIO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5325"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a3f7ad53ba9b773bbcb6c8edd91f8b918" kindref="member">mz_zip_file_write_func</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pOpaque,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>file_ofs,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>n)</highlight></codeline>
<codeline lineno="5326"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5327"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip<sp/>=<sp/>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*)pOpaque;</highlight></codeline>
<codeline lineno="5328"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref><sp/>cur_ofs<sp/>=<sp/><ref refid="miniz_8c_1af3b9d5f2af50464d16fd7a6ef48c916b" kindref="member">MZ_FTELL64</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>);</highlight></codeline>
<codeline lineno="5329"><highlight class="normal"></highlight></codeline>
<codeline lineno="5330"><highlight class="normal"><sp/><sp/><sp/><sp/>file_ofs<sp/>+=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a2705cc469d5f08543d5f827f43f391ec" kindref="member">m_file_archive_start_ofs</ref>;</highlight></codeline>
<codeline lineno="5331"><highlight class="normal"></highlight></codeline>
<codeline lineno="5332"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((<ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref>)file_ofs<sp/>&lt;<sp/>0)<sp/>||<sp/>(((cur_ofs<sp/>!=<sp/>(<ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref>)file_ofs))<sp/>&amp;&amp;<sp/>(<ref refid="miniz_8c_1a6cd8f6b4134fc9ea62f311ac7f2c5c1d" kindref="member">MZ_FSEEK64</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>,<sp/>(<ref refid="miniz_8h_1a49738d6efcd5ee0779fee9582fb3ebfa" kindref="member">mz_int64</ref>)file_ofs,<sp/>SEEK_SET))))</highlight></codeline>
<codeline lineno="5333"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dafada0e6e18c6a880a9a5af7848cceb54" kindref="member">MZ_ZIP_FILE_SEEK_FAILED</ref>);</highlight></codeline>
<codeline lineno="5335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="5336"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5337"><highlight class="normal"></highlight></codeline>
<codeline lineno="5338"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a5f224b658d4b01790ef55ccd3ff8d3a2" kindref="member">MZ_FWRITE</ref>(pBuf,<sp/>1,<sp/>n,<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>);</highlight></codeline>
<codeline lineno="5339"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5340"><highlight class="normal"></highlight></codeline>
<codeline lineno="5341"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a1ef57babf68945c7ef12f471d7c417c9" kindref="member">mz_zip_writer_init_file</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>size_to_reserve_at_beginning)</highlight></codeline>
<codeline lineno="5342"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5343"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a3f063007374b7ddf5fd84f0644b4cfba" kindref="member">mz_zip_writer_init_file_v2</ref>(pZip,<sp/>pFilename,<sp/>size_to_reserve_at_beginning,<sp/>0);</highlight></codeline>
<codeline lineno="5344"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5345"><highlight class="normal"></highlight></codeline>
<codeline lineno="5346"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a3f063007374b7ddf5fd84f0644b4cfba" kindref="member">mz_zip_writer_init_file_v2</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>size_to_reserve_at_beginning,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="5347"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5348"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref><sp/>*pFile;</highlight></codeline>
<codeline lineno="5349"><highlight class="normal"></highlight></codeline>
<codeline lineno="5350"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref><sp/>=<sp/><ref refid="miniz_8c_1a3f7ad53ba9b773bbcb6c8edd91f8b918" kindref="member">mz_zip_file_write_func</ref>;</highlight></codeline>
<codeline lineno="5351"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a943ea385742e04f7995cb54b46892213" kindref="member">m_pNeeds_keepalive</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="5352"><highlight class="normal"></highlight></codeline>
<codeline lineno="5353"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_WRITE_ALLOW_READING)</highlight></codeline>
<codeline lineno="5354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref><sp/>=<sp/><ref refid="miniz_8c_1a1440cf12da0b3513e14319c32f04b44f" kindref="member">mz_zip_file_read_func</ref>;</highlight></codeline>
<codeline lineno="5355"><highlight class="normal"></highlight></codeline>
<codeline lineno="5356"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref><sp/>=<sp/>pZip;</highlight></codeline>
<codeline lineno="5357"><highlight class="normal"></highlight></codeline>
<codeline lineno="5358"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1ae7a4dc8ccdc92cf8fe90f0703dae5650" kindref="member">mz_zip_writer_init_v2</ref>(pZip,<sp/>size_to_reserve_at_beginning,<sp/>flags))</highlight></codeline>
<codeline lineno="5359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5360"><highlight class="normal"></highlight></codeline>
<codeline lineno="5361"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>(pFile<sp/>=<sp/><ref refid="miniz_8c_1a7ab43238d8cd27afaf9ee668c8f6ab70" kindref="member">MZ_FOPEN</ref>(pFilename,<sp/>(flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_WRITE_ALLOW_READING)<sp/>?<sp/></highlight><highlight class="stringliteral">&quot;w+b&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;wb&quot;</highlight><highlight class="normal">)))</highlight></codeline>
<codeline lineno="5362"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a7ac49ded3cc37713226764131602e857" kindref="member">mz_zip_writer_end</ref>(pZip);</highlight></codeline>
<codeline lineno="5364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da0c392e441dd7e14e4731686e8f3369ed" kindref="member">MZ_ZIP_FILE_OPEN_FAILED</ref>);</highlight></codeline>
<codeline lineno="5365"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5366"><highlight class="normal"></highlight></codeline>
<codeline lineno="5367"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref><sp/>=<sp/>pFile;</highlight></codeline>
<codeline lineno="5368"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ae63ea3648c32998d2b17cc6dc6401671" kindref="member">m_zip_type</ref><sp/>=<sp/><ref refid="miniz_8h_1a9e009caf9b469d91618c184666c50da4a1c755e926bbf9197e0d64a0387a4e70a" kindref="member">MZ_ZIP_TYPE_FILE</ref>;</highlight></codeline>
<codeline lineno="5369"><highlight class="normal"></highlight></codeline>
<codeline lineno="5370"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(size_to_reserve_at_beginning)</highlight></codeline>
<codeline lineno="5371"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>cur_ofs<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>buf[4096];</highlight></codeline>
<codeline lineno="5374"><highlight class="normal"></highlight></codeline>
<codeline lineno="5375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(buf);</highlight></codeline>
<codeline lineno="5376"><highlight class="normal"></highlight></codeline>
<codeline lineno="5377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>n<sp/>=<sp/>(size_t)<ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(buf),<sp/>size_to_reserve_at_beginning);</highlight></codeline>
<codeline lineno="5380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_ofs,<sp/>buf,<sp/>n)<sp/>!=<sp/>n)</highlight></codeline>
<codeline lineno="5381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a7ac49ded3cc37713226764131602e857" kindref="member">mz_zip_writer_end</ref>(pZip);</highlight></codeline>
<codeline lineno="5383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="5384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_ofs<sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="5386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>size_to_reserve_at_beginning<sp/>-=<sp/>n;</highlight></codeline>
<codeline lineno="5387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(size_to_reserve_at_beginning);</highlight></codeline>
<codeline lineno="5388"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5389"><highlight class="normal"></highlight></codeline>
<codeline lineno="5390"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5391"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5392"><highlight class="normal"></highlight></codeline>
<codeline lineno="5393"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a7d826f57eb4ba51217912b915512bd77" kindref="member">mz_zip_writer_init_cfile</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref><sp/>*pFile,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="5394"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5395"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref><sp/>=<sp/><ref refid="miniz_8c_1a3f7ad53ba9b773bbcb6c8edd91f8b918" kindref="member">mz_zip_file_write_func</ref>;</highlight></codeline>
<codeline lineno="5396"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a943ea385742e04f7995cb54b46892213" kindref="member">m_pNeeds_keepalive</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="5397"><highlight class="normal"></highlight></codeline>
<codeline lineno="5398"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_WRITE_ALLOW_READING)</highlight></codeline>
<codeline lineno="5399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref><sp/>=<sp/><ref refid="miniz_8c_1a1440cf12da0b3513e14319c32f04b44f" kindref="member">mz_zip_file_read_func</ref>;</highlight></codeline>
<codeline lineno="5400"><highlight class="normal"></highlight></codeline>
<codeline lineno="5401"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref><sp/>=<sp/>pZip;</highlight></codeline>
<codeline lineno="5402"><highlight class="normal"></highlight></codeline>
<codeline lineno="5403"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1ae7a4dc8ccdc92cf8fe90f0703dae5650" kindref="member">mz_zip_writer_init_v2</ref>(pZip,<sp/>0,<sp/>flags))</highlight></codeline>
<codeline lineno="5404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5405"><highlight class="normal"></highlight></codeline>
<codeline lineno="5406"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref><sp/>=<sp/>pFile;</highlight></codeline>
<codeline lineno="5407"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a2705cc469d5f08543d5f827f43f391ec" kindref="member">m_file_archive_start_ofs</ref><sp/>=<sp/><ref refid="miniz_8c_1af3b9d5f2af50464d16fd7a6ef48c916b" kindref="member">MZ_FTELL64</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>);</highlight></codeline>
<codeline lineno="5408"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ae63ea3648c32998d2b17cc6dc6401671" kindref="member">m_zip_type</ref><sp/>=<sp/><ref refid="miniz_8h_1a9e009caf9b469d91618c184666c50da4a83f61a4c11f3ac2eb415546785502af7" kindref="member">MZ_ZIP_TYPE_CFILE</ref>;</highlight></codeline>
<codeline lineno="5409"><highlight class="normal"></highlight></codeline>
<codeline lineno="5410"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5411"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5412"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifndef<sp/>MINIZ_NO_STDIO<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5413"><highlight class="normal"></highlight></codeline>
<codeline lineno="5414"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1aaa53ceaf8230510769b12e04df060c23" kindref="member">mz_zip_writer_init_from_reader_v2</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="5415"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5416"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref><sp/>*pState;</highlight></codeline>
<codeline lineno="5417"><highlight class="normal"></highlight></codeline>
<codeline lineno="5418"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)<sp/>||<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>!=<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a40c391220d01d172a451f3dad0d5aed6" kindref="member">MZ_ZIP_MODE_READING</ref>))</highlight></codeline>
<codeline lineno="5419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="5420"><highlight class="normal"></highlight></codeline>
<codeline lineno="5421"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a0b7f6f797da7a3d078535ba71ca00858a43306564d2afb7c7347cd7041481fa36" kindref="member">MZ_ZIP_FLAG_WRITE_ZIP64</ref>)</highlight></codeline>
<codeline lineno="5422"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>We<sp/>don&apos;t<sp/>support<sp/>converting<sp/>a<sp/>non-zip64<sp/>file<sp/>to<sp/>zip64<sp/>-<sp/>this<sp/>seems<sp/>like<sp/>more<sp/>trouble<sp/>than<sp/>it&apos;s<sp/>worth.<sp/>(What<sp/>about<sp/>the<sp/>existing<sp/>32-bit<sp/>data<sp/>descriptors<sp/>that<sp/>could<sp/>follow<sp/>the<sp/>compressed<sp/>data?)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="5425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="5426"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5427"><highlight class="normal"></highlight></codeline>
<codeline lineno="5428"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>No<sp/>sense<sp/>in<sp/>trying<sp/>to<sp/>write<sp/>to<sp/>an<sp/>archive<sp/>that&apos;s<sp/>already<sp/>at<sp/>the<sp/>support<sp/>max<sp/>size<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5429"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="5430"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>==<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="5432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da72b70e986fc0d33212f6a898e3e6ee94" kindref="member">MZ_ZIP_TOO_MANY_FILES</ref>);</highlight></codeline>
<codeline lineno="5433"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5434"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5435"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>==<sp/><ref refid="miniz_8h_1a512356d187ddd5c72e3123703d60b6cf" kindref="member">MZ_UINT16_MAX</ref>)</highlight></codeline>
<codeline lineno="5437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da72b70e986fc0d33212f6a898e3e6ee94" kindref="member">MZ_ZIP_TOO_MANY_FILES</ref>);</highlight></codeline>
<codeline lineno="5438"><highlight class="normal"></highlight></codeline>
<codeline lineno="5439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>)<sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="5440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da1365f1c2703389a5e6d5b5bbcca37859" kindref="member">MZ_ZIP_FILE_TOO_LARGE</ref>);</highlight></codeline>
<codeline lineno="5441"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5442"><highlight class="normal"></highlight></codeline>
<codeline lineno="5443"><highlight class="normal"><sp/><sp/><sp/><sp/>pState<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>;</highlight></codeline>
<codeline lineno="5444"><highlight class="normal"></highlight></codeline>
<codeline lineno="5445"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>)</highlight></codeline>
<codeline lineno="5446"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5447"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>MINIZ_NO_STDIO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)pFilename;</highlight></codeline>
<codeline lineno="5449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="5450"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref><sp/>!=<sp/>pZip)</highlight></codeline>
<codeline lineno="5452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="5453"><highlight class="normal"></highlight></codeline>
<codeline lineno="5454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ae63ea3648c32998d2b17cc6dc6401671" kindref="member">m_zip_type</ref><sp/>==<sp/><ref refid="miniz_8h_1a9e009caf9b469d91618c184666c50da4a1c755e926bbf9197e0d64a0387a4e70a" kindref="member">MZ_ZIP_TYPE_FILE</ref>)</highlight></codeline>
<codeline lineno="5455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pFilename)</highlight></codeline>
<codeline lineno="5457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="5458"><highlight class="normal"></highlight></codeline>
<codeline lineno="5459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Archive<sp/>is<sp/>being<sp/>read<sp/>from<sp/>stdio<sp/>and<sp/>was<sp/>originally<sp/>opened<sp/>only<sp/>for<sp/>reading.<sp/>Try<sp/>to<sp/>reopen<sp/>as<sp/>writable.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref><sp/>=<sp/><ref refid="miniz_8c_1a39982d7e112363ff6d284ace3b9cf9bc" kindref="member">MZ_FREOPEN</ref>(pFilename,<sp/></highlight><highlight class="stringliteral">&quot;r+b&quot;</highlight><highlight class="normal">,<sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>)))</highlight></codeline>
<codeline lineno="5461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>The<sp/>mz_zip_archive<sp/>is<sp/>now<sp/>in<sp/>a<sp/>bogus<sp/>state<sp/>because<sp/>pState-&gt;m_pFile<sp/>is<sp/>NULL,<sp/>so<sp/>just<sp/>close<sp/>it.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a550503f834d14ecf4baf1eff98f3ca5c" kindref="member">mz_zip_reader_end_internal</ref>(pZip,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="5464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da0c392e441dd7e14e4731686e8f3369ed" kindref="member">MZ_ZIP_FILE_OPEN_FAILED</ref>);</highlight></codeline>
<codeline lineno="5465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5467"><highlight class="normal"></highlight></codeline>
<codeline lineno="5468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref><sp/>=<sp/><ref refid="miniz_8c_1a3f7ad53ba9b773bbcb6c8edd91f8b918" kindref="member">mz_zip_file_write_func</ref>;</highlight></codeline>
<codeline lineno="5469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a943ea385742e04f7995cb54b46892213" kindref="member">m_pNeeds_keepalive</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="5470"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifdef<sp/>MINIZ_NO_STDIO<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5471"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5472"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref>)</highlight></codeline>
<codeline lineno="5473"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Archive<sp/>lives<sp/>in<sp/>a<sp/>memory<sp/>block.<sp/>Assume<sp/>it&apos;s<sp/>from<sp/>the<sp/>heap<sp/>that<sp/>we<sp/>can<sp/>resize<sp/>using<sp/>the<sp/>realloc<sp/>callback.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref><sp/>!=<sp/>pZip)</highlight></codeline>
<codeline lineno="5476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="5477"><highlight class="normal"></highlight></codeline>
<codeline lineno="5478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a71f011527805e3ac48f5f12cb73d2233" kindref="member">m_mem_capacity</ref><sp/>=<sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a4511d7743e1a63fb78ed066f8de96466" kindref="member">m_mem_size</ref>;</highlight></codeline>
<codeline lineno="5479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref><sp/>=<sp/><ref refid="miniz_8c_1a80eaca434d785016af778ef5c93399e8" kindref="member">mz_zip_heap_write_func</ref>;</highlight></codeline>
<codeline lineno="5480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a943ea385742e04f7995cb54b46892213" kindref="member">m_pNeeds_keepalive</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="5481"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5482"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Archive<sp/>is<sp/>being<sp/>read<sp/>via<sp/>a<sp/>user<sp/>provided<sp/>read<sp/>function<sp/>-<sp/>make<sp/>sure<sp/>the<sp/>user<sp/>has<sp/>specified<sp/>a<sp/>write<sp/>function<sp/>too.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5483"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>)</highlight></codeline>
<codeline lineno="5484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="5485"><highlight class="normal"></highlight></codeline>
<codeline lineno="5486"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>writing<sp/>new<sp/>files<sp/>at<sp/>the<sp/>archive&apos;s<sp/>current<sp/>central<sp/>directory<sp/>location.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5487"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>TODO:<sp/>We<sp/>could<sp/>add<sp/>a<sp/>flag<sp/>that<sp/>lets<sp/>the<sp/>user<sp/>start<sp/>writing<sp/>immediately<sp/>AFTER<sp/>the<sp/>existing<sp/>central<sp/>dir<sp/>-<sp/>this<sp/>would<sp/>be<sp/>safer.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5488"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a128125bc28f4d1f118fe7b9badd0f975" kindref="member">m_central_directory_file_ofs</ref>;</highlight></codeline>
<codeline lineno="5489"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a128125bc28f4d1f118fe7b9badd0f975" kindref="member">m_central_directory_file_ofs</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5490"><highlight class="normal"></highlight></codeline>
<codeline lineno="5491"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Clear<sp/>the<sp/>sorted<sp/>central<sp/>dir<sp/>offsets,<sp/>they<sp/>aren&apos;t<sp/>useful<sp/>or<sp/>maintained<sp/>now.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5492"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Even<sp/>though<sp/>we&apos;re<sp/>now<sp/>in<sp/>write<sp/>mode,<sp/>files<sp/>can<sp/>still<sp/>be<sp/>extracted<sp/>and<sp/>verified,<sp/>but<sp/>file<sp/>locates<sp/>will<sp/>be<sp/>slow.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5493"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>TODO:<sp/>We<sp/>could<sp/>easily<sp/>maintain<sp/>the<sp/>sorted<sp/>central<sp/>directory<sp/>offsets.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5494"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a1e3af54224b61cb20d6ceaeb5807bc33" kindref="member">m_sorted_central_dir_offsets</ref>);</highlight></codeline>
<codeline lineno="5495"><highlight class="normal"></highlight></codeline>
<codeline lineno="5496"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>=<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a3b3ad1c596f00688f17e2672c1a20064" kindref="member">MZ_ZIP_MODE_WRITING</ref>;</highlight></codeline>
<codeline lineno="5497"><highlight class="normal"></highlight></codeline>
<codeline lineno="5498"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5499"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5500"><highlight class="normal"></highlight></codeline>
<codeline lineno="5501"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1aea1a273234436ccb155a0e92ef2a30e4" kindref="member">mz_zip_writer_init_from_reader</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename)</highlight></codeline>
<codeline lineno="5502"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5503"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1aaa53ceaf8230510769b12e04df060c23" kindref="member">mz_zip_writer_init_from_reader_v2</ref>(pZip,<sp/>pFilename,<sp/>0);</highlight></codeline>
<codeline lineno="5504"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5505"><highlight class="normal"></highlight></codeline>
<codeline lineno="5506"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>TODO:<sp/>pArchive_name<sp/>is<sp/>a<sp/>terrible<sp/>name<sp/>here!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5507"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1ab5aac408b80e6f51a14434330fc76d6d" kindref="member">mz_zip_writer_add_mem</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pArchive_name,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>buf_size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>level_and_flags)</highlight></codeline>
<codeline lineno="5508"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5509"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a48ece9a3d251aa69af280e975b6cc080" kindref="member">mz_zip_writer_add_mem_ex</ref>(pZip,<sp/>pArchive_name,<sp/>pBuf,<sp/>buf_size,<sp/>NULL,<sp/>0,<sp/>level_and_flags,<sp/>0,<sp/>0);</highlight></codeline>
<codeline lineno="5510"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5511"><highlight class="normal"></highlight></codeline>
<codeline lineno="5512" refid="structmz__zip__writer__add__state" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5513"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5514"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*m_pZip;</highlight></codeline>
<codeline lineno="5515"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>m_cur_archive_file_ofs;</highlight></codeline>
<codeline lineno="5516"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>m_comp_size;</highlight></codeline>
<codeline lineno="5517"><highlight class="normal">}<sp/><ref refid="structmz__zip__writer__add__state" kindref="compound">mz_zip_writer_add_state</ref>;</highlight></codeline>
<codeline lineno="5518"><highlight class="normal"></highlight></codeline>
<codeline lineno="5519"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a97588a80c7490308f27a91cb40a355a8" kindref="member">mz_zip_writer_add_put_buf_callback</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>len,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pUser)</highlight></codeline>
<codeline lineno="5520"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5521"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__writer__add__state" kindref="compound">mz_zip_writer_add_state</ref><sp/>*pState<sp/>=<sp/>(<ref refid="structmz__zip__writer__add__state" kindref="compound">mz_zip_writer_add_state</ref><sp/>*)pUser;</highlight></codeline>
<codeline lineno="5522"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)pState-&gt;<ref refid="structmz__zip__writer__add__state_1a8beb0e578862314a35cc724aeb95e709" kindref="member">m_pZip</ref>-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pState-&gt;<ref refid="structmz__zip__writer__add__state_1a8beb0e578862314a35cc724aeb95e709" kindref="member">m_pZip</ref>-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>pState-&gt;<ref refid="structmz__zip__writer__add__state_1a305f9fa7f47b583ee53b8ee0401edd9e" kindref="member">m_cur_archive_file_ofs</ref>,<sp/>pBuf,<sp/>len)<sp/>!=<sp/>len)</highlight></codeline>
<codeline lineno="5523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5524"><highlight class="normal"></highlight></codeline>
<codeline lineno="5525"><highlight class="normal"><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structmz__zip__writer__add__state_1a305f9fa7f47b583ee53b8ee0401edd9e" kindref="member">m_cur_archive_file_ofs</ref><sp/>+=<sp/>len;</highlight></codeline>
<codeline lineno="5526"><highlight class="normal"><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structmz__zip__writer__add__state_1a4736843d8fbef3a1d323451bb29ae3cd" kindref="member">m_comp_size</ref><sp/>+=<sp/>len;</highlight></codeline>
<codeline lineno="5527"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5528"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5529"><highlight class="normal"></highlight></codeline>
<codeline lineno="5530"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_ZIP64_MAX_LOCAL_EXTRA_FIELD_SIZE<sp/>(sizeof(mz_uint16)<sp/>*<sp/>2<sp/>+<sp/>sizeof(mz_uint64)<sp/>*<sp/>2)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5531"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MZ_ZIP64_MAX_CENTRAL_EXTRA_FIELD_SIZE<sp/>(sizeof(mz_uint16)<sp/>*<sp/>2<sp/>+<sp/>sizeof(mz_uint64)<sp/>*<sp/>3)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5532"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/><ref refid="miniz_8c_1a8e6757d07832c14a6310ca0524c3f024" kindref="member">mz_zip_writer_create_zip64_extra_data</ref>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pBuf,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>*pUncomp_size,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>*pComp_size,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>*pLocal_header_ofs)</highlight></codeline>
<codeline lineno="5533"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5534"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pDst<sp/>=<sp/>pBuf;</highlight></codeline>
<codeline lineno="5535"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>field_size<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5536"><highlight class="normal"></highlight></codeline>
<codeline lineno="5537"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/>0,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a76fd85fc5176e2615ec50dc9e9a850dc" kindref="member">MZ_ZIP64_EXTENDED_INFORMATION_FIELD_HEADER_ID</ref>);</highlight></codeline>
<codeline lineno="5538"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/>2,<sp/>0);</highlight></codeline>
<codeline lineno="5539"><highlight class="normal"><sp/><sp/><sp/><sp/>pDst<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2;</highlight></codeline>
<codeline lineno="5540"><highlight class="normal"></highlight></codeline>
<codeline lineno="5541"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pUncomp_size)</highlight></codeline>
<codeline lineno="5542"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae6ce659c1af2562e681e9e6f09064d3d" kindref="member">MZ_WRITE_LE64</ref>(pDst,<sp/>*pUncomp_size);</highlight></codeline>
<codeline lineno="5544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pDst<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>);</highlight></codeline>
<codeline lineno="5545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_size<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>);</highlight></codeline>
<codeline lineno="5546"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5547"><highlight class="normal"></highlight></codeline>
<codeline lineno="5548"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pComp_size)</highlight></codeline>
<codeline lineno="5549"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae6ce659c1af2562e681e9e6f09064d3d" kindref="member">MZ_WRITE_LE64</ref>(pDst,<sp/>*pComp_size);</highlight></codeline>
<codeline lineno="5551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pDst<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>);</highlight></codeline>
<codeline lineno="5552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_size<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>);</highlight></codeline>
<codeline lineno="5553"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5554"><highlight class="normal"></highlight></codeline>
<codeline lineno="5555"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pLocal_header_ofs)</highlight></codeline>
<codeline lineno="5556"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae6ce659c1af2562e681e9e6f09064d3d" kindref="member">MZ_WRITE_LE64</ref>(pDst,<sp/>*pLocal_header_ofs);</highlight></codeline>
<codeline lineno="5558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pDst<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>);</highlight></codeline>
<codeline lineno="5559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_size<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>);</highlight></codeline>
<codeline lineno="5560"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5561"><highlight class="normal"></highlight></codeline>
<codeline lineno="5562"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pBuf<sp/>+<sp/>2,<sp/>field_size);</highlight></codeline>
<codeline lineno="5563"><highlight class="normal"></highlight></codeline>
<codeline lineno="5564"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)(pDst<sp/>-<sp/>pBuf);</highlight></codeline>
<codeline lineno="5565"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5566"><highlight class="normal"></highlight></codeline>
<codeline lineno="5567"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1ae1b9b894b1fe6286919b091c89337633" kindref="member">mz_zip_writer_create_local_dir_header</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pDst,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>filename_size,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>extra_size,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>uncomp_size,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>comp_size,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>uncomp_crc32,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>method,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>bit_flags,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>dos_time,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>dos_date)</highlight></codeline>
<codeline lineno="5568"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5569"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)pZip;</highlight></codeline>
<codeline lineno="5570"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(pDst,<sp/>0,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>);</highlight></codeline>
<codeline lineno="5571"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a8e097e1ab652a56cc76597c8ef1999c0" kindref="member">MZ_ZIP_LDH_SIG_OFS</ref>,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a05f28665e3880ca5863fff3ca58129b6" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIG</ref>);</highlight></codeline>
<codeline lineno="5572"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa84f798966b9ea678b5eaebc6dca4b70" kindref="member">MZ_ZIP_LDH_VERSION_NEEDED_OFS</ref>,<sp/>method<sp/>?<sp/>20<sp/>:<sp/>0);</highlight></codeline>
<codeline lineno="5573"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0ed8079f712b2ec7963d9b1378596528" kindref="member">MZ_ZIP_LDH_BIT_FLAG_OFS</ref>,<sp/>bit_flags);</highlight></codeline>
<codeline lineno="5574"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a607eeb03e7ee0916fa7d93abaaaba9fd" kindref="member">MZ_ZIP_LDH_METHOD_OFS</ref>,<sp/>method);</highlight></codeline>
<codeline lineno="5575"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4d8dee6a3a5a1bb480dbbd7b9bff6a68" kindref="member">MZ_ZIP_LDH_FILE_TIME_OFS</ref>,<sp/>dos_time);</highlight></codeline>
<codeline lineno="5576"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5cb18f68ead9424b140fd8710ee9e124" kindref="member">MZ_ZIP_LDH_FILE_DATE_OFS</ref>,<sp/>dos_date);</highlight></codeline>
<codeline lineno="5577"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0b518fa8ffa820df4771f9d567c13dcc" kindref="member">MZ_ZIP_LDH_CRC32_OFS</ref>,<sp/>uncomp_crc32);</highlight></codeline>
<codeline lineno="5578"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a67751a44d185feb156f40a7cd922a577" kindref="member">MZ_ZIP_LDH_COMPRESSED_SIZE_OFS</ref>,<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(comp_size,<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>));</highlight></codeline>
<codeline lineno="5579"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac3538fb6973847de5f8bd315ba8d0e1d" kindref="member">MZ_ZIP_LDH_DECOMPRESSED_SIZE_OFS</ref>,<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(uncomp_size,<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>));</highlight></codeline>
<codeline lineno="5580"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4990e590f2652f0d540c3eb35e3f650f" kindref="member">MZ_ZIP_LDH_FILENAME_LEN_OFS</ref>,<sp/>filename_size);</highlight></codeline>
<codeline lineno="5581"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aaecc052d653e298f93b9c5523c98f5f2" kindref="member">MZ_ZIP_LDH_EXTRA_LEN_OFS</ref>,<sp/>extra_size);</highlight></codeline>
<codeline lineno="5582"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5583"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5584"><highlight class="normal"></highlight></codeline>
<codeline lineno="5585"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a7b85d16940dcbcb59615be2442e54f66" kindref="member">mz_zip_writer_create_central_dir_header</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pDst,</highlight></codeline>
<codeline lineno="5586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>filename_size,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>extra_size,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>comment_size,</highlight></codeline>
<codeline lineno="5587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>uncomp_size,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>comp_size,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>uncomp_crc32,</highlight></codeline>
<codeline lineno="5588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>method,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>bit_flags,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>dos_time,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>dos_date,</highlight></codeline>
<codeline lineno="5589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>local_header_ofs,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>ext_attributes)</highlight></codeline>
<codeline lineno="5590"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5591"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)pZip;</highlight></codeline>
<codeline lineno="5592"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(pDst,<sp/>0,<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE);</highlight></codeline>
<codeline lineno="5593"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a358e2e9adf6165535355f8bb86112dec" kindref="member">MZ_ZIP_CDH_SIG_OFS</ref>,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a77d0b453bce2a419b6144bf87e71b170" kindref="member">MZ_ZIP_CENTRAL_DIR_HEADER_SIG</ref>);</highlight></codeline>
<codeline lineno="5594"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a122562cf2a1182825317fe26e7902e64" kindref="member">MZ_ZIP_CDH_VERSION_NEEDED_OFS</ref>,<sp/>method<sp/>?<sp/>20<sp/>:<sp/>0);</highlight></codeline>
<codeline lineno="5595"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac50291ea0ed2b18a069f5e129f098db2" kindref="member">MZ_ZIP_CDH_BIT_FLAG_OFS</ref>,<sp/>bit_flags);</highlight></codeline>
<codeline lineno="5596"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a49864f9b56c094003565ed64b2b4aed1" kindref="member">MZ_ZIP_CDH_METHOD_OFS</ref>,<sp/>method);</highlight></codeline>
<codeline lineno="5597"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a6954b28080a1fb151914b00da25074f5" kindref="member">MZ_ZIP_CDH_FILE_TIME_OFS</ref>,<sp/>dos_time);</highlight></codeline>
<codeline lineno="5598"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0a30dbf39d1e87013ef095186370cc36" kindref="member">MZ_ZIP_CDH_FILE_DATE_OFS</ref>,<sp/>dos_date);</highlight></codeline>
<codeline lineno="5599"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a98e11950c99539215b65a334a2afe989" kindref="member">MZ_ZIP_CDH_CRC32_OFS</ref>,<sp/>uncomp_crc32);</highlight></codeline>
<codeline lineno="5600"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2a463b99b8d0699bda4e3a52dd1d1015" kindref="member">MZ_ZIP_CDH_COMPRESSED_SIZE_OFS</ref>,<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(comp_size,<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>));</highlight></codeline>
<codeline lineno="5601"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a43afeb736295b1f90330d79db8420c9e" kindref="member">MZ_ZIP_CDH_DECOMPRESSED_SIZE_OFS</ref>,<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(uncomp_size,<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>));</highlight></codeline>
<codeline lineno="5602"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03f4415315a96a9691344f193cef8da2" kindref="member">MZ_ZIP_CDH_FILENAME_LEN_OFS</ref>,<sp/>filename_size);</highlight></codeline>
<codeline lineno="5603"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5a7ea82498b1ffd464965872fe507d8b" kindref="member">MZ_ZIP_CDH_EXTRA_LEN_OFS</ref>,<sp/>extra_size);</highlight></codeline>
<codeline lineno="5604"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac67dc228d5e122d1ad9cd42072e65c1d" kindref="member">MZ_ZIP_CDH_COMMENT_LEN_OFS</ref>,<sp/>comment_size);</highlight></codeline>
<codeline lineno="5605"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ab4dec2086b60f7e1c7ce499b07b966cb" kindref="member">MZ_ZIP_CDH_EXTERNAL_ATTR_OFS</ref>,<sp/>ext_attributes);</highlight></codeline>
<codeline lineno="5606"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(pDst<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a15dc7648592d367c3edaac476c3aac87" kindref="member">MZ_ZIP_CDH_LOCAL_HEADER_OFS</ref>,<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(local_header_ofs,<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>));</highlight></codeline>
<codeline lineno="5607"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5608"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5609"><highlight class="normal"></highlight></codeline>
<codeline lineno="5610"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a0a0f9c1d13431f247f29c0585fad94a6" kindref="member">mz_zip_writer_add_to_central_dir</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>filename_size,</highlight></codeline>
<codeline lineno="5611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pExtra,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>extra_size,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pComment,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>comment_size,</highlight></codeline>
<codeline lineno="5612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>uncomp_size,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>comp_size,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>uncomp_crc32,</highlight></codeline>
<codeline lineno="5613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>method,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>bit_flags,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>dos_time,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>dos_date,</highlight></codeline>
<codeline lineno="5614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>local_header_ofs,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>ext_attributes,</highlight></codeline>
<codeline lineno="5615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*user_extra_data,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>user_extra_data_len)</highlight></codeline>
<codeline lineno="5616"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5617"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref><sp/>*pState<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>;</highlight></codeline>
<codeline lineno="5618"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>central_dir_ofs<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref>;</highlight></codeline>
<codeline lineno="5619"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>orig_central_dir_size<sp/>=<sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref>;</highlight></codeline>
<codeline lineno="5620"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>central_dir_header[MZ_ZIP_CENTRAL_DIR_HEADER_SIZE];</highlight></codeline>
<codeline lineno="5621"><highlight class="normal"></highlight></codeline>
<codeline lineno="5622"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="5623"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(local_header_ofs<sp/>&gt;<sp/>0xFFFFFFFF)</highlight></codeline>
<codeline lineno="5625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da1365f1c2703389a5e6d5b5bbcca37859" kindref="member">MZ_ZIP_FILE_TOO_LARGE</ref>);</highlight></codeline>
<codeline lineno="5626"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5627"><highlight class="normal"></highlight></codeline>
<codeline lineno="5628"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>miniz<sp/>doesn&apos;t<sp/>support<sp/>central<sp/>dirs<sp/>&gt;=<sp/>MZ_UINT32_MAX<sp/>bytes<sp/>yet<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5629"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref><sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE<sp/>+<sp/>filename_size<sp/>+<sp/>extra_size<sp/>+<sp/>user_extra_data_len<sp/>+<sp/>comment_size)<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="5630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dace5ba2a072f9f615873588e7ebc56ab3" kindref="member">MZ_ZIP_UNSUPPORTED_CDIR_SIZE</ref>);</highlight></codeline>
<codeline lineno="5631"><highlight class="normal"></highlight></codeline>
<codeline lineno="5632"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a7b85d16940dcbcb59615be2442e54f66" kindref="member">mz_zip_writer_create_central_dir_header</ref>(pZip,<sp/>central_dir_header,<sp/>filename_size,<sp/>extra_size<sp/>+<sp/>user_extra_data_len,<sp/>comment_size,<sp/>uncomp_size,<sp/>comp_size,<sp/>uncomp_crc32,<sp/>method,<sp/>bit_flags,<sp/>dos_time,<sp/>dos_date,<sp/>local_header_ofs,<sp/>ext_attributes))</highlight></codeline>
<codeline lineno="5633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da399161cc4d02bf0bb1815089d2bbdeb8" kindref="member">MZ_ZIP_INTERNAL_ERROR</ref>);</highlight></codeline>
<codeline lineno="5634"><highlight class="normal"></highlight></codeline>
<codeline lineno="5635"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!<ref refid="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" kindref="member">mz_zip_array_push_back</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>central_dir_header,<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE))<sp/>||</highlight></codeline>
<codeline lineno="5636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(!<ref refid="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" kindref="member">mz_zip_array_push_back</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>pFilename,<sp/>filename_size))<sp/>||</highlight></codeline>
<codeline lineno="5637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(!<ref refid="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" kindref="member">mz_zip_array_push_back</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>pExtra,<sp/>extra_size))<sp/>||</highlight></codeline>
<codeline lineno="5638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(!<ref refid="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" kindref="member">mz_zip_array_push_back</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>user_extra_data,<sp/>user_extra_data_len))<sp/>||</highlight></codeline>
<codeline lineno="5639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(!<ref refid="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" kindref="member">mz_zip_array_push_back</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>pComment,<sp/>comment_size))<sp/>||</highlight></codeline>
<codeline lineno="5640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(!<ref refid="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" kindref="member">mz_zip_array_push_back</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a51a9aa41f7499c7e6e4c2546aa965b9c" kindref="member">m_central_dir_offsets</ref>,<sp/>&amp;central_dir_ofs,<sp/>1)))</highlight></codeline>
<codeline lineno="5641"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Try<sp/>to<sp/>resize<sp/>the<sp/>central<sp/>directory<sp/>array<sp/>back<sp/>into<sp/>its<sp/>original<sp/>state.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1aef74dba7366dcc1de36eca8682480ddb" kindref="member">mz_zip_array_resize</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>orig_central_dir_size,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="5644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="5645"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5646"><highlight class="normal"></highlight></codeline>
<codeline lineno="5647"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5648"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5649"><highlight class="normal"></highlight></codeline>
<codeline lineno="5650"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a97d5bb6b72d210e1a566e43b10080220" kindref="member">mz_zip_writer_validate_archive_name</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pArchive_name)</highlight></codeline>
<codeline lineno="5651"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5652"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Basic<sp/>ZIP<sp/>archive<sp/>filename<sp/>validity<sp/>checks:<sp/>Valid<sp/>filenames<sp/>cannot<sp/>start<sp/>with<sp/>a<sp/>forward<sp/>slash,<sp/>cannot<sp/>contain<sp/>a<sp/>drive<sp/>letter,<sp/>and<sp/>cannot<sp/>use<sp/>DOS-style<sp/>backward<sp/>slashes.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5653"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*pArchive_name<sp/>==<sp/></highlight><highlight class="charliteral">&apos;/&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="5654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5655"><highlight class="normal"></highlight></codeline>
<codeline lineno="5656"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(*pArchive_name)</highlight></codeline>
<codeline lineno="5657"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((*pArchive_name<sp/>==<sp/></highlight><highlight class="charliteral">&apos;\\&apos;</highlight><highlight class="normal">)<sp/>||<sp/>(*pArchive_name<sp/>==<sp/></highlight><highlight class="charliteral">&apos;:&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="5659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5660"><highlight class="normal"></highlight></codeline>
<codeline lineno="5661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pArchive_name++;</highlight></codeline>
<codeline lineno="5662"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5663"><highlight class="normal"></highlight></codeline>
<codeline lineno="5664"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5665"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5666"><highlight class="normal"></highlight></codeline>
<codeline lineno="5667"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/><ref refid="miniz_8c_1a922d2fef6d4d160a9053cebf4c486a0b" kindref="member">mz_zip_writer_compute_padding_needed_for_file_alignment</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="5668"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5669"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>n;</highlight></codeline>
<codeline lineno="5670"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1ad0a89dcb30f4b8fc8b1a94c9df93d0ff" kindref="member">m_file_offset_alignment</ref>)</highlight></codeline>
<codeline lineno="5671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="5672"><highlight class="normal"><sp/><sp/><sp/><sp/>n<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)(pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>&amp;<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ad0a89dcb30f4b8fc8b1a94c9df93d0ff" kindref="member">m_file_offset_alignment</ref><sp/>-<sp/>1));</highlight></codeline>
<codeline lineno="5673"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)((pZip-&gt;<ref refid="structmz__zip__archive_1ad0a89dcb30f4b8fc8b1a94c9df93d0ff" kindref="member">m_file_offset_alignment</ref><sp/>-<sp/>n)<sp/>&amp;<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ad0a89dcb30f4b8fc8b1a94c9df93d0ff" kindref="member">m_file_offset_alignment</ref><sp/>-<sp/>1));</highlight></codeline>
<codeline lineno="5674"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5675"><highlight class="normal"></highlight></codeline>
<codeline lineno="5676"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1ac2423627c59f318541d6a1218eda198f" kindref="member">mz_zip_writer_write_zeros</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>cur_file_ofs,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>n)</highlight></codeline>
<codeline lineno="5677"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5678"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>buf[4096];</highlight></codeline>
<codeline lineno="5679"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(buf,<sp/>0,<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(buf),<sp/>n));</highlight></codeline>
<codeline lineno="5680"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(n)</highlight></codeline>
<codeline lineno="5681"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>s<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(buf),<sp/>n);</highlight></codeline>
<codeline lineno="5683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_file_ofs,<sp/>buf,<sp/>s)<sp/>!=<sp/>s)</highlight></codeline>
<codeline lineno="5684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="5685"><highlight class="normal"></highlight></codeline>
<codeline lineno="5686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_file_ofs<sp/>+=<sp/>s;</highlight></codeline>
<codeline lineno="5687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>-=<sp/>s;</highlight></codeline>
<codeline lineno="5688"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5689"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5690"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5691"><highlight class="normal"></highlight></codeline>
<codeline lineno="5692"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a48ece9a3d251aa69af280e975b6cc080" kindref="member">mz_zip_writer_add_mem_ex</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pArchive_name,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>buf_size,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pComment,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>comment_size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>level_and_flags,</highlight></codeline>
<codeline lineno="5693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>uncomp_size,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>uncomp_crc32)</highlight></codeline>
<codeline lineno="5694"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5695"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1aeeaca42531d675d5c72f038e1f9e13cd" kindref="member">mz_zip_writer_add_mem_ex_v2</ref>(pZip,<sp/>pArchive_name,<sp/>pBuf,<sp/>buf_size,<sp/>pComment,<sp/>comment_size,<sp/>level_and_flags,<sp/>uncomp_size,<sp/>uncomp_crc32,<sp/>NULL,<sp/>NULL,<sp/>0,<sp/>NULL,<sp/>0);</highlight></codeline>
<codeline lineno="5696"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5697"><highlight class="normal"></highlight></codeline>
<codeline lineno="5698"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1aeeaca42531d675d5c72f038e1f9e13cd" kindref="member">mz_zip_writer_add_mem_ex_v2</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pArchive_name,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>buf_size,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pComment,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>comment_size,</highlight></codeline>
<codeline lineno="5699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>level_and_flags,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>uncomp_size,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>uncomp_crc32,<sp/><ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref><sp/>*last_modified,</highlight></codeline>
<codeline lineno="5700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*user_extra_data,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>user_extra_data_len,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*user_extra_data_central,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>user_extra_data_central_len)</highlight></codeline>
<codeline lineno="5701"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5702"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>method<sp/>=<sp/>0,<sp/>dos_time<sp/>=<sp/>0,<sp/>dos_date<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5703"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>level,<sp/>ext_attributes<sp/>=<sp/>0,<sp/>num_alignment_padding_bytes;</highlight></codeline>
<codeline lineno="5704"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>local_dir_header_ofs<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref>,<sp/>cur_archive_file_ofs<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref>,<sp/>comp_size<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5705"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>archive_name_size;</highlight></codeline>
<codeline lineno="5706"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>local_dir_header[<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>];</highlight></codeline>
<codeline lineno="5707"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*pComp<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="5708"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>store_data_uncompressed;</highlight></codeline>
<codeline lineno="5709"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref><sp/>*pState;</highlight></codeline>
<codeline lineno="5710"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pExtra_data<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="5711"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>extra_size<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5712"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>extra_data[<ref refid="miniz_8c_1aa1b2bd10c69963c1b6bd3be7a91357b2" kindref="member">MZ_ZIP64_MAX_CENTRAL_EXTRA_FIELD_SIZE</ref>];</highlight></codeline>
<codeline lineno="5713"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>bit_flags<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5714"><highlight class="normal"></highlight></codeline>
<codeline lineno="5715"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uncomp_size<sp/>||<sp/>(buf_size<sp/>&amp;&amp;<sp/>!(level_and_flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_COMPRESSED_DATA)))</highlight></codeline>
<codeline lineno="5716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_flags<sp/>|=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0405d7ab268a9b534642d2d0acf56749" kindref="member">MZ_ZIP_LDH_BIT_FLAG_HAS_LOCATOR</ref>;</highlight></codeline>
<codeline lineno="5717"><highlight class="normal"></highlight></codeline>
<codeline lineno="5718"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(level_and_flags<sp/>&amp;<sp/><ref refid="miniz_8h_1a0b7f6f797da7a3d078535ba71ca00858a39d93b5c2db828e2fd3331d1421dc6c5" kindref="member">MZ_ZIP_FLAG_ASCII_FILENAME</ref>))</highlight></codeline>
<codeline lineno="5719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bit_flags<sp/>|=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2170b4f05a7674dad26a7c90f92ed992" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_UTF8</ref>;</highlight></codeline>
<codeline lineno="5720"><highlight class="normal"></highlight></codeline>
<codeline lineno="5721"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)level_and_flags<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="5722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>level_and_flags<sp/>=<sp/><ref refid="miniz_8h_1abc6126af1d45847bc59afa0aa3216b04ab5dc326a9f034dc71d6012d86dd1343f" kindref="member">MZ_DEFAULT_LEVEL</ref>;</highlight></codeline>
<codeline lineno="5723"><highlight class="normal"><sp/><sp/><sp/><sp/>level<sp/>=<sp/>level_and_flags<sp/>&amp;<sp/>0xF;</highlight></codeline>
<codeline lineno="5724"><highlight class="normal"><sp/><sp/><sp/><sp/>store_data_uncompressed<sp/>=<sp/>((!level)<sp/>||<sp/>(level_and_flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_COMPRESSED_DATA));</highlight></codeline>
<codeline lineno="5725"><highlight class="normal"></highlight></codeline>
<codeline lineno="5726"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)<sp/>||<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>!=<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a3b3ad1c596f00688f17e2672c1a20064" kindref="member">MZ_ZIP_MODE_WRITING</ref>)<sp/>||<sp/>((buf_size)<sp/>&amp;&amp;<sp/>(!pBuf))<sp/>||<sp/>(!pArchive_name)<sp/>||<sp/>((comment_size)<sp/>&amp;&amp;<sp/>(!pComment))<sp/>||<sp/>(level<sp/>&gt;<sp/><ref refid="miniz_8h_1abc6126af1d45847bc59afa0aa3216b04a54ec4bb3bd4e6ae21180b27a73c46147" kindref="member">MZ_UBER_COMPRESSION</ref>))</highlight></codeline>
<codeline lineno="5727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="5728"><highlight class="normal"></highlight></codeline>
<codeline lineno="5729"><highlight class="normal"><sp/><sp/><sp/><sp/>pState<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>;</highlight></codeline>
<codeline lineno="5730"><highlight class="normal"></highlight></codeline>
<codeline lineno="5731"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="5732"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>==<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="5734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da72b70e986fc0d33212f6a898e3e6ee94" kindref="member">MZ_ZIP_TOO_MANY_FILES</ref>);</highlight></codeline>
<codeline lineno="5735"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5736"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5737"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>==<sp/><ref refid="miniz_8h_1a512356d187ddd5c72e3123703d60b6cf" kindref="member">MZ_UINT16_MAX</ref>)</highlight></codeline>
<codeline lineno="5739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref><sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*return<sp/>mz_zip_set_error(pZip,<sp/>MZ_ZIP_TOO_MANY_FILES);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((buf_size<sp/>&gt;<sp/>0xFFFFFFFF)<sp/>||<sp/>(uncomp_size<sp/>&gt;<sp/>0xFFFFFFFF))</highlight></codeline>
<codeline lineno="5744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref><sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*return<sp/>mz_zip_set_error(pZip,<sp/>MZ_ZIP_ARCHIVE_TOO_LARGE);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5748"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5749"><highlight class="normal"></highlight></codeline>
<codeline lineno="5750"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!(level_and_flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_COMPRESSED_DATA))<sp/>&amp;&amp;<sp/>(uncomp_size))</highlight></codeline>
<codeline lineno="5751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="5752"><highlight class="normal"></highlight></codeline>
<codeline lineno="5753"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a97d5bb6b72d210e1a566e43b10080220" kindref="member">mz_zip_writer_validate_archive_name</ref>(pArchive_name))</highlight></codeline>
<codeline lineno="5754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da5f3d5a8641212fa3ad820bcb94124cc2" kindref="member">MZ_ZIP_INVALID_FILENAME</ref>);</highlight></codeline>
<codeline lineno="5755"><highlight class="normal"></highlight></codeline>
<codeline lineno="5756"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_TIME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5757"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(last_modified<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="5758"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a81014d6382ef61c51ea369d3ba09d420" kindref="member">mz_zip_time_t_to_dos_time</ref>(*last_modified,<sp/>&amp;dos_time,<sp/>&amp;dos_date);</highlight></codeline>
<codeline lineno="5760"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5761"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5762"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref><sp/>cur_time;</highlight></codeline>
<codeline lineno="5764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>time(&amp;cur_time);</highlight></codeline>
<codeline lineno="5765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a81014d6382ef61c51ea369d3ba09d420" kindref="member">mz_zip_time_t_to_dos_time</ref>(cur_time,<sp/>&amp;dos_time,<sp/>&amp;dos_date);</highlight></codeline>
<codeline lineno="5766"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5767"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifndef<sp/>MINIZ_NO_TIME<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5768"><highlight class="normal"></highlight></codeline>
<codeline lineno="5769"><highlight class="normal"><sp/><sp/><sp/><sp/>archive_name_size<sp/>=<sp/>strlen(pArchive_name);</highlight></codeline>
<codeline lineno="5770"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(archive_name_size<sp/>&gt;<sp/><ref refid="miniz_8h_1a512356d187ddd5c72e3123703d60b6cf" kindref="member">MZ_UINT16_MAX</ref>)</highlight></codeline>
<codeline lineno="5771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da5f3d5a8641212fa3ad820bcb94124cc2" kindref="member">MZ_ZIP_INVALID_FILENAME</ref>);</highlight></codeline>
<codeline lineno="5772"><highlight class="normal"></highlight></codeline>
<codeline lineno="5773"><highlight class="normal"><sp/><sp/><sp/><sp/>num_alignment_padding_bytes<sp/>=<sp/><ref refid="miniz_8c_1a922d2fef6d4d160a9053cebf4c486a0b" kindref="member">mz_zip_writer_compute_padding_needed_for_file_alignment</ref>(pZip);</highlight></codeline>
<codeline lineno="5774"><highlight class="normal"></highlight></codeline>
<codeline lineno="5775"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>miniz<sp/>doesn&apos;t<sp/>support<sp/>central<sp/>dirs<sp/>&gt;=<sp/>MZ_UINT32_MAX<sp/>bytes<sp/>yet<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5776"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref><sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE<sp/>+<sp/>archive_name_size<sp/>+<sp/><ref refid="miniz_8c_1aa1b2bd10c69963c1b6bd3be7a91357b2" kindref="member">MZ_ZIP64_MAX_CENTRAL_EXTRA_FIELD_SIZE</ref><sp/>+<sp/>comment_size)<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="5777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dace5ba2a072f9f615873588e7ebc56ab3" kindref="member">MZ_ZIP_UNSUPPORTED_CDIR_SIZE</ref>);</highlight></codeline>
<codeline lineno="5778"><highlight class="normal"></highlight></codeline>
<codeline lineno="5779"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="5780"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Bail<sp/>early<sp/>if<sp/>the<sp/>archive<sp/>would<sp/>obviously<sp/>become<sp/>too<sp/>large<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>+<sp/>num_alignment_padding_bytes<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref><sp/>+<sp/>archive_name_size<sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE<sp/>+<sp/>archive_name_size<sp/>+<sp/>comment_size<sp/>+<sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref><sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abec7783de4399c774ee325a0e4226ed9" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>)<sp/>&gt;<sp/>0xFFFFFFFF)</highlight></codeline>
<codeline lineno="5783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref><sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*return<sp/>mz_zip_set_error(pZip,<sp/>MZ_ZIP_ARCHIVE_TOO_LARGE);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5787"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5788"><highlight class="normal"></highlight></codeline>
<codeline lineno="5789"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((archive_name_size)<sp/>&amp;&amp;<sp/>(pArchive_name[archive_name_size<sp/>-<sp/>1]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;/&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="5790"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>DOS<sp/>Subdirectory<sp/>attribute<sp/>bit.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext_attributes<sp/>|=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4a2a1bb318f1f4ab445c7e4de3d3e1cc" kindref="member">MZ_ZIP_DOS_DIR_ATTRIBUTE_BITFLAG</ref>;</highlight></codeline>
<codeline lineno="5793"><highlight class="normal"></highlight></codeline>
<codeline lineno="5794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Subdirectories<sp/>cannot<sp/>contain<sp/>data.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((buf_size)<sp/>||<sp/>(uncomp_size))</highlight></codeline>
<codeline lineno="5796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="5797"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5798"><highlight class="normal"></highlight></codeline>
<codeline lineno="5799"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Try<sp/>to<sp/>do<sp/>any<sp/>allocations<sp/>before<sp/>writing<sp/>to<sp/>the<sp/>archive,<sp/>so<sp/>if<sp/>an<sp/>allocation<sp/>fails<sp/>the<sp/>file<sp/>remains<sp/>unmodified.<sp/>(A<sp/>good<sp/>idea<sp/>if<sp/>we&apos;re<sp/>doing<sp/>an<sp/>in-place<sp/>modification.)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5800"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!<ref refid="miniz_8c_1a0b9993d18742ba59643f17a4f5eff39e" kindref="member">mz_zip_array_ensure_room</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE<sp/>+<sp/>archive_name_size<sp/>+<sp/>comment_size<sp/>+<sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref><sp/>?<sp/><ref refid="miniz_8c_1aa1b2bd10c69963c1b6bd3be7a91357b2" kindref="member">MZ_ZIP64_MAX_CENTRAL_EXTRA_FIELD_SIZE</ref><sp/>:<sp/>0)))<sp/>||<sp/>(!<ref refid="miniz_8c_1a0b9993d18742ba59643f17a4f5eff39e" kindref="member">mz_zip_array_ensure_room</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a51a9aa41f7499c7e6e4c2546aa965b9c" kindref="member">m_central_dir_offsets</ref>,<sp/>1)))</highlight></codeline>
<codeline lineno="5801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="5802"><highlight class="normal"></highlight></codeline>
<codeline lineno="5803"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!store_data_uncompressed)<sp/>&amp;&amp;<sp/>(buf_size))</highlight></codeline>
<codeline lineno="5804"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>(pComp<sp/>=<sp/>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*)pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>1,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref>))))</highlight></codeline>
<codeline lineno="5806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="5807"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5808"><highlight class="normal"></highlight></codeline>
<codeline lineno="5809"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1ac2423627c59f318541d6a1218eda198f" kindref="member">mz_zip_writer_write_zeros</ref>(pZip,<sp/>cur_archive_file_ofs,<sp/>num_alignment_padding_bytes))</highlight></codeline>
<codeline lineno="5810"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pComp);</highlight></codeline>
<codeline lineno="5812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5813"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5814"><highlight class="normal"></highlight></codeline>
<codeline lineno="5815"><highlight class="normal"><sp/><sp/><sp/><sp/>local_dir_header_ofs<sp/>+=<sp/>num_alignment_padding_bytes;</highlight></codeline>
<codeline lineno="5816"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ad0a89dcb30f4b8fc8b1a94c9df93d0ff" kindref="member">m_file_offset_alignment</ref>)</highlight></codeline>
<codeline lineno="5817"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>((local_dir_header_ofs<sp/>&amp;<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ad0a89dcb30f4b8fc8b1a94c9df93d0ff" kindref="member">m_file_offset_alignment</ref><sp/>-<sp/>1))<sp/>==<sp/>0);</highlight></codeline>
<codeline lineno="5819"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5820"><highlight class="normal"><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/>num_alignment_padding_bytes;</highlight></codeline>
<codeline lineno="5821"><highlight class="normal"></highlight></codeline>
<codeline lineno="5822"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(local_dir_header);</highlight></codeline>
<codeline lineno="5823"><highlight class="normal"></highlight></codeline>
<codeline lineno="5824"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!store_data_uncompressed<sp/>||<sp/>(level_and_flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_COMPRESSED_DATA))</highlight></codeline>
<codeline lineno="5825"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>method<sp/>=<sp/><ref refid="miniz_8h_1a3e92e9b3cc525db1fd503d9630ec1bf5" kindref="member">MZ_DEFLATED</ref>;</highlight></codeline>
<codeline lineno="5827"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5828"><highlight class="normal"></highlight></codeline>
<codeline lineno="5829"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="5830"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uncomp_size<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref><sp/>||<sp/>local_dir_header_ofs<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="5832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pExtra_data<sp/>=<sp/>extra_data;</highlight></codeline>
<codeline lineno="5834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_size<sp/>=<sp/><ref refid="miniz_8c_1a8e6757d07832c14a6310ca0524c3f024" kindref="member">mz_zip_writer_create_zip64_extra_data</ref>(extra_data,<sp/>(uncomp_size<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>?<sp/>&amp;uncomp_size<sp/>:<sp/>NULL,</highlight></codeline>
<codeline lineno="5835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(uncomp_size<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>?<sp/>&amp;comp_size<sp/>:<sp/>NULL,<sp/>(local_dir_header_ofs<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>?<sp/>&amp;local_dir_header_ofs<sp/>:<sp/>NULL);</highlight></codeline>
<codeline lineno="5836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5837"><highlight class="normal"></highlight></codeline>
<codeline lineno="5838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1ae1b9b894b1fe6286919b091c89337633" kindref="member">mz_zip_writer_create_local_dir_header</ref>(pZip,<sp/>local_dir_header,<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)archive_name_size,<sp/>extra_size<sp/>+<sp/>user_extra_data_len,<sp/>0,<sp/>0,<sp/>0,<sp/>method,<sp/>bit_flags,<sp/>dos_time,<sp/>dos_date))</highlight></codeline>
<codeline lineno="5839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da399161cc4d02bf0bb1815089d2bbdeb8" kindref="member">MZ_ZIP_INTERNAL_ERROR</ref>);</highlight></codeline>
<codeline lineno="5840"><highlight class="normal"></highlight></codeline>
<codeline lineno="5841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>local_dir_header_ofs,<sp/>local_dir_header,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(local_dir_header))<sp/>!=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(local_dir_header))</highlight></codeline>
<codeline lineno="5842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="5843"><highlight class="normal"></highlight></codeline>
<codeline lineno="5844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(local_dir_header);</highlight></codeline>
<codeline lineno="5845"><highlight class="normal"></highlight></codeline>
<codeline lineno="5846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_archive_file_ofs,<sp/>pArchive_name,<sp/>archive_name_size)<sp/>!=<sp/>archive_name_size)</highlight></codeline>
<codeline lineno="5847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pComp);</highlight></codeline>
<codeline lineno="5849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="5850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/>archive_name_size;</highlight></codeline>
<codeline lineno="5852"><highlight class="normal"></highlight></codeline>
<codeline lineno="5853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pExtra_data<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="5854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_archive_file_ofs,<sp/>extra_data,<sp/>extra_size)<sp/>!=<sp/>extra_size)</highlight></codeline>
<codeline lineno="5856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="5857"><highlight class="normal"></highlight></codeline>
<codeline lineno="5858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/>extra_size;</highlight></codeline>
<codeline lineno="5859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5860"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5861"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5862"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5863"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((comp_size<sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>||<sp/>(cur_archive_file_ofs<sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>))</highlight></codeline>
<codeline lineno="5864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da99db269c395156b2ecaa9e39a0596601" kindref="member">MZ_ZIP_ARCHIVE_TOO_LARGE</ref>);</highlight></codeline>
<codeline lineno="5865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1ae1b9b894b1fe6286919b091c89337633" kindref="member">mz_zip_writer_create_local_dir_header</ref>(pZip,<sp/>local_dir_header,<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)archive_name_size,<sp/>user_extra_data_len,<sp/>0,<sp/>0,<sp/>0,<sp/>method,<sp/>bit_flags,<sp/>dos_time,<sp/>dos_date))</highlight></codeline>
<codeline lineno="5866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da399161cc4d02bf0bb1815089d2bbdeb8" kindref="member">MZ_ZIP_INTERNAL_ERROR</ref>);</highlight></codeline>
<codeline lineno="5867"><highlight class="normal"></highlight></codeline>
<codeline lineno="5868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>local_dir_header_ofs,<sp/>local_dir_header,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(local_dir_header))<sp/>!=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(local_dir_header))</highlight></codeline>
<codeline lineno="5869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="5870"><highlight class="normal"></highlight></codeline>
<codeline lineno="5871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(local_dir_header);</highlight></codeline>
<codeline lineno="5872"><highlight class="normal"></highlight></codeline>
<codeline lineno="5873"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_archive_file_ofs,<sp/>pArchive_name,<sp/>archive_name_size)<sp/>!=<sp/>archive_name_size)</highlight></codeline>
<codeline lineno="5874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pComp);</highlight></codeline>
<codeline lineno="5876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="5877"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5878"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/>archive_name_size;</highlight></codeline>
<codeline lineno="5879"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5880"><highlight class="normal"></highlight></codeline>
<codeline lineno="5881"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(user_extra_data_len<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="5882"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_archive_file_ofs,<sp/>user_extra_data,<sp/>user_extra_data_len)<sp/>!=<sp/>user_extra_data_len)</highlight></codeline>
<codeline lineno="5884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="5885"><highlight class="normal"></highlight></codeline>
<codeline lineno="5886"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/>user_extra_data_len;</highlight></codeline>
<codeline lineno="5887"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5888"><highlight class="normal"></highlight></codeline>
<codeline lineno="5889"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(level_and_flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_COMPRESSED_DATA))</highlight></codeline>
<codeline lineno="5890"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uncomp_crc32<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<ref refid="miniz_8c_1a8b7cb38252f297265f6b850ab4ae0f01" kindref="member">mz_crc32</ref>(<ref refid="miniz_8h_1a4e28761db3f5f136f790563dd13a08d6" kindref="member">MZ_CRC32_INIT</ref>,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pBuf,<sp/>buf_size);</highlight></codeline>
<codeline lineno="5892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uncomp_size<sp/>=<sp/>buf_size;</highlight></codeline>
<codeline lineno="5893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uncomp_size<sp/>&lt;=<sp/>3)</highlight></codeline>
<codeline lineno="5894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>level<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>store_data_uncompressed<sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5898"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5899"><highlight class="normal"></highlight></codeline>
<codeline lineno="5900"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(store_data_uncompressed)</highlight></codeline>
<codeline lineno="5901"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_archive_file_ofs,<sp/>pBuf,<sp/>buf_size)<sp/>!=<sp/>buf_size)</highlight></codeline>
<codeline lineno="5903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pComp);</highlight></codeline>
<codeline lineno="5905"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="5906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5907"><highlight class="normal"></highlight></codeline>
<codeline lineno="5908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/>buf_size;</highlight></codeline>
<codeline lineno="5909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_size<sp/>=<sp/>buf_size;</highlight></codeline>
<codeline lineno="5910"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5911"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(buf_size)</highlight></codeline>
<codeline lineno="5912"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structmz__zip__writer__add__state" kindref="compound">mz_zip_writer_add_state</ref><sp/>state;</highlight></codeline>
<codeline lineno="5914"><highlight class="normal"></highlight></codeline>
<codeline lineno="5915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>state.<ref refid="structmz__zip__writer__add__state_1a8beb0e578862314a35cc724aeb95e709" kindref="member">m_pZip</ref><sp/>=<sp/>pZip;</highlight></codeline>
<codeline lineno="5916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>state.<ref refid="structmz__zip__writer__add__state_1a305f9fa7f47b583ee53b8ee0401edd9e" kindref="member">m_cur_archive_file_ofs</ref><sp/>=<sp/>cur_archive_file_ofs;</highlight></codeline>
<codeline lineno="5917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>state.<ref refid="structmz__zip__writer__add__state_1a4736843d8fbef3a1d323451bb29ae3cd" kindref="member">m_comp_size</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5918"><highlight class="normal"></highlight></codeline>
<codeline lineno="5919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((<ref refid="miniz_8c_1a3c2c67a6200147020ba4bfbf77962792" kindref="member">tdefl_init</ref>(pComp,<sp/><ref refid="miniz_8c_1a97588a80c7490308f27a91cb40a355a8" kindref="member">mz_zip_writer_add_put_buf_callback</ref>,<sp/>&amp;state,<sp/><ref refid="miniz_8c_1acf2306ec6b7f92753264f68bc554750b" kindref="member">tdefl_create_comp_flags_from_zip_params</ref>(level,<sp/>-15,<sp/><ref refid="miniz_8h_1a99fb83031ce9923c84392b4e92f956b5a96891a5aa5d03f61da7f4a9c5b94f1d5" kindref="member">MZ_DEFAULT_STRATEGY</ref>))<sp/>!=<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fa0db9f12eded9feed194fd0b20fec8b27" kindref="member">TDEFL_STATUS_OKAY</ref>)<sp/>||</highlight></codeline>
<codeline lineno="5920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="miniz_8c_1a5f2608070112b0e81a3017e9c39c73b7" kindref="member">tdefl_compress_buffer</ref>(pComp,<sp/>pBuf,<sp/>buf_size,<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abfaea9e4d7ec26223f627ff02c5335b7e66" kindref="member">TDEFL_FINISH</ref>)<sp/>!=<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fa9beb7850b5d6941b6860db23f426b0d2" kindref="member">TDEFL_STATUS_DONE</ref>))</highlight></codeline>
<codeline lineno="5921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pComp);</highlight></codeline>
<codeline lineno="5923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da5ff902fe9d66d26053d8a3c11d383460" kindref="member">MZ_ZIP_COMPRESSION_FAILED</ref>);</highlight></codeline>
<codeline lineno="5924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5925"><highlight class="normal"></highlight></codeline>
<codeline lineno="5926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_size<sp/>=<sp/>state.<ref refid="structmz__zip__writer__add__state_1a4736843d8fbef3a1d323451bb29ae3cd" kindref="member">m_comp_size</ref>;</highlight></codeline>
<codeline lineno="5927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>=<sp/>state.<ref refid="structmz__zip__writer__add__state_1a305f9fa7f47b583ee53b8ee0401edd9e" kindref="member">m_cur_archive_file_ofs</ref>;</highlight></codeline>
<codeline lineno="5928"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5929"><highlight class="normal"></highlight></codeline>
<codeline lineno="5930"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pComp);</highlight></codeline>
<codeline lineno="5931"><highlight class="normal"><sp/><sp/><sp/><sp/>pComp<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="5932"><highlight class="normal"></highlight></codeline>
<codeline lineno="5933"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uncomp_size)</highlight></codeline>
<codeline lineno="5934"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>local_dir_footer[<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a141e719c11d73808127d93d7e43d831f" kindref="member">MZ_ZIP_DATA_DESCRIPTER_SIZE64</ref>];</highlight></codeline>
<codeline lineno="5936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>local_dir_footer_size<sp/>=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2d8d0fa55e19480b267a629d4b0174b4" kindref="member">MZ_ZIP_DATA_DESCRIPTER_SIZE32</ref>;</highlight></codeline>
<codeline lineno="5937"><highlight class="normal"></highlight></codeline>
<codeline lineno="5938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>(bit_flags<sp/>&amp;<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0405d7ab268a9b534642d2d0acf56749" kindref="member">MZ_ZIP_LDH_BIT_FLAG_HAS_LOCATOR</ref>);</highlight></codeline>
<codeline lineno="5939"><highlight class="normal"></highlight></codeline>
<codeline lineno="5940"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(local_dir_footer<sp/>+<sp/>0,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ad5d78923c0a646f47db97500a9d24b9d" kindref="member">MZ_ZIP_DATA_DESCRIPTOR_ID</ref>);</highlight></codeline>
<codeline lineno="5941"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(local_dir_footer<sp/>+<sp/>4,<sp/>uncomp_crc32);</highlight></codeline>
<codeline lineno="5942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pExtra_data<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="5943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((comp_size<sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>||<sp/>(cur_archive_file_ofs<sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>))</highlight></codeline>
<codeline lineno="5945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da99db269c395156b2ecaa9e39a0596601" kindref="member">MZ_ZIP_ARCHIVE_TOO_LARGE</ref>);</highlight></codeline>
<codeline lineno="5946"><highlight class="normal"></highlight></codeline>
<codeline lineno="5947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(local_dir_footer<sp/>+<sp/>8,<sp/>comp_size);</highlight></codeline>
<codeline lineno="5948"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(local_dir_footer<sp/>+<sp/>12,<sp/>uncomp_size);</highlight></codeline>
<codeline lineno="5949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae6ce659c1af2562e681e9e6f09064d3d" kindref="member">MZ_WRITE_LE64</ref>(local_dir_footer<sp/>+<sp/>8,<sp/>comp_size);</highlight></codeline>
<codeline lineno="5953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae6ce659c1af2562e681e9e6f09064d3d" kindref="member">MZ_WRITE_LE64</ref>(local_dir_footer<sp/>+<sp/>16,<sp/>uncomp_size);</highlight></codeline>
<codeline lineno="5954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>local_dir_footer_size<sp/>=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a141e719c11d73808127d93d7e43d831f" kindref="member">MZ_ZIP_DATA_DESCRIPTER_SIZE64</ref>;</highlight></codeline>
<codeline lineno="5955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5956"><highlight class="normal"></highlight></codeline>
<codeline lineno="5957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_archive_file_ofs,<sp/>local_dir_footer,<sp/>local_dir_footer_size)<sp/>!=<sp/>local_dir_footer_size)</highlight></codeline>
<codeline lineno="5958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5959"><highlight class="normal"></highlight></codeline>
<codeline lineno="5960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/>local_dir_footer_size;</highlight></codeline>
<codeline lineno="5961"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5962"><highlight class="normal"></highlight></codeline>
<codeline lineno="5963"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pExtra_data<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="5964"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_size<sp/>=<sp/><ref refid="miniz_8c_1a8e6757d07832c14a6310ca0524c3f024" kindref="member">mz_zip_writer_create_zip64_extra_data</ref>(extra_data,<sp/>(uncomp_size<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>?<sp/>&amp;uncomp_size<sp/>:<sp/>NULL,</highlight></codeline>
<codeline lineno="5966"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(uncomp_size<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>?<sp/>&amp;comp_size<sp/>:<sp/>NULL,<sp/>(local_dir_header_ofs<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>?<sp/>&amp;local_dir_header_ofs<sp/>:<sp/>NULL);</highlight></codeline>
<codeline lineno="5967"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5968"><highlight class="normal"></highlight></codeline>
<codeline lineno="5969"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a0a0f9c1d13431f247f29c0585fad94a6" kindref="member">mz_zip_writer_add_to_central_dir</ref>(pZip,<sp/>pArchive_name,<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)archive_name_size,<sp/>pExtra_data,<sp/>extra_size,<sp/>pComment,</highlight></codeline>
<codeline lineno="5970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comment_size,<sp/>uncomp_size,<sp/>comp_size,<sp/>uncomp_crc32,<sp/>method,<sp/>bit_flags,<sp/>dos_time,<sp/>dos_date,<sp/>local_dir_header_ofs,<sp/>ext_attributes,</highlight></codeline>
<codeline lineno="5971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>user_extra_data_central,<sp/>user_extra_data_central_len))</highlight></codeline>
<codeline lineno="5972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="5973"><highlight class="normal"></highlight></codeline>
<codeline lineno="5974"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>++;</highlight></codeline>
<codeline lineno="5975"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>=<sp/>cur_archive_file_ofs;</highlight></codeline>
<codeline lineno="5976"><highlight class="normal"></highlight></codeline>
<codeline lineno="5977"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="5978"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5979"><highlight class="normal"></highlight></codeline>
<codeline lineno="5980"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_STDIO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5981"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1aad5c354359b5b9cb7f82912431317438" kindref="member">mz_zip_writer_add_cfile</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pArchive_name,<sp/><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref><sp/>*pSrc_file,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>size_to_add,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref><sp/>*pFile_time,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pComment,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>comment_size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>level_and_flags,</highlight></codeline>
<codeline lineno="5982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*user_extra_data,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>user_extra_data_len,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*user_extra_data_central,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>user_extra_data_central_len)</highlight></codeline>
<codeline lineno="5983"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5984"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>gen_flags<sp/>=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0405d7ab268a9b534642d2d0acf56749" kindref="member">MZ_ZIP_LDH_BIT_FLAG_HAS_LOCATOR</ref>;</highlight></codeline>
<codeline lineno="5985"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>uncomp_crc32<sp/>=<sp/><ref refid="miniz_8h_1a4e28761db3f5f136f790563dd13a08d6" kindref="member">MZ_CRC32_INIT</ref>,<sp/>level,<sp/>num_alignment_padding_bytes;</highlight></codeline>
<codeline lineno="5986"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>method<sp/>=<sp/>0,<sp/>dos_time<sp/>=<sp/>0,<sp/>dos_date<sp/>=<sp/>0,<sp/>ext_attributes<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5987"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>local_dir_header_ofs,<sp/>cur_archive_file_ofs<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref>,<sp/>uncomp_size<sp/>=<sp/>size_to_add,<sp/>comp_size<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5988"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>archive_name_size;</highlight></codeline>
<codeline lineno="5989"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>local_dir_header[<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>];</highlight></codeline>
<codeline lineno="5990"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pExtra_data<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="5991"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>extra_size<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5992"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>extra_data[<ref refid="miniz_8c_1aa1b2bd10c69963c1b6bd3be7a91357b2" kindref="member">MZ_ZIP64_MAX_CENTRAL_EXTRA_FIELD_SIZE</ref>];</highlight></codeline>
<codeline lineno="5993"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref><sp/>*pState;</highlight></codeline>
<codeline lineno="5994"><highlight class="normal"></highlight></codeline>
<codeline lineno="5995"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(level_and_flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_ASCII_FILENAME))</highlight></codeline>
<codeline lineno="5996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gen_flags<sp/>|=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2170b4f05a7674dad26a7c90f92ed992" kindref="member">MZ_ZIP_GENERAL_PURPOSE_BIT_FLAG_UTF8</ref>;</highlight></codeline>
<codeline lineno="5997"><highlight class="normal"></highlight></codeline>
<codeline lineno="5998"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)level_and_flags<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="5999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>level_and_flags<sp/>=<sp/><ref refid="miniz_8h_1abc6126af1d45847bc59afa0aa3216b04ab5dc326a9f034dc71d6012d86dd1343f" kindref="member">MZ_DEFAULT_LEVEL</ref>;</highlight></codeline>
<codeline lineno="6000"><highlight class="normal"><sp/><sp/><sp/><sp/>level<sp/>=<sp/>level_and_flags<sp/>&amp;<sp/>0xF;</highlight></codeline>
<codeline lineno="6001"><highlight class="normal"></highlight></codeline>
<codeline lineno="6002"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Sanity<sp/>checks<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6003"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)<sp/>||<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>!=<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a3b3ad1c596f00688f17e2672c1a20064" kindref="member">MZ_ZIP_MODE_WRITING</ref>)<sp/>||<sp/>(!pArchive_name)<sp/>||<sp/>((comment_size)<sp/>&amp;&amp;<sp/>(!pComment))<sp/>||<sp/>(level<sp/>&gt;<sp/><ref refid="miniz_8h_1abc6126af1d45847bc59afa0aa3216b04a54ec4bb3bd4e6ae21180b27a73c46147" kindref="member">MZ_UBER_COMPRESSION</ref>))</highlight></codeline>
<codeline lineno="6004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="6005"><highlight class="normal"></highlight></codeline>
<codeline lineno="6006"><highlight class="normal"><sp/><sp/><sp/><sp/>pState<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>;</highlight></codeline>
<codeline lineno="6007"><highlight class="normal"></highlight></codeline>
<codeline lineno="6008"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)<sp/>&amp;&amp;<sp/>(uncomp_size<sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>))</highlight></codeline>
<codeline lineno="6009"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Source<sp/>file<sp/>is<sp/>too<sp/>large<sp/>for<sp/>non-zip64<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6011"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*return<sp/>mz_zip_set_error(pZip,<sp/>MZ_ZIP_ARCHIVE_TOO_LARGE);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6012"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref><sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="6013"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6014"><highlight class="normal"></highlight></codeline>
<codeline lineno="6015"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>We<sp/>could<sp/>support<sp/>this,<sp/>but<sp/>why?<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6016"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(level_and_flags<sp/>&amp;<sp/>MZ_ZIP_FLAG_COMPRESSED_DATA)</highlight></codeline>
<codeline lineno="6017"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="6018"><highlight class="normal"></highlight></codeline>
<codeline lineno="6019"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a97d5bb6b72d210e1a566e43b10080220" kindref="member">mz_zip_writer_validate_archive_name</ref>(pArchive_name))</highlight></codeline>
<codeline lineno="6020"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da5f3d5a8641212fa3ad820bcb94124cc2" kindref="member">MZ_ZIP_INVALID_FILENAME</ref>);</highlight></codeline>
<codeline lineno="6021"><highlight class="normal"></highlight></codeline>
<codeline lineno="6022"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="6023"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>==<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="6025"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da72b70e986fc0d33212f6a898e3e6ee94" kindref="member">MZ_ZIP_TOO_MANY_FILES</ref>);</highlight></codeline>
<codeline lineno="6026"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6027"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6028"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6029"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>==<sp/><ref refid="miniz_8h_1a512356d187ddd5c72e3123703d60b6cf" kindref="member">MZ_UINT16_MAX</ref>)</highlight></codeline>
<codeline lineno="6030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6031"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref><sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="6032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*return<sp/>mz_zip_set_error(pZip,<sp/>MZ_ZIP_TOO_MANY_FILES);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6033"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6034"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6035"><highlight class="normal"></highlight></codeline>
<codeline lineno="6036"><highlight class="normal"><sp/><sp/><sp/><sp/>archive_name_size<sp/>=<sp/>strlen(pArchive_name);</highlight></codeline>
<codeline lineno="6037"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(archive_name_size<sp/>&gt;<sp/><ref refid="miniz_8h_1a512356d187ddd5c72e3123703d60b6cf" kindref="member">MZ_UINT16_MAX</ref>)</highlight></codeline>
<codeline lineno="6038"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da5f3d5a8641212fa3ad820bcb94124cc2" kindref="member">MZ_ZIP_INVALID_FILENAME</ref>);</highlight></codeline>
<codeline lineno="6039"><highlight class="normal"></highlight></codeline>
<codeline lineno="6040"><highlight class="normal"><sp/><sp/><sp/><sp/>num_alignment_padding_bytes<sp/>=<sp/><ref refid="miniz_8c_1a922d2fef6d4d160a9053cebf4c486a0b" kindref="member">mz_zip_writer_compute_padding_needed_for_file_alignment</ref>(pZip);</highlight></codeline>
<codeline lineno="6041"><highlight class="normal"></highlight></codeline>
<codeline lineno="6042"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>miniz<sp/>doesn&apos;t<sp/>support<sp/>central<sp/>dirs<sp/>&gt;=<sp/>MZ_UINT32_MAX<sp/>bytes<sp/>yet<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6043"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref><sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE<sp/>+<sp/>archive_name_size<sp/>+<sp/><ref refid="miniz_8c_1aa1b2bd10c69963c1b6bd3be7a91357b2" kindref="member">MZ_ZIP64_MAX_CENTRAL_EXTRA_FIELD_SIZE</ref><sp/>+<sp/>comment_size)<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="6044"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dace5ba2a072f9f615873588e7ebc56ab3" kindref="member">MZ_ZIP_UNSUPPORTED_CDIR_SIZE</ref>);</highlight></codeline>
<codeline lineno="6045"><highlight class="normal"></highlight></codeline>
<codeline lineno="6046"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="6047"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Bail<sp/>early<sp/>if<sp/>the<sp/>archive<sp/>would<sp/>obviously<sp/>become<sp/>too<sp/>large<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6049"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>+<sp/>num_alignment_padding_bytes<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref><sp/>+<sp/>archive_name_size<sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE<sp/>+<sp/>archive_name_size<sp/>+<sp/>comment_size<sp/>+<sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref><sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abec7783de4399c774ee325a0e4226ed9" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE</ref><sp/>+<sp/>1024)<sp/>&gt;<sp/>0xFFFFFFFF)</highlight></codeline>
<codeline lineno="6050"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref><sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="6052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*return<sp/>mz_zip_set_error(pZip,<sp/>MZ_ZIP_ARCHIVE_TOO_LARGE);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6054"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6055"><highlight class="normal"></highlight></codeline>
<codeline lineno="6056"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_TIME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6057"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pFile_time)</highlight></codeline>
<codeline lineno="6058"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a81014d6382ef61c51ea369d3ba09d420" kindref="member">mz_zip_time_t_to_dos_time</ref>(*pFile_time,<sp/>&amp;dos_time,<sp/>&amp;dos_date);</highlight></codeline>
<codeline lineno="6060"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6061"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6062"><highlight class="normal"></highlight></codeline>
<codeline lineno="6063"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uncomp_size<sp/>&lt;=<sp/>3)</highlight></codeline>
<codeline lineno="6064"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>level<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6065"><highlight class="normal"></highlight></codeline>
<codeline lineno="6066"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1ac2423627c59f318541d6a1218eda198f" kindref="member">mz_zip_writer_write_zeros</ref>(pZip,<sp/>cur_archive_file_ofs,<sp/>num_alignment_padding_bytes))</highlight></codeline>
<codeline lineno="6067"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="6069"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6070"><highlight class="normal"></highlight></codeline>
<codeline lineno="6071"><highlight class="normal"><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/>num_alignment_padding_bytes;</highlight></codeline>
<codeline lineno="6072"><highlight class="normal"><sp/><sp/><sp/><sp/>local_dir_header_ofs<sp/>=<sp/>cur_archive_file_ofs;</highlight></codeline>
<codeline lineno="6073"><highlight class="normal"></highlight></codeline>
<codeline lineno="6074"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ad0a89dcb30f4b8fc8b1a94c9df93d0ff" kindref="member">m_file_offset_alignment</ref>)</highlight></codeline>
<codeline lineno="6075"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>((cur_archive_file_ofs<sp/>&amp;<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ad0a89dcb30f4b8fc8b1a94c9df93d0ff" kindref="member">m_file_offset_alignment</ref><sp/>-<sp/>1))<sp/>==<sp/>0);</highlight></codeline>
<codeline lineno="6077"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6078"><highlight class="normal"></highlight></codeline>
<codeline lineno="6079"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uncomp_size<sp/>&amp;&amp;<sp/>level)</highlight></codeline>
<codeline lineno="6080"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>method<sp/>=<sp/><ref refid="miniz_8h_1a3e92e9b3cc525db1fd503d9630ec1bf5" kindref="member">MZ_DEFLATED</ref>;</highlight></codeline>
<codeline lineno="6082"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6083"><highlight class="normal"></highlight></codeline>
<codeline lineno="6084"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(local_dir_header);</highlight></codeline>
<codeline lineno="6085"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="6086"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uncomp_size<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref><sp/>||<sp/>local_dir_header_ofs<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="6088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pExtra_data<sp/>=<sp/>extra_data;</highlight></codeline>
<codeline lineno="6090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_size<sp/>=<sp/><ref refid="miniz_8c_1a8e6757d07832c14a6310ca0524c3f024" kindref="member">mz_zip_writer_create_zip64_extra_data</ref>(extra_data,<sp/>(uncomp_size<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>?<sp/>&amp;uncomp_size<sp/>:<sp/>NULL,</highlight></codeline>
<codeline lineno="6091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(uncomp_size<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>?<sp/>&amp;comp_size<sp/>:<sp/>NULL,<sp/>(local_dir_header_ofs<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>?<sp/>&amp;local_dir_header_ofs<sp/>:<sp/>NULL);</highlight></codeline>
<codeline lineno="6092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6093"><highlight class="normal"></highlight></codeline>
<codeline lineno="6094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1ae1b9b894b1fe6286919b091c89337633" kindref="member">mz_zip_writer_create_local_dir_header</ref>(pZip,<sp/>local_dir_header,<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)archive_name_size,<sp/>extra_size<sp/>+<sp/>user_extra_data_len,<sp/>0,<sp/>0,<sp/>0,<sp/>method,<sp/>gen_flags,<sp/>dos_time,<sp/>dos_date))</highlight></codeline>
<codeline lineno="6095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da399161cc4d02bf0bb1815089d2bbdeb8" kindref="member">MZ_ZIP_INTERNAL_ERROR</ref>);</highlight></codeline>
<codeline lineno="6096"><highlight class="normal"></highlight></codeline>
<codeline lineno="6097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_archive_file_ofs,<sp/>local_dir_header,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(local_dir_header))<sp/>!=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(local_dir_header))</highlight></codeline>
<codeline lineno="6098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="6099"><highlight class="normal"></highlight></codeline>
<codeline lineno="6100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(local_dir_header);</highlight></codeline>
<codeline lineno="6101"><highlight class="normal"></highlight></codeline>
<codeline lineno="6102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_archive_file_ofs,<sp/>pArchive_name,<sp/>archive_name_size)<sp/>!=<sp/>archive_name_size)</highlight></codeline>
<codeline lineno="6103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="6105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6106"><highlight class="normal"></highlight></codeline>
<codeline lineno="6107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/>archive_name_size;</highlight></codeline>
<codeline lineno="6108"><highlight class="normal"></highlight></codeline>
<codeline lineno="6109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_archive_file_ofs,<sp/>extra_data,<sp/>extra_size)<sp/>!=<sp/>extra_size)</highlight></codeline>
<codeline lineno="6110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="6111"><highlight class="normal"></highlight></codeline>
<codeline lineno="6112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/>extra_size;</highlight></codeline>
<codeline lineno="6113"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6114"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6115"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((comp_size<sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>||<sp/>(cur_archive_file_ofs<sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>))</highlight></codeline>
<codeline lineno="6117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da99db269c395156b2ecaa9e39a0596601" kindref="member">MZ_ZIP_ARCHIVE_TOO_LARGE</ref>);</highlight></codeline>
<codeline lineno="6118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1ae1b9b894b1fe6286919b091c89337633" kindref="member">mz_zip_writer_create_local_dir_header</ref>(pZip,<sp/>local_dir_header,<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)archive_name_size,<sp/>user_extra_data_len,<sp/>0,<sp/>0,<sp/>0,<sp/>method,<sp/>gen_flags,<sp/>dos_time,<sp/>dos_date))</highlight></codeline>
<codeline lineno="6119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da399161cc4d02bf0bb1815089d2bbdeb8" kindref="member">MZ_ZIP_INTERNAL_ERROR</ref>);</highlight></codeline>
<codeline lineno="6120"><highlight class="normal"></highlight></codeline>
<codeline lineno="6121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_archive_file_ofs,<sp/>local_dir_header,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(local_dir_header))<sp/>!=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(local_dir_header))</highlight></codeline>
<codeline lineno="6122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="6123"><highlight class="normal"></highlight></codeline>
<codeline lineno="6124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(local_dir_header);</highlight></codeline>
<codeline lineno="6125"><highlight class="normal"></highlight></codeline>
<codeline lineno="6126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_archive_file_ofs,<sp/>pArchive_name,<sp/>archive_name_size)<sp/>!=<sp/>archive_name_size)</highlight></codeline>
<codeline lineno="6127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="6129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6130"><highlight class="normal"></highlight></codeline>
<codeline lineno="6131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/>archive_name_size;</highlight></codeline>
<codeline lineno="6132"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6133"><highlight class="normal"></highlight></codeline>
<codeline lineno="6134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(user_extra_data_len<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="6135"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_archive_file_ofs,<sp/>user_extra_data,<sp/>user_extra_data_len)<sp/>!=<sp/>user_extra_data_len)</highlight></codeline>
<codeline lineno="6137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="6138"><highlight class="normal"></highlight></codeline>
<codeline lineno="6139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/>user_extra_data_len;</highlight></codeline>
<codeline lineno="6140"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6141"><highlight class="normal"></highlight></codeline>
<codeline lineno="6142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uncomp_size)</highlight></codeline>
<codeline lineno="6143"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>uncomp_remaining<sp/>=<sp/>uncomp_size;</highlight></codeline>
<codeline lineno="6145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pRead_buf<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>1,<sp/><ref refid="miniz_8h_1ac36f475ca5b446f4fde4c9b90bec77c8a5b5935618c8f80bac84484ffa644df05" kindref="member">MZ_ZIP_MAX_IO_BUF_SIZE</ref>);</highlight></codeline>
<codeline lineno="6146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pRead_buf)</highlight></codeline>
<codeline lineno="6147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="6149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6150"><highlight class="normal"></highlight></codeline>
<codeline lineno="6151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!level)</highlight></codeline>
<codeline lineno="6152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(uncomp_remaining)</highlight></codeline>
<codeline lineno="6154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>n<sp/>=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)<ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>((<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)<ref refid="miniz_8h_1ac36f475ca5b446f4fde4c9b90bec77c8a5b5935618c8f80bac84484ffa644df05" kindref="member">MZ_ZIP_MAX_IO_BUF_SIZE</ref>,<sp/>uncomp_remaining);</highlight></codeline>
<codeline lineno="6156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((<ref refid="miniz_8c_1a52bd2726a671aabfe4d49804e79900d0" kindref="member">MZ_FREAD</ref>(pRead_buf,<sp/>1,<sp/>n,<sp/>pSrc_file)<sp/>!=<sp/>n)<sp/>||<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_archive_file_ofs,<sp/>pRead_buf,<sp/>n)<sp/>!=<sp/>n))</highlight></codeline>
<codeline lineno="6157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pRead_buf);</highlight></codeline>
<codeline lineno="6159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="6160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uncomp_crc32<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<ref refid="miniz_8c_1a8b7cb38252f297265f6b850ab4ae0f01" kindref="member">mz_crc32</ref>(uncomp_crc32,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pRead_buf,<sp/>n);</highlight></codeline>
<codeline lineno="6162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uncomp_remaining<sp/>-=<sp/>n;</highlight></codeline>
<codeline lineno="6163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="6164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_size<sp/>=<sp/>uncomp_size;</highlight></codeline>
<codeline lineno="6166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>result<sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structmz__zip__writer__add__state" kindref="compound">mz_zip_writer_add_state</ref><sp/>state;</highlight></codeline>
<codeline lineno="6171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*pComp<sp/>=<sp/>(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref><sp/>*)pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>1,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structtdefl__compressor" kindref="compound">tdefl_compressor</ref>));</highlight></codeline>
<codeline lineno="6172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pComp)</highlight></codeline>
<codeline lineno="6173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pRead_buf);</highlight></codeline>
<codeline lineno="6175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="6176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6177"><highlight class="normal"></highlight></codeline>
<codeline lineno="6178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>state.<ref refid="structmz__zip__writer__add__state_1a8beb0e578862314a35cc724aeb95e709" kindref="member">m_pZip</ref><sp/>=<sp/>pZip;</highlight></codeline>
<codeline lineno="6179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>state.<ref refid="structmz__zip__writer__add__state_1a305f9fa7f47b583ee53b8ee0401edd9e" kindref="member">m_cur_archive_file_ofs</ref><sp/>=<sp/>cur_archive_file_ofs;</highlight></codeline>
<codeline lineno="6180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>state.<ref refid="structmz__zip__writer__add__state_1a4736843d8fbef3a1d323451bb29ae3cd" kindref="member">m_comp_size</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6181"><highlight class="normal"></highlight></codeline>
<codeline lineno="6182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8c_1a3c2c67a6200147020ba4bfbf77962792" kindref="member">tdefl_init</ref>(pComp,<sp/><ref refid="miniz_8c_1a97588a80c7490308f27a91cb40a355a8" kindref="member">mz_zip_writer_add_put_buf_callback</ref>,<sp/>&amp;state,<sp/><ref refid="miniz_8c_1acf2306ec6b7f92753264f68bc554750b" kindref="member">tdefl_create_comp_flags_from_zip_params</ref>(level,<sp/>-15,<sp/><ref refid="miniz_8h_1a99fb83031ce9923c84392b4e92f956b5a96891a5aa5d03f61da7f4a9c5b94f1d5" kindref="member">MZ_DEFAULT_STRATEGY</ref>))<sp/>!=<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fa0db9f12eded9feed194fd0b20fec8b27" kindref="member">TDEFL_STATUS_OKAY</ref>)</highlight></codeline>
<codeline lineno="6183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pComp);</highlight></codeline>
<codeline lineno="6185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pRead_buf);</highlight></codeline>
<codeline lineno="6186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da399161cc4d02bf0bb1815089d2bbdeb8" kindref="member">MZ_ZIP_INTERNAL_ERROR</ref>);</highlight></codeline>
<codeline lineno="6187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6188"><highlight class="normal"></highlight></codeline>
<codeline lineno="6189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="6190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>in_buf_size<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(uncomp_remaining,<sp/>(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)<ref refid="miniz_8h_1ac36f475ca5b446f4fde4c9b90bec77c8a5b5935618c8f80bac84484ffa644df05" kindref="member">MZ_ZIP_MAX_IO_BUF_SIZE</ref>);</highlight></codeline>
<codeline lineno="6192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748f" kindref="member">tdefl_status</ref><sp/>status;</highlight></codeline>
<codeline lineno="6193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abf" kindref="member">tdefl_flush</ref><sp/>flush<sp/>=<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abfa87a9bde52f27872bf5821ed345bc6768" kindref="member">TDEFL_NO_FLUSH</ref>;</highlight></codeline>
<codeline lineno="6194"><highlight class="normal"></highlight></codeline>
<codeline lineno="6195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8c_1a52bd2726a671aabfe4d49804e79900d0" kindref="member">MZ_FREAD</ref>(pRead_buf,<sp/>1,<sp/>in_buf_size,<sp/>pSrc_file)<sp/>!=<sp/>in_buf_size)</highlight></codeline>
<codeline lineno="6196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="6198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6200"><highlight class="normal"></highlight></codeline>
<codeline lineno="6201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uncomp_crc32<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<ref refid="miniz_8c_1a8b7cb38252f297265f6b850ab4ae0f01" kindref="member">mz_crc32</ref>(uncomp_crc32,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pRead_buf,<sp/>in_buf_size);</highlight></codeline>
<codeline lineno="6202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uncomp_remaining<sp/>-=<sp/>in_buf_size;</highlight></codeline>
<codeline lineno="6203"><highlight class="normal"></highlight></codeline>
<codeline lineno="6204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a943ea385742e04f7995cb54b46892213" kindref="member">m_pNeeds_keepalive</ref><sp/>!=<sp/>NULL<sp/>&amp;&amp;<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a943ea385742e04f7995cb54b46892213" kindref="member">m_pNeeds_keepalive</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>))</highlight></codeline>
<codeline lineno="6205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flush<sp/>=<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abfac38ba366db95f4ad31c7719bd08ae7f8" kindref="member">TDEFL_FULL_FLUSH</ref>;</highlight></codeline>
<codeline lineno="6206"><highlight class="normal"></highlight></codeline>
<codeline lineno="6207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8c_1a5f2608070112b0e81a3017e9c39c73b7" kindref="member">tdefl_compress_buffer</ref>(pComp,<sp/>pRead_buf,<sp/>in_buf_size,<sp/>uncomp_remaining<sp/>?<sp/>flush<sp/>:<sp/><ref refid="miniz_8h_1a9bfa87b1c54146014408fcca1bf37abfaea9e4d7ec26223f627ff02c5335b7e66" kindref="member">TDEFL_FINISH</ref>);</highlight></codeline>
<codeline lineno="6208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>==<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fa9beb7850b5d6941b6860db23f426b0d2" kindref="member">TDEFL_STATUS_DONE</ref>)</highlight></codeline>
<codeline lineno="6209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="6211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>!=<sp/><ref refid="miniz_8h_1abe27406ab0ea1c4d615d93a3e688748fa0db9f12eded9feed194fd0b20fec8b27" kindref="member">TDEFL_STATUS_OKAY</ref>)</highlight></codeline>
<codeline lineno="6214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da5ff902fe9d66d26053d8a3c11d383460" kindref="member">MZ_ZIP_COMPRESSION_FAILED</ref>);</highlight></codeline>
<codeline lineno="6216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6219"><highlight class="normal"></highlight></codeline>
<codeline lineno="6220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pComp);</highlight></codeline>
<codeline lineno="6221"><highlight class="normal"></highlight></codeline>
<codeline lineno="6222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!result)</highlight></codeline>
<codeline lineno="6223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pRead_buf);</highlight></codeline>
<codeline lineno="6225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6227"><highlight class="normal"></highlight></codeline>
<codeline lineno="6228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comp_size<sp/>=<sp/>state.<ref refid="structmz__zip__writer__add__state_1a4736843d8fbef3a1d323451bb29ae3cd" kindref="member">m_comp_size</ref>;</highlight></codeline>
<codeline lineno="6229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>=<sp/>state.<ref refid="structmz__zip__writer__add__state_1a305f9fa7f47b583ee53b8ee0401edd9e" kindref="member">m_cur_archive_file_ofs</ref>;</highlight></codeline>
<codeline lineno="6230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6231"><highlight class="normal"></highlight></codeline>
<codeline lineno="6232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pRead_buf);</highlight></codeline>
<codeline lineno="6233"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6234"><highlight class="normal"></highlight></codeline>
<codeline lineno="6235"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>local_dir_footer[<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a141e719c11d73808127d93d7e43d831f" kindref="member">MZ_ZIP_DATA_DESCRIPTER_SIZE64</ref>];</highlight></codeline>
<codeline lineno="6237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>local_dir_footer_size<sp/>=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2d8d0fa55e19480b267a629d4b0174b4" kindref="member">MZ_ZIP_DATA_DESCRIPTER_SIZE32</ref>;</highlight></codeline>
<codeline lineno="6238"><highlight class="normal"></highlight></codeline>
<codeline lineno="6239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(local_dir_footer<sp/>+<sp/>0,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ad5d78923c0a646f47db97500a9d24b9d" kindref="member">MZ_ZIP_DATA_DESCRIPTOR_ID</ref>);</highlight></codeline>
<codeline lineno="6240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(local_dir_footer<sp/>+<sp/>4,<sp/>uncomp_crc32);</highlight></codeline>
<codeline lineno="6241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pExtra_data<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="6242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(comp_size<sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="6244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da99db269c395156b2ecaa9e39a0596601" kindref="member">MZ_ZIP_ARCHIVE_TOO_LARGE</ref>);</highlight></codeline>
<codeline lineno="6245"><highlight class="normal"></highlight></codeline>
<codeline lineno="6246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(local_dir_footer<sp/>+<sp/>8,<sp/>comp_size);</highlight></codeline>
<codeline lineno="6247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(local_dir_footer<sp/>+<sp/>12,<sp/>uncomp_size);</highlight></codeline>
<codeline lineno="6248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae6ce659c1af2562e681e9e6f09064d3d" kindref="member">MZ_WRITE_LE64</ref>(local_dir_footer<sp/>+<sp/>8,<sp/>comp_size);</highlight></codeline>
<codeline lineno="6252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae6ce659c1af2562e681e9e6f09064d3d" kindref="member">MZ_WRITE_LE64</ref>(local_dir_footer<sp/>+<sp/>16,<sp/>uncomp_size);</highlight></codeline>
<codeline lineno="6253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>local_dir_footer_size<sp/>=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a141e719c11d73808127d93d7e43d831f" kindref="member">MZ_ZIP_DATA_DESCRIPTER_SIZE64</ref>;</highlight></codeline>
<codeline lineno="6254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6255"><highlight class="normal"></highlight></codeline>
<codeline lineno="6256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_archive_file_ofs,<sp/>local_dir_footer,<sp/>local_dir_footer_size)<sp/>!=<sp/>local_dir_footer_size)</highlight></codeline>
<codeline lineno="6257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6258"><highlight class="normal"></highlight></codeline>
<codeline lineno="6259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_archive_file_ofs<sp/>+=<sp/>local_dir_footer_size;</highlight></codeline>
<codeline lineno="6260"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6261"><highlight class="normal"></highlight></codeline>
<codeline lineno="6262"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pExtra_data<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="6263"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_size<sp/>=<sp/><ref refid="miniz_8c_1a8e6757d07832c14a6310ca0524c3f024" kindref="member">mz_zip_writer_create_zip64_extra_data</ref>(extra_data,<sp/>(uncomp_size<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>?<sp/>&amp;uncomp_size<sp/>:<sp/>NULL,</highlight></codeline>
<codeline lineno="6265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(uncomp_size<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>?<sp/>&amp;comp_size<sp/>:<sp/>NULL,<sp/>(local_dir_header_ofs<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>?<sp/>&amp;local_dir_header_ofs<sp/>:<sp/>NULL);</highlight></codeline>
<codeline lineno="6266"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6267"><highlight class="normal"></highlight></codeline>
<codeline lineno="6268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a0a0f9c1d13431f247f29c0585fad94a6" kindref="member">mz_zip_writer_add_to_central_dir</ref>(pZip,<sp/>pArchive_name,<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)archive_name_size,<sp/>pExtra_data,<sp/>extra_size,<sp/>pComment,<sp/>comment_size,</highlight></codeline>
<codeline lineno="6269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uncomp_size,<sp/>comp_size,<sp/>uncomp_crc32,<sp/>method,<sp/>gen_flags,<sp/>dos_time,<sp/>dos_date,<sp/>local_dir_header_ofs,<sp/>ext_attributes,</highlight></codeline>
<codeline lineno="6270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>user_extra_data_central,<sp/>user_extra_data_central_len))</highlight></codeline>
<codeline lineno="6271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6272"><highlight class="normal"></highlight></codeline>
<codeline lineno="6273"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>++;</highlight></codeline>
<codeline lineno="6274"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>=<sp/>cur_archive_file_ofs;</highlight></codeline>
<codeline lineno="6275"><highlight class="normal"></highlight></codeline>
<codeline lineno="6276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="6277"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6278"><highlight class="normal"></highlight></codeline>
<codeline lineno="6279"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a7e65ca89365aca18317932a5a6a53ec5" kindref="member">mz_zip_writer_add_file</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pArchive_name,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pSrc_filename,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pComment,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>comment_size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>level_and_flags)</highlight></codeline>
<codeline lineno="6280"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6281"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref><sp/>*pSrc_file<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="6282"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>uncomp_size<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6283"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref><sp/>file_modified_time;</highlight></codeline>
<codeline lineno="6284"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a893addc64c536a05131458f6f15132eb" kindref="member">MZ_TIME_T</ref><sp/>*pFile_time<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="6285"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>status;</highlight></codeline>
<codeline lineno="6286"><highlight class="normal"></highlight></codeline>
<codeline lineno="6287"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;file_modified_time,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(file_modified_time));</highlight></codeline>
<codeline lineno="6288"><highlight class="normal"></highlight></codeline>
<codeline lineno="6289"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!defined(MINIZ_NO_TIME)<sp/>&amp;&amp;<sp/>!defined(MINIZ_NO_STDIO)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6290"><highlight class="normal"><sp/><sp/><sp/><sp/>pFile_time<sp/>=<sp/>&amp;file_modified_time;</highlight></codeline>
<codeline lineno="6291"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a43fb717be3e3b6afcd27587df7669a07" kindref="member">mz_zip_get_file_modified_time</ref>(pSrc_filename,<sp/>&amp;file_modified_time))</highlight></codeline>
<codeline lineno="6292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da593c3fe2d2ebf99b215bca2b60e6913e" kindref="member">MZ_ZIP_FILE_STAT_FAILED</ref>);</highlight></codeline>
<codeline lineno="6293"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6294"><highlight class="normal"></highlight></codeline>
<codeline lineno="6295"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc_file<sp/>=<sp/><ref refid="miniz_8c_1a7ab43238d8cd27afaf9ee668c8f6ab70" kindref="member">MZ_FOPEN</ref>(pSrc_filename,<sp/></highlight><highlight class="stringliteral">&quot;rb&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="6296"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pSrc_file)</highlight></codeline>
<codeline lineno="6297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da0c392e441dd7e14e4731686e8f3369ed" kindref="member">MZ_ZIP_FILE_OPEN_FAILED</ref>);</highlight></codeline>
<codeline lineno="6298"><highlight class="normal"></highlight></codeline>
<codeline lineno="6299"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a6cd8f6b4134fc9ea62f311ac7f2c5c1d" kindref="member">MZ_FSEEK64</ref>(pSrc_file,<sp/>0,<sp/>SEEK_END);</highlight></codeline>
<codeline lineno="6300"><highlight class="normal"><sp/><sp/><sp/><sp/>uncomp_size<sp/>=<sp/><ref refid="miniz_8c_1af3b9d5f2af50464d16fd7a6ef48c916b" kindref="member">MZ_FTELL64</ref>(pSrc_file);</highlight></codeline>
<codeline lineno="6301"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a6cd8f6b4134fc9ea62f311ac7f2c5c1d" kindref="member">MZ_FSEEK64</ref>(pSrc_file,<sp/>0,<sp/>SEEK_SET);</highlight></codeline>
<codeline lineno="6302"><highlight class="normal"></highlight></codeline>
<codeline lineno="6303"><highlight class="normal"><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8c_1aad5c354359b5b9cb7f82912431317438" kindref="member">mz_zip_writer_add_cfile</ref>(pZip,<sp/>pArchive_name,<sp/>pSrc_file,<sp/>uncomp_size,<sp/>pFile_time,<sp/>pComment,<sp/>comment_size,<sp/>level_and_flags,<sp/>NULL,<sp/>0,<sp/>NULL,<sp/>0);</highlight></codeline>
<codeline lineno="6304"><highlight class="normal"></highlight></codeline>
<codeline lineno="6305"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1aca3383a48f6eda415e7b7bceea2d3e55" kindref="member">MZ_FCLOSE</ref>(pSrc_file);</highlight></codeline>
<codeline lineno="6306"><highlight class="normal"></highlight></codeline>
<codeline lineno="6307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="6308"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6309"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifndef<sp/>MINIZ_NO_STDIO<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6310"><highlight class="normal"></highlight></codeline>
<codeline lineno="6311"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1ad78fe0e35fd725fddef759bd8239d123" kindref="member">mz_zip_writer_update_zip64_extension_block</ref>(<ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>*pNew_ext,<sp/><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pExt,<sp/>uint32_t<sp/>ext_len,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>*pComp_size,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>*pUncomp_size,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>*pLocal_header_ofs,<sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>*pDisk_start)</highlight></codeline>
<codeline lineno="6312"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6313"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>+<sp/>64<sp/>should<sp/>be<sp/>enough<sp/>for<sp/>any<sp/>new<sp/>zip64<sp/>data<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6314"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1aa6dddea105b3aa50fc245c1faf43843e" kindref="member">mz_zip_array_reserve</ref>(pZip,<sp/>pNew_ext,<sp/>ext_len<sp/>+<sp/>64,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>))</highlight></codeline>
<codeline lineno="6315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="6316"><highlight class="normal"></highlight></codeline>
<codeline lineno="6317"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1aef74dba7366dcc1de36eca8682480ddb" kindref="member">mz_zip_array_resize</ref>(pZip,<sp/>pNew_ext,<sp/>0,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="6318"><highlight class="normal"></highlight></codeline>
<codeline lineno="6319"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pUncomp_size)<sp/>||<sp/>(pComp_size)<sp/>||<sp/>(pLocal_header_ofs)<sp/>||<sp/>(pDisk_start))</highlight></codeline>
<codeline lineno="6320"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>new_ext_block[64];</highlight></codeline>
<codeline lineno="6322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pDst<sp/>=<sp/>new_ext_block;</highlight></codeline>
<codeline lineno="6323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a3084a7ba4f09259808c0003fa1b1e45f" kindref="member">mz_write_le16</ref>(pDst,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a76fd85fc5176e2615ec50dc9e9a850dc" kindref="member">MZ_ZIP64_EXTENDED_INFORMATION_FIELD_HEADER_ID</ref>);</highlight></codeline>
<codeline lineno="6324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a3084a7ba4f09259808c0003fa1b1e45f" kindref="member">mz_write_le16</ref>(pDst<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>),<sp/>0);</highlight></codeline>
<codeline lineno="6325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pDst<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2;</highlight></codeline>
<codeline lineno="6326"><highlight class="normal"></highlight></codeline>
<codeline lineno="6327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pUncomp_size)</highlight></codeline>
<codeline lineno="6328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae5d5e45622787aa5a260f1f800b5978e" kindref="member">mz_write_le64</ref>(pDst,<sp/>*pUncomp_size);</highlight></codeline>
<codeline lineno="6330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pDst<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>);</highlight></codeline>
<codeline lineno="6331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6332"><highlight class="normal"></highlight></codeline>
<codeline lineno="6333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pComp_size)</highlight></codeline>
<codeline lineno="6334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae5d5e45622787aa5a260f1f800b5978e" kindref="member">mz_write_le64</ref>(pDst,<sp/>*pComp_size);</highlight></codeline>
<codeline lineno="6336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pDst<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>);</highlight></codeline>
<codeline lineno="6337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6338"><highlight class="normal"></highlight></codeline>
<codeline lineno="6339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pLocal_header_ofs)</highlight></codeline>
<codeline lineno="6340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae5d5e45622787aa5a260f1f800b5978e" kindref="member">mz_write_le64</ref>(pDst,<sp/>*pLocal_header_ofs);</highlight></codeline>
<codeline lineno="6342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pDst<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>);</highlight></codeline>
<codeline lineno="6343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6344"><highlight class="normal"></highlight></codeline>
<codeline lineno="6345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pDisk_start)</highlight></codeline>
<codeline lineno="6346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1bd4e0a2065cc70ceb20a811605dc402" kindref="member">mz_write_le32</ref>(pDst,<sp/>*pDisk_start);</highlight></codeline>
<codeline lineno="6348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pDst<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>);</highlight></codeline>
<codeline lineno="6349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6350"><highlight class="normal"></highlight></codeline>
<codeline lineno="6351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a3084a7ba4f09259808c0003fa1b1e45f" kindref="member">mz_write_le16</ref>(new_ext_block<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>),<sp/>(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)((pDst<sp/>-<sp/>new_ext_block)<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2));</highlight></codeline>
<codeline lineno="6352"><highlight class="normal"></highlight></codeline>
<codeline lineno="6353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" kindref="member">mz_zip_array_push_back</ref>(pZip,<sp/>pNew_ext,<sp/>new_ext_block,<sp/>pDst<sp/>-<sp/>new_ext_block))</highlight></codeline>
<codeline lineno="6354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="6355"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6356"><highlight class="normal"></highlight></codeline>
<codeline lineno="6357"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pExt)<sp/>&amp;&amp;<sp/>(ext_len))</highlight></codeline>
<codeline lineno="6358"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>extra_size_remaining<sp/>=<sp/>ext_len;</highlight></codeline>
<codeline lineno="6360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pExtra_data<sp/>=<sp/>pExt;</highlight></codeline>
<codeline lineno="6361"><highlight class="normal"></highlight></codeline>
<codeline lineno="6362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>field_id,<sp/>field_data_size,<sp/>field_total_size;</highlight></codeline>
<codeline lineno="6365"><highlight class="normal"></highlight></codeline>
<codeline lineno="6366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(extra_size_remaining<sp/>&lt;<sp/>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2))</highlight></codeline>
<codeline lineno="6367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="6368"><highlight class="normal"></highlight></codeline>
<codeline lineno="6369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_id<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pExtra_data);</highlight></codeline>
<codeline lineno="6370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_data_size<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pExtra_data<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>));</highlight></codeline>
<codeline lineno="6371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_total_size<sp/>=<sp/>field_data_size<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2;</highlight></codeline>
<codeline lineno="6372"><highlight class="normal"></highlight></codeline>
<codeline lineno="6373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(field_total_size<sp/>&gt;<sp/>extra_size_remaining)</highlight></codeline>
<codeline lineno="6374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="6375"><highlight class="normal"></highlight></codeline>
<codeline lineno="6376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(field_id<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a76fd85fc5176e2615ec50dc9e9a850dc" kindref="member">MZ_ZIP64_EXTENDED_INFORMATION_FIELD_HEADER_ID</ref>)</highlight></codeline>
<codeline lineno="6377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" kindref="member">mz_zip_array_push_back</ref>(pZip,<sp/>pNew_ext,<sp/>pExtra_data,<sp/>field_total_size))</highlight></codeline>
<codeline lineno="6379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="6380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6381"><highlight class="normal"></highlight></codeline>
<codeline lineno="6382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pExtra_data<sp/>+=<sp/>field_total_size;</highlight></codeline>
<codeline lineno="6383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_size_remaining<sp/>-=<sp/>field_total_size;</highlight></codeline>
<codeline lineno="6384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(extra_size_remaining);</highlight></codeline>
<codeline lineno="6385"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6386"><highlight class="normal"></highlight></codeline>
<codeline lineno="6387"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="6388"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6389"><highlight class="normal"></highlight></codeline>
<codeline lineno="6390"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>TODO:<sp/>This<sp/>func<sp/>is<sp/>now<sp/>pretty<sp/>freakin<sp/>complex<sp/>due<sp/>to<sp/>zip64,<sp/>split<sp/>it<sp/>up?<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6391"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a995089c55642ae721d39970627a6f692" kindref="member">mz_zip_writer_add_from_zip_reader</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pSource_zip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>src_file_index)</highlight></codeline>
<codeline lineno="6392"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6393"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>n,<sp/>bit_flags,<sp/>num_alignment_padding_bytes,<sp/>src_central_dir_following_data_size;</highlight></codeline>
<codeline lineno="6394"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>src_archive_bytes_remaining,<sp/>local_dir_header_ofs;</highlight></codeline>
<codeline lineno="6395"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>cur_src_file_ofs,<sp/>cur_dst_file_ofs;</highlight></codeline>
<codeline lineno="6396"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>local_header_u32[(<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref><sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>-<sp/>1)<sp/>/<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)];</highlight></codeline>
<codeline lineno="6397"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pLocal_header<sp/>=<sp/>(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)local_header_u32;</highlight></codeline>
<codeline lineno="6398"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>new_central_header[<ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac89e96bb4580c93ac5cc27ca0623b964" kindref="member">MZ_ZIP_CENTRAL_DIR_HEADER_SIZE</ref>];</highlight></codeline>
<codeline lineno="6399"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>orig_central_dir_size;</highlight></codeline>
<codeline lineno="6400"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref><sp/>*pState;</highlight></codeline>
<codeline lineno="6401"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf;</highlight></codeline>
<codeline lineno="6402"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pSrc_central_header;</highlight></codeline>
<codeline lineno="6403"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__archive__file__stat" kindref="compound">mz_zip_archive_file_stat</ref><sp/>src_file_stat;</highlight></codeline>
<codeline lineno="6404"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>src_filename_len,<sp/>src_comment_len,<sp/>src_ext_len;</highlight></codeline>
<codeline lineno="6405"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>local_header_filename_size,<sp/>local_header_extra_len;</highlight></codeline>
<codeline lineno="6406"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>local_header_comp_size,<sp/>local_header_uncomp_size;</highlight></codeline>
<codeline lineno="6407"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>found_zip64_ext_data_in_ldir<sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6408"><highlight class="normal"></highlight></codeline>
<codeline lineno="6409"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Sanity<sp/>checks<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6410"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)<sp/>||<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>!=<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a3b3ad1c596f00688f17e2672c1a20064" kindref="member">MZ_ZIP_MODE_WRITING</ref>)<sp/>||<sp/>(!pSource_zip-&gt;m_pRead))</highlight></codeline>
<codeline lineno="6411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="6412"><highlight class="normal"></highlight></codeline>
<codeline lineno="6413"><highlight class="normal"><sp/><sp/><sp/><sp/>pState<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>;</highlight></codeline>
<codeline lineno="6414"><highlight class="normal"></highlight></codeline>
<codeline lineno="6415"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Don&apos;t<sp/>support<sp/>copying<sp/>files<sp/>from<sp/>zip64<sp/>archives<sp/>to<sp/>non-zip64,<sp/>even<sp/>though<sp/>in<sp/>some<sp/>cases<sp/>this<sp/>is<sp/>possible<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6416"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pSource_zip-&gt;m_pState-&gt;m_zip64)<sp/>&amp;&amp;<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>))</highlight></codeline>
<codeline lineno="6417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="6418"><highlight class="normal"></highlight></codeline>
<codeline lineno="6419"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>pointer<sp/>to<sp/>the<sp/>source<sp/>central<sp/>dir<sp/>header<sp/>and<sp/>crack<sp/>it<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6420"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>(pSrc_central_header<sp/>=<sp/><ref refid="miniz_8c_1abb036541231e500526a12a35e3bd0eae" kindref="member">mz_zip_get_cdh</ref>(pSource_zip,<sp/>src_file_index)))</highlight></codeline>
<codeline lineno="6421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="6422"><highlight class="normal"></highlight></codeline>
<codeline lineno="6423"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pSrc_central_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a358e2e9adf6165535355f8bb86112dec" kindref="member">MZ_ZIP_CDH_SIG_OFS</ref>)<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a77d0b453bce2a419b6144bf87e71b170" kindref="member">MZ_ZIP_CENTRAL_DIR_HEADER_SIG</ref>)</highlight></codeline>
<codeline lineno="6424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="6425"><highlight class="normal"></highlight></codeline>
<codeline lineno="6426"><highlight class="normal"><sp/><sp/><sp/><sp/>src_filename_len<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pSrc_central_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03f4415315a96a9691344f193cef8da2" kindref="member">MZ_ZIP_CDH_FILENAME_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="6427"><highlight class="normal"><sp/><sp/><sp/><sp/>src_comment_len<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pSrc_central_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac67dc228d5e122d1ad9cd42072e65c1d" kindref="member">MZ_ZIP_CDH_COMMENT_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="6428"><highlight class="normal"><sp/><sp/><sp/><sp/>src_ext_len<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pSrc_central_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5a7ea82498b1ffd464965872fe507d8b" kindref="member">MZ_ZIP_CDH_EXTRA_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="6429"><highlight class="normal"><sp/><sp/><sp/><sp/>src_central_dir_following_data_size<sp/>=<sp/>src_filename_len<sp/>+<sp/>src_ext_len<sp/>+<sp/>src_comment_len;</highlight></codeline>
<codeline lineno="6430"><highlight class="normal"></highlight></codeline>
<codeline lineno="6431"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>TODO:<sp/>We<sp/>don&apos;t<sp/>support<sp/>central<sp/>dir&apos;s<sp/>&gt;=<sp/>MZ_UINT32_MAX<sp/>bytes<sp/>right<sp/>now<sp/>(+32<sp/>fudge<sp/>factor<sp/>in<sp/>case<sp/>we<sp/>need<sp/>to<sp/>add<sp/>more<sp/>extra<sp/>data)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6432"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref><sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE<sp/>+<sp/>src_central_dir_following_data_size<sp/>+<sp/>32)<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="6433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dace5ba2a072f9f615873588e7ebc56ab3" kindref="member">MZ_ZIP_UNSUPPORTED_CDIR_SIZE</ref>);</highlight></codeline>
<codeline lineno="6434"><highlight class="normal"></highlight></codeline>
<codeline lineno="6435"><highlight class="normal"><sp/><sp/><sp/><sp/>num_alignment_padding_bytes<sp/>=<sp/><ref refid="miniz_8c_1a922d2fef6d4d160a9053cebf4c486a0b" kindref="member">mz_zip_writer_compute_padding_needed_for_file_alignment</ref>(pZip);</highlight></codeline>
<codeline lineno="6436"><highlight class="normal"></highlight></codeline>
<codeline lineno="6437"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="6438"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>==<sp/><ref refid="miniz_8h_1a512356d187ddd5c72e3123703d60b6cf" kindref="member">MZ_UINT16_MAX</ref>)</highlight></codeline>
<codeline lineno="6440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da72b70e986fc0d33212f6a898e3e6ee94" kindref="member">MZ_ZIP_TOO_MANY_FILES</ref>);</highlight></codeline>
<codeline lineno="6441"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6442"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6443"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>TODO:<sp/>Our<sp/>zip64<sp/>support<sp/>still<sp/>has<sp/>some<sp/>32-bit<sp/>limits<sp/>that<sp/>may<sp/>not<sp/>be<sp/>worth<sp/>fixing.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>==<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="6446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da72b70e986fc0d33212f6a898e3e6ee94" kindref="member">MZ_ZIP_TOO_MANY_FILES</ref>);</highlight></codeline>
<codeline lineno="6447"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6448"><highlight class="normal"></highlight></codeline>
<codeline lineno="6449"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a2a7f8b015e1b9e5b28617661a2102325" kindref="member">mz_zip_file_stat_internal</ref>(pSource_zip,<sp/>src_file_index,<sp/>pSrc_central_header,<sp/>&amp;src_file_stat,<sp/>NULL))</highlight></codeline>
<codeline lineno="6450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6451"><highlight class="normal"></highlight></codeline>
<codeline lineno="6452"><highlight class="normal"><sp/><sp/><sp/><sp/>cur_src_file_ofs<sp/>=<sp/>src_file_stat.<ref refid="structmz__zip__archive__file__stat_1acc27b6ca5dd7159c19bc3dc32e844ac7" kindref="member">m_local_header_ofs</ref>;</highlight></codeline>
<codeline lineno="6453"><highlight class="normal"><sp/><sp/><sp/><sp/>cur_dst_file_ofs<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref>;</highlight></codeline>
<codeline lineno="6454"><highlight class="normal"></highlight></codeline>
<codeline lineno="6455"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>the<sp/>source<sp/>archive&apos;s<sp/>local<sp/>dir<sp/>header<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6456"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pSource_zip-&gt;m_pRead(pSource_zip-&gt;m_pIO_opaque,<sp/>cur_src_file_ofs,<sp/>pLocal_header,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>)<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>)</highlight></codeline>
<codeline lineno="6457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="6458"><highlight class="normal"></highlight></codeline>
<codeline lineno="6459"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pLocal_header)<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a05f28665e3880ca5863fff3ca58129b6" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIG</ref>)</highlight></codeline>
<codeline lineno="6460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="6461"><highlight class="normal"></highlight></codeline>
<codeline lineno="6462"><highlight class="normal"><sp/><sp/><sp/><sp/>cur_src_file_ofs<sp/>+=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>;</highlight></codeline>
<codeline lineno="6463"><highlight class="normal"></highlight></codeline>
<codeline lineno="6464"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Compute<sp/>the<sp/>total<sp/>size<sp/>we<sp/>need<sp/>to<sp/>copy<sp/>(filename+extra<sp/>data+compressed<sp/>data)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6465"><highlight class="normal"><sp/><sp/><sp/><sp/>local_header_filename_size<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pLocal_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4990e590f2652f0d540c3eb35e3f650f" kindref="member">MZ_ZIP_LDH_FILENAME_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="6466"><highlight class="normal"><sp/><sp/><sp/><sp/>local_header_extra_len<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pLocal_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aaecc052d653e298f93b9c5523c98f5f2" kindref="member">MZ_ZIP_LDH_EXTRA_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="6467"><highlight class="normal"><sp/><sp/><sp/><sp/>local_header_comp_size<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pLocal_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a67751a44d185feb156f40a7cd922a577" kindref="member">MZ_ZIP_LDH_COMPRESSED_SIZE_OFS</ref>);</highlight></codeline>
<codeline lineno="6468"><highlight class="normal"><sp/><sp/><sp/><sp/>local_header_uncomp_size<sp/>=<sp/><ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pLocal_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac3538fb6973847de5f8bd315ba8d0e1d" kindref="member">MZ_ZIP_LDH_DECOMPRESSED_SIZE_OFS</ref>);</highlight></codeline>
<codeline lineno="6469"><highlight class="normal"><sp/><sp/><sp/><sp/>src_archive_bytes_remaining<sp/>=<sp/>local_header_filename_size<sp/>+<sp/>local_header_extra_len<sp/>+<sp/>src_file_stat.<ref refid="structmz__zip__archive__file__stat_1ae2ac087fa11585219308de1677000ab3" kindref="member">m_comp_size</ref>;</highlight></codeline>
<codeline lineno="6470"><highlight class="normal"></highlight></codeline>
<codeline lineno="6471"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Try<sp/>to<sp/>find<sp/>a<sp/>zip64<sp/>extended<sp/>information<sp/>field<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6472"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((local_header_extra_len)<sp/>&amp;&amp;<sp/>((local_header_comp_size<sp/>==<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>||<sp/>(local_header_uncomp_size<sp/>==<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)))</highlight></codeline>
<codeline lineno="6473"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>file_data_array;</highlight></codeline>
<codeline lineno="6475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pExtra_data;</highlight></codeline>
<codeline lineno="6476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>extra_size_remaining<sp/>=<sp/>local_header_extra_len;</highlight></codeline>
<codeline lineno="6477"><highlight class="normal"></highlight></codeline>
<codeline lineno="6478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a6e4fb49aa0c719cd8545f933085d3f31" kindref="member">mz_zip_array_init</ref>(&amp;file_data_array,<sp/>1);</highlight></codeline>
<codeline lineno="6479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1aef74dba7366dcc1de36eca8682480ddb" kindref="member">mz_zip_array_resize</ref>(pZip,<sp/>&amp;file_data_array,<sp/>local_header_extra_len,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>))</highlight></codeline>
<codeline lineno="6480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="6482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6483"><highlight class="normal"></highlight></codeline>
<codeline lineno="6484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pSource_zip-&gt;m_pRead(pSource_zip-&gt;m_pIO_opaque,<sp/>src_file_stat.<ref refid="structmz__zip__archive__file__stat_1acc27b6ca5dd7159c19bc3dc32e844ac7" kindref="member">m_local_header_ofs</ref><sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref><sp/>+<sp/>local_header_filename_size,<sp/>file_data_array.<ref refid="structmz__zip__array_1a8054ffa9a3da062a1d7528b124a8b651" kindref="member">m_p</ref>,<sp/>local_header_extra_len)<sp/>!=<sp/>local_header_extra_len)</highlight></codeline>
<codeline lineno="6485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;file_data_array);</highlight></codeline>
<codeline lineno="6487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="6488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6489"><highlight class="normal"></highlight></codeline>
<codeline lineno="6490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pExtra_data<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)file_data_array.<ref refid="structmz__zip__array_1a8054ffa9a3da062a1d7528b124a8b651" kindref="member">m_p</ref>;</highlight></codeline>
<codeline lineno="6491"><highlight class="normal"></highlight></codeline>
<codeline lineno="6492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>field_id,<sp/>field_data_size,<sp/>field_total_size;</highlight></codeline>
<codeline lineno="6495"><highlight class="normal"></highlight></codeline>
<codeline lineno="6496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(extra_size_remaining<sp/>&lt;<sp/>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2))</highlight></codeline>
<codeline lineno="6497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;file_data_array);</highlight></codeline>
<codeline lineno="6499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="6500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6501"><highlight class="normal"></highlight></codeline>
<codeline lineno="6502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_id<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pExtra_data);</highlight></codeline>
<codeline lineno="6503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_data_size<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pExtra_data<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>));</highlight></codeline>
<codeline lineno="6504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field_total_size<sp/>=<sp/>field_data_size<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref>)<sp/>*<sp/>2;</highlight></codeline>
<codeline lineno="6505"><highlight class="normal"></highlight></codeline>
<codeline lineno="6506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(field_total_size<sp/>&gt;<sp/>extra_size_remaining)</highlight></codeline>
<codeline lineno="6507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;file_data_array);</highlight></codeline>
<codeline lineno="6509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="6510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6511"><highlight class="normal"></highlight></codeline>
<codeline lineno="6512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(field_id<sp/>==<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a76fd85fc5176e2615ec50dc9e9a850dc" kindref="member">MZ_ZIP64_EXTENDED_INFORMATION_FIELD_HEADER_ID</ref>)</highlight></codeline>
<codeline lineno="6513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pSrc_field_data<sp/>=<sp/>pExtra_data<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>);</highlight></codeline>
<codeline lineno="6515"><highlight class="normal"></highlight></codeline>
<codeline lineno="6516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(field_data_size<sp/>&lt;<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)<sp/>*<sp/>2)</highlight></codeline>
<codeline lineno="6517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;file_data_array);</highlight></codeline>
<codeline lineno="6519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>);</highlight></codeline>
<codeline lineno="6520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6521"><highlight class="normal"></highlight></codeline>
<codeline lineno="6522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>local_header_uncomp_size<sp/>=<sp/><ref refid="miniz_8h_1ae29c34529021741ba9d9032248a7a625" kindref="member">MZ_READ_LE64</ref>(pSrc_field_data);</highlight></codeline>
<codeline lineno="6523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>local_header_comp_size<sp/>=<sp/><ref refid="miniz_8h_1ae29c34529021741ba9d9032248a7a625" kindref="member">MZ_READ_LE64</ref>(pSrc_field_data<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>));<sp/></highlight><highlight class="comment">/*<sp/>may<sp/>be<sp/>0<sp/>if<sp/>there&apos;s<sp/>a<sp/>descriptor<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6524"><highlight class="normal"></highlight></codeline>
<codeline lineno="6525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>found_zip64_ext_data_in_ldir<sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="6526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6528"><highlight class="normal"></highlight></codeline>
<codeline lineno="6529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pExtra_data<sp/>+=<sp/>field_total_size;</highlight></codeline>
<codeline lineno="6530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extra_size_remaining<sp/>-=<sp/>field_total_size;</highlight></codeline>
<codeline lineno="6531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(extra_size_remaining);</highlight></codeline>
<codeline lineno="6532"><highlight class="normal"></highlight></codeline>
<codeline lineno="6533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;file_data_array);</highlight></codeline>
<codeline lineno="6534"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6535"><highlight class="normal"></highlight></codeline>
<codeline lineno="6536"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="6537"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Try<sp/>to<sp/>detect<sp/>if<sp/>the<sp/>new<sp/>archive<sp/>will<sp/>most<sp/>likely<sp/>wind<sp/>up<sp/>too<sp/>big<sp/>and<sp/>bail<sp/>early<sp/>(+(sizeof(mz_uint32)<sp/>*<sp/>4)<sp/>is<sp/>for<sp/>the<sp/>optional<sp/>descriptor<sp/>which<sp/>could<sp/>be<sp/>present,<sp/>+64<sp/>is<sp/>a<sp/>fudge<sp/>factor).<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>We<sp/>also<sp/>check<sp/>when<sp/>the<sp/>archive<sp/>is<sp/>finalized<sp/>so<sp/>this<sp/>doesn&apos;t<sp/>need<sp/>to<sp/>be<sp/>perfect.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>approx_new_archive_size<sp/>=<sp/>cur_dst_file_ofs<sp/>+<sp/>num_alignment_padding_bytes<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref><sp/>+<sp/>src_archive_bytes_remaining<sp/>+<sp/>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>*<sp/>4)<sp/>+</highlight></codeline>
<codeline lineno="6541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref><sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE<sp/>+<sp/>src_central_dir_following_data_size<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abec7783de4399c774ee325a0e4226ed9" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE</ref><sp/>+<sp/>64;</highlight></codeline>
<codeline lineno="6542"><highlight class="normal"></highlight></codeline>
<codeline lineno="6543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(approx_new_archive_size<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="6544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da99db269c395156b2ecaa9e39a0596601" kindref="member">MZ_ZIP_ARCHIVE_TOO_LARGE</ref>);</highlight></codeline>
<codeline lineno="6545"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6546"><highlight class="normal"></highlight></codeline>
<codeline lineno="6547"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Write<sp/>dest<sp/>archive<sp/>padding<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6548"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1ac2423627c59f318541d6a1218eda198f" kindref="member">mz_zip_writer_write_zeros</ref>(pZip,<sp/>cur_dst_file_ofs,<sp/>num_alignment_padding_bytes))</highlight></codeline>
<codeline lineno="6549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6550"><highlight class="normal"></highlight></codeline>
<codeline lineno="6551"><highlight class="normal"><sp/><sp/><sp/><sp/>cur_dst_file_ofs<sp/>+=<sp/>num_alignment_padding_bytes;</highlight></codeline>
<codeline lineno="6552"><highlight class="normal"></highlight></codeline>
<codeline lineno="6553"><highlight class="normal"><sp/><sp/><sp/><sp/>local_dir_header_ofs<sp/>=<sp/>cur_dst_file_ofs;</highlight></codeline>
<codeline lineno="6554"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ad0a89dcb30f4b8fc8b1a94c9df93d0ff" kindref="member">m_file_offset_alignment</ref>)</highlight></codeline>
<codeline lineno="6555"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a31afa8051f3faec21437339076a389e3" kindref="member">MZ_ASSERT</ref>((local_dir_header_ofs<sp/>&amp;<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1ad0a89dcb30f4b8fc8b1a94c9df93d0ff" kindref="member">m_file_offset_alignment</ref><sp/>-<sp/>1))<sp/>==<sp/>0);</highlight></codeline>
<codeline lineno="6557"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6558"><highlight class="normal"></highlight></codeline>
<codeline lineno="6559"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>The<sp/>original<sp/>zip&apos;s<sp/>local<sp/>header+ext<sp/>block<sp/>doesn&apos;t<sp/>change,<sp/>even<sp/>with<sp/>zip64,<sp/>so<sp/>we<sp/>can<sp/>just<sp/>copy<sp/>it<sp/>over<sp/>to<sp/>the<sp/>dest<sp/>zip<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6560"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_dst_file_ofs,<sp/>pLocal_header,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>)<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>)</highlight></codeline>
<codeline lineno="6561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="6562"><highlight class="normal"></highlight></codeline>
<codeline lineno="6563"><highlight class="normal"><sp/><sp/><sp/><sp/>cur_dst_file_ofs<sp/>+=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abf7fd2cbece3280cb11f419e7cafd6b1" kindref="member">MZ_ZIP_LOCAL_DIR_HEADER_SIZE</ref>;</highlight></codeline>
<codeline lineno="6564"><highlight class="normal"></highlight></codeline>
<codeline lineno="6565"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>over<sp/>the<sp/>source<sp/>archive<sp/>bytes<sp/>to<sp/>the<sp/>dest<sp/>archive,<sp/>also<sp/>ensure<sp/>we<sp/>have<sp/>enough<sp/>buf<sp/>space<sp/>to<sp/>handle<sp/>optional<sp/>data<sp/>descriptor<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6566"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>(pBuf<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1ee45d07ddf4439065e62c12f7de3286" kindref="member">m_pAlloc</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>1,<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)<ref refid="miniz_8h_1aed350adb9c98cc277b69a348a7478cdb" kindref="member">MZ_MAX</ref>(32U,<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>((<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)<ref refid="miniz_8h_1ac36f475ca5b446f4fde4c9b90bec77c8a5b5935618c8f80bac84484ffa644df05" kindref="member">MZ_ZIP_MAX_IO_BUF_SIZE</ref>,<sp/>src_archive_bytes_remaining)))))</highlight></codeline>
<codeline lineno="6567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="6568"><highlight class="normal"></highlight></codeline>
<codeline lineno="6569"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(src_archive_bytes_remaining)</highlight></codeline>
<codeline lineno="6570"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/>(<ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref>)<ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>((<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>)<ref refid="miniz_8h_1ac36f475ca5b446f4fde4c9b90bec77c8a5b5935618c8f80bac84484ffa644df05" kindref="member">MZ_ZIP_MAX_IO_BUF_SIZE</ref>,<sp/>src_archive_bytes_remaining);</highlight></codeline>
<codeline lineno="6572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pSource_zip-&gt;m_pRead(pSource_zip-&gt;m_pIO_opaque,<sp/>cur_src_file_ofs,<sp/>pBuf,<sp/>n)<sp/>!=<sp/>n)</highlight></codeline>
<codeline lineno="6573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pBuf);</highlight></codeline>
<codeline lineno="6575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="6576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_src_file_ofs<sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="6578"><highlight class="normal"></highlight></codeline>
<codeline lineno="6579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_dst_file_ofs,<sp/>pBuf,<sp/>n)<sp/>!=<sp/>n)</highlight></codeline>
<codeline lineno="6580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pBuf);</highlight></codeline>
<codeline lineno="6582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="6583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_dst_file_ofs<sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="6585"><highlight class="normal"></highlight></codeline>
<codeline lineno="6586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>src_archive_bytes_remaining<sp/>-=<sp/>n;</highlight></codeline>
<codeline lineno="6587"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6588"><highlight class="normal"></highlight></codeline>
<codeline lineno="6589"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Now<sp/>deal<sp/>with<sp/>the<sp/>optional<sp/>data<sp/>descriptor<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6590"><highlight class="normal"><sp/><sp/><sp/><sp/>bit_flags<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(pLocal_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0ed8079f712b2ec7963d9b1378596528" kindref="member">MZ_ZIP_LDH_BIT_FLAG_OFS</ref>);</highlight></codeline>
<codeline lineno="6591"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bit_flags<sp/>&amp;<sp/>8)</highlight></codeline>
<codeline lineno="6592"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>data<sp/>descriptor<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pSource_zip-&gt;m_pState-&gt;m_zip64)<sp/>||<sp/>(found_zip64_ext_data_in_ldir))</highlight></codeline>
<codeline lineno="6595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>src<sp/>is<sp/>zip64,<sp/>dest<sp/>must<sp/>be<sp/>zip64<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6597"><highlight class="normal"></highlight></codeline>
<codeline lineno="6598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>name<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t&apos;s<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>id<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1<sp/>(optional<sp/>in<sp/>zip64?)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>crc<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>comp_size<sp/><sp/><sp/><sp/>2<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>uncomp_size<sp/>2<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pSource_zip-&gt;m_pRead(pSource_zip-&gt;m_pIO_opaque,<sp/>cur_src_file_ofs,<sp/>pBuf,<sp/>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>*<sp/>6))<sp/>!=<sp/>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>*<sp/>6))</highlight></codeline>
<codeline lineno="6604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pBuf);</highlight></codeline>
<codeline lineno="6606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="6607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6608"><highlight class="normal"></highlight></codeline>
<codeline lineno="6609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>*<sp/>((<ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pBuf)<sp/>==<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ad5d78923c0a646f47db97500a9d24b9d" kindref="member">MZ_ZIP_DATA_DESCRIPTOR_ID</ref>)<sp/>?<sp/>6<sp/>:<sp/>5);</highlight></codeline>
<codeline lineno="6610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>src<sp/>is<sp/>NOT<sp/>zip64<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>has_id;</highlight></codeline>
<codeline lineno="6615"><highlight class="normal"></highlight></codeline>
<codeline lineno="6616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pSource_zip-&gt;m_pRead(pSource_zip-&gt;m_pIO_opaque,<sp/>cur_src_file_ofs,<sp/>pBuf,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>*<sp/>4)<sp/>!=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>*<sp/>4)</highlight></codeline>
<codeline lineno="6617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pBuf);</highlight></codeline>
<codeline lineno="6619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>);</highlight></codeline>
<codeline lineno="6620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6621"><highlight class="normal"></highlight></codeline>
<codeline lineno="6622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>has_id<sp/>=<sp/>(<ref refid="miniz_8h_1ad46ee9d5a50dd10df9c3829a93773fb6" kindref="member">MZ_READ_LE32</ref>(pBuf)<sp/>==<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ad5d78923c0a646f47db97500a9d24b9d" kindref="member">MZ_ZIP_DATA_DESCRIPTOR_ID</ref>);</highlight></codeline>
<codeline lineno="6623"><highlight class="normal"></highlight></codeline>
<codeline lineno="6624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="6625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>dest<sp/>is<sp/>zip64,<sp/>so<sp/>upgrade<sp/>the<sp/>data<sp/>descriptor<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>*pSrc_descriptor<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>*)((</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pBuf<sp/>+<sp/>(has_id<sp/>?<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>:<sp/>0));</highlight></codeline>
<codeline lineno="6628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>src_crc32<sp/>=<sp/>pSrc_descriptor[0];</highlight></codeline>
<codeline lineno="6629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>src_comp_size<sp/>=<sp/>pSrc_descriptor[1];</highlight></codeline>
<codeline lineno="6630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>src_uncomp_size<sp/>=<sp/>pSrc_descriptor[2];</highlight></codeline>
<codeline lineno="6631"><highlight class="normal"></highlight></codeline>
<codeline lineno="6632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1bd4e0a2065cc70ceb20a811605dc402" kindref="member">mz_write_le32</ref>((<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pBuf,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ad5d78923c0a646f47db97500a9d24b9d" kindref="member">MZ_ZIP_DATA_DESCRIPTOR_ID</ref>);</highlight></codeline>
<codeline lineno="6633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1bd4e0a2065cc70ceb20a811605dc402" kindref="member">mz_write_le32</ref>((<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pBuf<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>*<sp/>1,<sp/>src_crc32);</highlight></codeline>
<codeline lineno="6634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae5d5e45622787aa5a260f1f800b5978e" kindref="member">mz_write_le64</ref>((<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pBuf<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>*<sp/>2,<sp/>src_comp_size);</highlight></codeline>
<codeline lineno="6635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae5d5e45622787aa5a260f1f800b5978e" kindref="member">mz_write_le64</ref>((<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*)pBuf<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>*<sp/>4,<sp/>src_uncomp_size);</highlight></codeline>
<codeline lineno="6636"><highlight class="normal"></highlight></codeline>
<codeline lineno="6637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>*<sp/>6;</highlight></codeline>
<codeline lineno="6638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>dest<sp/>is<sp/>NOT<sp/>zip64,<sp/>just<sp/>copy<sp/>it<sp/>as-is<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>*<sp/>(has_id<sp/>?<sp/>4<sp/>:<sp/>3);</highlight></codeline>
<codeline lineno="6643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6645"><highlight class="normal"></highlight></codeline>
<codeline lineno="6646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>cur_dst_file_ofs,<sp/>pBuf,<sp/>n)<sp/>!=<sp/>n)</highlight></codeline>
<codeline lineno="6647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pBuf);</highlight></codeline>
<codeline lineno="6649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="6650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6651"><highlight class="normal"></highlight></codeline>
<codeline lineno="6652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_src_file_ofs<sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="6653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_dst_file_ofs<sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="6654"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6655"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1abb6dbd66d702cdffc05a885f8448003d" kindref="member">m_pFree</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a54c3a1be907a1e075a112ff06b191644" kindref="member">m_pAlloc_opaque</ref>,<sp/>pBuf);</highlight></codeline>
<codeline lineno="6656"><highlight class="normal"></highlight></codeline>
<codeline lineno="6657"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Finally,<sp/>add<sp/>the<sp/>new<sp/>central<sp/>dir<sp/>header<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6658"><highlight class="normal"><sp/><sp/><sp/><sp/>orig_central_dir_size<sp/>=<sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref>;</highlight></codeline>
<codeline lineno="6659"><highlight class="normal"></highlight></codeline>
<codeline lineno="6660"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy(new_central_header,<sp/>pSrc_central_header,<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE);</highlight></codeline>
<codeline lineno="6661"><highlight class="normal"></highlight></codeline>
<codeline lineno="6662"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="6663"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>is<sp/>the<sp/>painful<sp/>part:<sp/>We<sp/>need<sp/>to<sp/>write<sp/>a<sp/>new<sp/>central<sp/>dir<sp/>header<sp/>+<sp/>ext<sp/>block<sp/>with<sp/>updated<sp/>zip64<sp/>fields,<sp/>and<sp/>ensure<sp/>the<sp/>old<sp/>fields<sp/>(if<sp/>any)<sp/>are<sp/>not<sp/>included.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*pSrc_ext<sp/>=<sp/>pSrc_central_header<sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE<sp/>+<sp/>src_filename_len;</highlight></codeline>
<codeline lineno="6666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structmz__zip__array" kindref="compound">mz_zip_array</ref><sp/>new_ext_block;</highlight></codeline>
<codeline lineno="6667"><highlight class="normal"></highlight></codeline>
<codeline lineno="6668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a6e4fb49aa0c719cd8545f933085d3f31" kindref="member">mz_zip_array_init</ref>(&amp;new_ext_block,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref>));</highlight></codeline>
<codeline lineno="6669"><highlight class="normal"></highlight></codeline>
<codeline lineno="6670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(new_central_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a2a463b99b8d0699bda4e3a52dd1d1015" kindref="member">MZ_ZIP_CDH_COMPRESSED_SIZE_OFS</ref>,<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>);</highlight></codeline>
<codeline lineno="6671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(new_central_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a43afeb736295b1f90330d79db8420c9e" kindref="member">MZ_ZIP_CDH_DECOMPRESSED_SIZE_OFS</ref>,<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>);</highlight></codeline>
<codeline lineno="6672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(new_central_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a15dc7648592d367c3edaac476c3aac87" kindref="member">MZ_ZIP_CDH_LOCAL_HEADER_OFS</ref>,<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>);</highlight></codeline>
<codeline lineno="6673"><highlight class="normal"></highlight></codeline>
<codeline lineno="6674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1ad78fe0e35fd725fddef759bd8239d123" kindref="member">mz_zip_writer_update_zip64_extension_block</ref>(&amp;new_ext_block,<sp/>pZip,<sp/>pSrc_ext,<sp/>src_ext_len,<sp/>&amp;src_file_stat.<ref refid="structmz__zip__archive__file__stat_1ae2ac087fa11585219308de1677000ab3" kindref="member">m_comp_size</ref>,<sp/>&amp;src_file_stat.<ref refid="structmz__zip__archive__file__stat_1aa55ee3580a844400d4bd43be27ae3808" kindref="member">m_uncomp_size</ref>,<sp/>&amp;local_dir_header_ofs,<sp/>NULL))</highlight></codeline>
<codeline lineno="6675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;new_ext_block);</highlight></codeline>
<codeline lineno="6677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6679"><highlight class="normal"></highlight></codeline>
<codeline lineno="6680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(new_central_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5a7ea82498b1ffd464965872fe507d8b" kindref="member">MZ_ZIP_CDH_EXTRA_LEN_OFS</ref>,<sp/>new_ext_block.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref>);</highlight></codeline>
<codeline lineno="6681"><highlight class="normal"></highlight></codeline>
<codeline lineno="6682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" kindref="member">mz_zip_array_push_back</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>new_central_header,<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE))</highlight></codeline>
<codeline lineno="6683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;new_ext_block);</highlight></codeline>
<codeline lineno="6685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="6686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6687"><highlight class="normal"></highlight></codeline>
<codeline lineno="6688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" kindref="member">mz_zip_array_push_back</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>pSrc_central_header<sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE,<sp/>src_filename_len))</highlight></codeline>
<codeline lineno="6689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;new_ext_block);</highlight></codeline>
<codeline lineno="6691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1aef74dba7366dcc1de36eca8682480ddb" kindref="member">mz_zip_array_resize</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>orig_central_dir_size,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="6692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="6693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6694"><highlight class="normal"></highlight></codeline>
<codeline lineno="6695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" kindref="member">mz_zip_array_push_back</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>new_ext_block.<ref refid="structmz__zip__array_1a8054ffa9a3da062a1d7528b124a8b651" kindref="member">m_p</ref>,<sp/>new_ext_block.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref>))</highlight></codeline>
<codeline lineno="6696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;new_ext_block);</highlight></codeline>
<codeline lineno="6698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1aef74dba7366dcc1de36eca8682480ddb" kindref="member">mz_zip_array_resize</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>orig_central_dir_size,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="6699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="6700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6701"><highlight class="normal"></highlight></codeline>
<codeline lineno="6702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" kindref="member">mz_zip_array_push_back</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>pSrc_central_header<sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE<sp/>+<sp/>src_filename_len<sp/>+<sp/>src_ext_len,<sp/>src_comment_len))</highlight></codeline>
<codeline lineno="6703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;new_ext_block);</highlight></codeline>
<codeline lineno="6705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1aef74dba7366dcc1de36eca8682480ddb" kindref="member">mz_zip_array_resize</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>orig_central_dir_size,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="6706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="6707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6708"><highlight class="normal"></highlight></codeline>
<codeline lineno="6709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8d5466de3a4020b175538318149c802f" kindref="member">mz_zip_array_clear</ref>(pZip,<sp/>&amp;new_ext_block);</highlight></codeline>
<codeline lineno="6710"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6711"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6712"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>sanity<sp/>checks<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cur_dst_file_ofs<sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="6715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da99db269c395156b2ecaa9e39a0596601" kindref="member">MZ_ZIP_ARCHIVE_TOO_LARGE</ref>);</highlight></codeline>
<codeline lineno="6716"><highlight class="normal"></highlight></codeline>
<codeline lineno="6717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(local_dir_header_ofs<sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="6718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da99db269c395156b2ecaa9e39a0596601" kindref="member">MZ_ZIP_ARCHIVE_TOO_LARGE</ref>);</highlight></codeline>
<codeline lineno="6719"><highlight class="normal"></highlight></codeline>
<codeline lineno="6720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(new_central_header<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a15dc7648592d367c3edaac476c3aac87" kindref="member">MZ_ZIP_CDH_LOCAL_HEADER_OFS</ref>,<sp/>local_dir_header_ofs);</highlight></codeline>
<codeline lineno="6721"><highlight class="normal"></highlight></codeline>
<codeline lineno="6722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" kindref="member">mz_zip_array_push_back</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>new_central_header,<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE))</highlight></codeline>
<codeline lineno="6723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="6724"><highlight class="normal"></highlight></codeline>
<codeline lineno="6725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" kindref="member">mz_zip_array_push_back</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>pSrc_central_header<sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE,<sp/>src_central_dir_following_data_size))</highlight></codeline>
<codeline lineno="6726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1aef74dba7366dcc1de36eca8682480ddb" kindref="member">mz_zip_array_resize</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>orig_central_dir_size,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="6728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="6729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6730"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6731"><highlight class="normal"></highlight></codeline>
<codeline lineno="6732"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>shouldn&apos;t<sp/>trigger<sp/>unless<sp/>we<sp/>screwed<sp/>up<sp/>during<sp/>the<sp/>initial<sp/>sanity<sp/>checks<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6733"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref><sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)</highlight></codeline>
<codeline lineno="6734"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>TODO:<sp/>Support<sp/>central<sp/>dirs<sp/>&gt;=<sp/>32-bits<sp/>in<sp/>size<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1aef74dba7366dcc1de36eca8682480ddb" kindref="member">mz_zip_array_resize</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>orig_central_dir_size,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="6737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dace5ba2a072f9f615873588e7ebc56ab3" kindref="member">MZ_ZIP_UNSUPPORTED_CDIR_SIZE</ref>);</highlight></codeline>
<codeline lineno="6738"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6739"><highlight class="normal"></highlight></codeline>
<codeline lineno="6740"><highlight class="normal"><sp/><sp/><sp/><sp/>n<sp/>=<sp/>(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)orig_central_dir_size;</highlight></codeline>
<codeline lineno="6741"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a8531c0429033508c4a622d4e6427bbe4" kindref="member">mz_zip_array_push_back</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a51a9aa41f7499c7e6e4c2546aa965b9c" kindref="member">m_central_dir_offsets</ref>,<sp/>&amp;n,<sp/>1))</highlight></codeline>
<codeline lineno="6742"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1aef74dba7366dcc1de36eca8682480ddb" kindref="member">mz_zip_array_resize</ref>(pZip,<sp/>&amp;pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>,<sp/>orig_central_dir_size,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="6744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>);</highlight></codeline>
<codeline lineno="6745"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6746"><highlight class="normal"></highlight></codeline>
<codeline lineno="6747"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>++;</highlight></codeline>
<codeline lineno="6748"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>=<sp/>cur_dst_file_ofs;</highlight></codeline>
<codeline lineno="6749"><highlight class="normal"></highlight></codeline>
<codeline lineno="6750"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="6751"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6752"><highlight class="normal"></highlight></codeline>
<codeline lineno="6753"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a0f7c5b26c1200daacd0eefa8744d9d1a" kindref="member">mz_zip_writer_finalize_archive</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="6754"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6755"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__internal__state__tag" kindref="compound">mz_zip_internal_state</ref><sp/>*pState;</highlight></codeline>
<codeline lineno="6756"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>central_dir_ofs,<sp/>central_dir_size;</highlight></codeline>
<codeline lineno="6757"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>hdr[256];</highlight></codeline>
<codeline lineno="6758"><highlight class="normal"></highlight></codeline>
<codeline lineno="6759"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)<sp/>||<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>!=<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a3b3ad1c596f00688f17e2672c1a20064" kindref="member">MZ_ZIP_MODE_WRITING</ref>))</highlight></codeline>
<codeline lineno="6760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="6761"><highlight class="normal"></highlight></codeline>
<codeline lineno="6762"><highlight class="normal"><sp/><sp/><sp/><sp/>pState<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>;</highlight></codeline>
<codeline lineno="6763"><highlight class="normal"></highlight></codeline>
<codeline lineno="6764"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="6765"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>)<sp/>||<sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref><sp/>&gt;=<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>))</highlight></codeline>
<codeline lineno="6767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da72b70e986fc0d33212f6a898e3e6ee94" kindref="member">MZ_ZIP_TOO_MANY_FILES</ref>);</highlight></codeline>
<codeline lineno="6768"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6769"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6770"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>&gt;<sp/><ref refid="miniz_8h_1a512356d187ddd5c72e3123703d60b6cf" kindref="member">MZ_UINT16_MAX</ref>)<sp/>||<sp/>((pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>+<sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref><sp/>+<sp/>MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE)<sp/>&gt;<sp/><ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>))</highlight></codeline>
<codeline lineno="6772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da72b70e986fc0d33212f6a898e3e6ee94" kindref="member">MZ_ZIP_TOO_MANY_FILES</ref>);</highlight></codeline>
<codeline lineno="6773"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6774"><highlight class="normal"></highlight></codeline>
<codeline lineno="6775"><highlight class="normal"><sp/><sp/><sp/><sp/>central_dir_ofs<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6776"><highlight class="normal"><sp/><sp/><sp/><sp/>central_dir_size<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6777"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>)</highlight></codeline>
<codeline lineno="6778"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Write<sp/>central<sp/>directory<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>central_dir_ofs<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref>;</highlight></codeline>
<codeline lineno="6781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>central_dir_size<sp/>=<sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref>;</highlight></codeline>
<codeline lineno="6782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a128125bc28f4d1f118fe7b9badd0f975" kindref="member">m_central_directory_file_ofs</ref><sp/>=<sp/>central_dir_ofs;</highlight></codeline>
<codeline lineno="6783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>central_dir_ofs,<sp/>pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a8054ffa9a3da062a1d7528b124a8b651" kindref="member">m_p</ref>,<sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)central_dir_size)<sp/>!=<sp/>central_dir_size)</highlight></codeline>
<codeline lineno="6784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="6785"><highlight class="normal"></highlight></codeline>
<codeline lineno="6786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>+=<sp/>central_dir_size;</highlight></codeline>
<codeline lineno="6787"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6788"><highlight class="normal"></highlight></codeline>
<codeline lineno="6789"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>)</highlight></codeline>
<codeline lineno="6790"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Write<sp/>zip64<sp/>end<sp/>of<sp/>central<sp/>directory<sp/>header<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>rel_ofs_to_zip64_ecdr<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref>;</highlight></codeline>
<codeline lineno="6793"><highlight class="normal"></highlight></codeline>
<codeline lineno="6794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(hdr);</highlight></codeline>
<codeline lineno="6795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(hdr<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a0ecfe9df02264886b36ace284d1fcfd4" kindref="member">MZ_ZIP64_ECDH_SIG_OFS</ref>,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a1737873733b435bcafe42f36d33e95e6" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_HEADER_SIG</ref>);</highlight></codeline>
<codeline lineno="6796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae6ce659c1af2562e681e9e6f09064d3d" kindref="member">MZ_WRITE_LE64</ref>(hdr<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7af93888e0a9fe5b48b11c983d8626278d" kindref="member">MZ_ZIP64_ECDH_SIZE_OF_RECORD_OFS</ref>,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7acc90947176ac515bdaa8c71daf7aaaa3" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_HEADER_SIZE</ref><sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref>)<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref>));</highlight></codeline>
<codeline lineno="6797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(hdr<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03aa0ae942083ab0f6bee9f23f3eec45" kindref="member">MZ_ZIP64_ECDH_VERSION_MADE_BY_OFS</ref>,<sp/>0x031E);<sp/></highlight><highlight class="comment">/*<sp/>TODO:<sp/>always<sp/>Unix<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(hdr<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a55ade64891d171085e4c27b6c91a5b18" kindref="member">MZ_ZIP64_ECDH_VERSION_NEEDED_OFS</ref>,<sp/>0x002D);</highlight></codeline>
<codeline lineno="6799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae6ce659c1af2562e681e9e6f09064d3d" kindref="member">MZ_WRITE_LE64</ref>(hdr<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a63640ed20841b4aad31e5f27bc11f5c4" kindref="member">MZ_ZIP64_ECDH_CDIR_NUM_ENTRIES_ON_DISK_OFS</ref>,<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>);</highlight></codeline>
<codeline lineno="6800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae6ce659c1af2562e681e9e6f09064d3d" kindref="member">MZ_WRITE_LE64</ref>(hdr<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa3bd2e64f9cea2ef41a46201685ebb0f" kindref="member">MZ_ZIP64_ECDH_CDIR_TOTAL_ENTRIES_OFS</ref>,<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>);</highlight></codeline>
<codeline lineno="6801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae6ce659c1af2562e681e9e6f09064d3d" kindref="member">MZ_WRITE_LE64</ref>(hdr<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a8bd9fc50f35f48bf3ce4456b4d57bac3" kindref="member">MZ_ZIP64_ECDH_CDIR_SIZE_OFS</ref>,<sp/>central_dir_size);</highlight></codeline>
<codeline lineno="6802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae6ce659c1af2562e681e9e6f09064d3d" kindref="member">MZ_WRITE_LE64</ref>(hdr<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7ac3072ff7e0d451b2d918e4be650c998c" kindref="member">MZ_ZIP64_ECDH_CDIR_OFS_OFS</ref>,<sp/>central_dir_ofs);</highlight></codeline>
<codeline lineno="6803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref>,<sp/>hdr,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7acc90947176ac515bdaa8c71daf7aaaa3" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>)<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7acc90947176ac515bdaa8c71daf7aaaa3" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>)</highlight></codeline>
<codeline lineno="6804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="6805"><highlight class="normal"></highlight></codeline>
<codeline lineno="6806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>+=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7acc90947176ac515bdaa8c71daf7aaaa3" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>;</highlight></codeline>
<codeline lineno="6807"><highlight class="normal"></highlight></codeline>
<codeline lineno="6808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Write<sp/>zip64<sp/>end<sp/>of<sp/>central<sp/>directory<sp/>locator<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(hdr);</highlight></codeline>
<codeline lineno="6810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(hdr<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a493c8c19fe896d665222f70c623f9fc6" kindref="member">MZ_ZIP64_ECDL_SIG_OFS</ref>,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aacfa47118d9e7c741c8b27a1e4f27958" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIG</ref>);</highlight></codeline>
<codeline lineno="6811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1ae6ce659c1af2562e681e9e6f09064d3d" kindref="member">MZ_WRITE_LE64</ref>(hdr<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a5e3af797b3f1a81865958774b1c62735" kindref="member">MZ_ZIP64_ECDL_REL_OFS_TO_ZIP64_ECDR_OFS</ref>,<sp/>rel_ofs_to_zip64_ecdr);</highlight></codeline>
<codeline lineno="6812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(hdr<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a8be22e7047a06fc2815c55c84b82b222" kindref="member">MZ_ZIP64_ECDL_TOTAL_NUMBER_OF_DISKS_OFS</ref>,<sp/>1);</highlight></codeline>
<codeline lineno="6813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref>,<sp/>hdr,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4a1c181272cf9a1959d655c252a4419b" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIZE</ref>)<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4a1c181272cf9a1959d655c252a4419b" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIZE</ref>)</highlight></codeline>
<codeline lineno="6814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="6815"><highlight class="normal"></highlight></codeline>
<codeline lineno="6816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>+=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a4a1c181272cf9a1959d655c252a4419b" kindref="member">MZ_ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIZE</ref>;</highlight></codeline>
<codeline lineno="6817"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6818"><highlight class="normal"></highlight></codeline>
<codeline lineno="6819"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Write<sp/>end<sp/>of<sp/>central<sp/>directory<sp/>record<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6820"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a3da1eeeef02435f2d09129914aa2928b" kindref="member">MZ_CLEAR_OBJ</ref>(hdr);</highlight></codeline>
<codeline lineno="6821"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(hdr<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a7b4454ba69b4a1c3bfe0cd316932a3cf" kindref="member">MZ_ZIP_ECDH_SIG_OFS</ref>,<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a95b16d7168bf48558fd3c8b852cb8a3d" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIG</ref>);</highlight></codeline>
<codeline lineno="6822"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(hdr<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a3415fd67ec4b72e9b7e6856ed920d100" kindref="member">MZ_ZIP_ECDH_CDIR_NUM_ENTRIES_ON_DISK_OFS</ref>,<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(<ref refid="miniz_8h_1a512356d187ddd5c72e3123703d60b6cf" kindref="member">MZ_UINT16_MAX</ref>,<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>));</highlight></codeline>
<codeline lineno="6823"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a1fb0db25f9d07791189f59da7a3b09ce" kindref="member">MZ_WRITE_LE16</ref>(hdr<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a76cd05886b8034f320cb457c03e6641a" kindref="member">MZ_ZIP_ECDH_CDIR_TOTAL_ENTRIES_OFS</ref>,<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(<ref refid="miniz_8h_1a512356d187ddd5c72e3123703d60b6cf" kindref="member">MZ_UINT16_MAX</ref>,<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref>));</highlight></codeline>
<codeline lineno="6824"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(hdr<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a45f0ad9bb0f828942c6e54015f44af4e" kindref="member">MZ_ZIP_ECDH_CDIR_SIZE_OFS</ref>,<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(<ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>,<sp/>central_dir_size));</highlight></codeline>
<codeline lineno="6825"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a0550f3b6a993aba98e69705788c6b891" kindref="member">MZ_WRITE_LE32</ref>(hdr<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7aa862cb29a1bcd653affce1a58e82f494" kindref="member">MZ_ZIP_ECDH_CDIR_OFS_OFS</ref>,<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(<ref refid="miniz_8h_1aff7bdd0a0a11c987a5f23ab7e97363cc" kindref="member">MZ_UINT32_MAX</ref>,<sp/>central_dir_ofs));</highlight></codeline>
<codeline lineno="6826"><highlight class="normal"></highlight></codeline>
<codeline lineno="6827"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref>,<sp/>hdr,<sp/>MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE)<sp/>!=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abec7783de4399c774ee325a0e4226ed9" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>)</highlight></codeline>
<codeline lineno="6828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>);</highlight></codeline>
<codeline lineno="6829"><highlight class="normal"></highlight></codeline>
<codeline lineno="6830"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_STDIO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6831"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>)<sp/>&amp;&amp;<sp/>(<ref refid="miniz_8c_1a2c964feaab7054e5141d5bea17af0303" kindref="member">MZ_FFLUSH</ref>(pState-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>)<sp/>==<sp/>EOF))</highlight></codeline>
<codeline lineno="6832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da425368dd51a2a374f88b285338098851" kindref="member">MZ_ZIP_FILE_CLOSE_FAILED</ref>);</highlight></codeline>
<codeline lineno="6833"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifndef<sp/>MINIZ_NO_STDIO<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6834"><highlight class="normal"></highlight></codeline>
<codeline lineno="6835"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref><sp/>+=<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7abec7783de4399c774ee325a0e4226ed9" kindref="member">MZ_ZIP_END_OF_CENTRAL_DIR_HEADER_SIZE</ref>;</highlight></codeline>
<codeline lineno="6836"><highlight class="normal"></highlight></codeline>
<codeline lineno="6837"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>=<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3ab445229af27a6e8c9d512d12265dea5b" kindref="member">MZ_ZIP_MODE_WRITING_HAS_BEEN_FINALIZED</ref>;</highlight></codeline>
<codeline lineno="6838"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="6839"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6840"><highlight class="normal"></highlight></codeline>
<codeline lineno="6841"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1ae21d7f8237b520a1c8681bddb68cad42" kindref="member">mz_zip_writer_finalize_heap_archive</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>**ppBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*pSize)</highlight></codeline>
<codeline lineno="6842"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6843"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!ppBuf)<sp/>||<sp/>(!pSize))</highlight></codeline>
<codeline lineno="6844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="6845"><highlight class="normal"></highlight></codeline>
<codeline lineno="6846"><highlight class="normal"><sp/><sp/><sp/><sp/>*ppBuf<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="6847"><highlight class="normal"><sp/><sp/><sp/><sp/>*pSize<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6848"><highlight class="normal"></highlight></codeline>
<codeline lineno="6849"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>))</highlight></codeline>
<codeline lineno="6850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="6851"><highlight class="normal"></highlight></codeline>
<codeline lineno="6852"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a999d2d2e54211bfe0606008b6597f0d5" kindref="member">m_pWrite</ref><sp/>!=<sp/><ref refid="miniz_8c_1a80eaca434d785016af778ef5c93399e8" kindref="member">mz_zip_heap_write_func</ref>)</highlight></codeline>
<codeline lineno="6853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="6854"><highlight class="normal"></highlight></codeline>
<codeline lineno="6855"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a0f7c5b26c1200daacd0eefa8744d9d1a" kindref="member">mz_zip_writer_finalize_archive</ref>(pZip))</highlight></codeline>
<codeline lineno="6856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6857"><highlight class="normal"></highlight></codeline>
<codeline lineno="6858"><highlight class="normal"><sp/><sp/><sp/><sp/>*ppBuf<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref>;</highlight></codeline>
<codeline lineno="6859"><highlight class="normal"><sp/><sp/><sp/><sp/>*pSize<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a4511d7743e1a63fb78ed066f8de96466" kindref="member">m_mem_size</ref>;</highlight></codeline>
<codeline lineno="6860"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1ac0f2149f384cffd332635b3a5323c377" kindref="member">m_pMem</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="6861"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a4511d7743e1a63fb78ed066f8de96466" kindref="member">m_mem_size</ref><sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a71f011527805e3ac48f5f12cb73d2233" kindref="member">m_mem_capacity</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6862"><highlight class="normal"></highlight></codeline>
<codeline lineno="6863"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="6864"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6865"><highlight class="normal"></highlight></codeline>
<codeline lineno="6866"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a7ac49ded3cc37713226764131602e857" kindref="member">mz_zip_writer_end</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="6867"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6868"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a278e91533e10d52981cb5d3d49335f7e" kindref="member">mz_zip_writer_end_internal</ref>(pZip,<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>);</highlight></codeline>
<codeline lineno="6869"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6870"><highlight class="normal"></highlight></codeline>
<codeline lineno="6871"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_STDIO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6872"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a36c32e80d9a7c3c217ae7afdfe1d30cf" kindref="member">mz_zip_add_mem_to_archive_file_in_place</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pZip_filename,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pArchive_name,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>buf_size,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pComment,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>comment_size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>level_and_flags)</highlight></codeline>
<codeline lineno="6873"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6874"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a443af52ee783e8ce9dc397761632d30e" kindref="member">mz_zip_add_mem_to_archive_file_in_place_v2</ref>(pZip_filename,<sp/>pArchive_name,<sp/>pBuf,<sp/>buf_size,<sp/>pComment,<sp/>comment_size,<sp/>level_and_flags,<sp/>NULL);</highlight></codeline>
<codeline lineno="6875"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6876"><highlight class="normal"></highlight></codeline>
<codeline lineno="6877"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a443af52ee783e8ce9dc397761632d30e" kindref="member">mz_zip_add_mem_to_archive_file_in_place_v2</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pZip_filename,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pArchive_name,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>buf_size,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pComment,<sp/><ref refid="miniz_8h_1ab88892139a542649bc9bbfa592a9d354" kindref="member">mz_uint16</ref><sp/>comment_size,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>level_and_flags,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref><sp/>*pErr)</highlight></codeline>
<codeline lineno="6878"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6879"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/>status,<sp/>created_new_archive<sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6880"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>zip_archive;</highlight></codeline>
<codeline lineno="6881"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="miniz_8c_1abbb4323f24a8e32a583c0b1b7e6820c9" kindref="member">MZ_FILE_STAT_STRUCT</ref><sp/>file_stat;</highlight></codeline>
<codeline lineno="6882"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref><sp/>actual_err<sp/>=<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da6d0cd76e20534ea0d5777ac0c3601db9" kindref="member">MZ_ZIP_NO_ERROR</ref>;</highlight></codeline>
<codeline lineno="6883"><highlight class="normal"></highlight></codeline>
<codeline lineno="6884"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8c64687454aca17948eb58730dc6f41b" kindref="member">mz_zip_zero_struct</ref>(&amp;zip_archive);</highlight></codeline>
<codeline lineno="6885"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)level_and_flags<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="6886"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>level_and_flags<sp/>=<sp/><ref refid="miniz_8h_1abc6126af1d45847bc59afa0aa3216b04ab5dc326a9f034dc71d6012d86dd1343f" kindref="member">MZ_DEFAULT_LEVEL</ref>;</highlight></codeline>
<codeline lineno="6887"><highlight class="normal"></highlight></codeline>
<codeline lineno="6888"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip_filename)<sp/>||<sp/>(!pArchive_name)<sp/>||<sp/>((buf_size)<sp/>&amp;&amp;<sp/>(!pBuf))<sp/>||<sp/>((comment_size)<sp/>&amp;&amp;<sp/>(!pComment))<sp/>||<sp/>((level_and_flags<sp/>&amp;<sp/>0xF)<sp/>&gt;<sp/><ref refid="miniz_8h_1abc6126af1d45847bc59afa0aa3216b04a54ec4bb3bd4e6ae21180b27a73c46147" kindref="member">MZ_UBER_COMPRESSION</ref>))</highlight></codeline>
<codeline lineno="6889"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pErr)</highlight></codeline>
<codeline lineno="6891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pErr<sp/>=<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>;</highlight></codeline>
<codeline lineno="6892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6893"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6894"><highlight class="normal"></highlight></codeline>
<codeline lineno="6895"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a97d5bb6b72d210e1a566e43b10080220" kindref="member">mz_zip_writer_validate_archive_name</ref>(pArchive_name))</highlight></codeline>
<codeline lineno="6896"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pErr)</highlight></codeline>
<codeline lineno="6898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pErr<sp/>=<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da5f3d5a8641212fa3ad820bcb94124cc2" kindref="member">MZ_ZIP_INVALID_FILENAME</ref>;</highlight></codeline>
<codeline lineno="6899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6900"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6901"><highlight class="normal"></highlight></codeline>
<codeline lineno="6902"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Important:<sp/>The<sp/>regular<sp/>non-64<sp/>bit<sp/>version<sp/>of<sp/>stat()<sp/>can<sp/>fail<sp/>here<sp/>if<sp/>the<sp/>file<sp/>is<sp/>very<sp/>large,<sp/>which<sp/>could<sp/>cause<sp/>the<sp/>archive<sp/>to<sp/>be<sp/>overwritten.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6903"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>So<sp/>be<sp/>sure<sp/>to<sp/>compile<sp/>with<sp/>_LARGEFILE64_SOURCE<sp/>1<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6904"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8c_1a06857ce8d288f462c7a2c5ded5eeea7c" kindref="member">MZ_FILE_STAT</ref>(pZip_filename,<sp/>&amp;file_stat)<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="6905"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Create<sp/>a<sp/>new<sp/>archive.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a3f063007374b7ddf5fd84f0644b4cfba" kindref="member">mz_zip_writer_init_file_v2</ref>(&amp;zip_archive,<sp/>pZip_filename,<sp/>0,<sp/>level_and_flags))</highlight></codeline>
<codeline lineno="6908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pErr)</highlight></codeline>
<codeline lineno="6910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pErr<sp/>=<sp/>zip_archive.<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="6911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6913"><highlight class="normal"></highlight></codeline>
<codeline lineno="6914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>created_new_archive<sp/>=<sp/><ref refid="miniz_8h_1aef00c8f99445949d239115e8f74618a6" kindref="member">MZ_TRUE</ref>;</highlight></codeline>
<codeline lineno="6915"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6916"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6917"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Append<sp/>to<sp/>an<sp/>existing<sp/>archive.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1aac2174a6cb49f234d050051bff59bfdd" kindref="member">mz_zip_reader_init_file_v2</ref>(&amp;zip_archive,<sp/>pZip_filename,<sp/>level_and_flags<sp/>|<sp/><ref refid="miniz_8h_1a0b7f6f797da7a3d078535ba71ca00858ab09115999c35684b92cd771f65909e39" kindref="member">MZ_ZIP_FLAG_DO_NOT_SORT_CENTRAL_DIRECTORY</ref>,<sp/>0,<sp/>0))</highlight></codeline>
<codeline lineno="6920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pErr)</highlight></codeline>
<codeline lineno="6922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pErr<sp/>=<sp/>zip_archive.<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="6923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6925"><highlight class="normal"></highlight></codeline>
<codeline lineno="6926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1aaa53ceaf8230510769b12e04df060c23" kindref="member">mz_zip_writer_init_from_reader_v2</ref>(&amp;zip_archive,<sp/>pZip_filename,<sp/>level_and_flags))</highlight></codeline>
<codeline lineno="6927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pErr)</highlight></codeline>
<codeline lineno="6929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pErr<sp/>=<sp/>zip_archive.<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="6930"><highlight class="normal"></highlight></codeline>
<codeline lineno="6931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a550503f834d14ecf4baf1eff98f3ca5c" kindref="member">mz_zip_reader_end_internal</ref>(&amp;zip_archive,<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>);</highlight></codeline>
<codeline lineno="6932"><highlight class="normal"></highlight></codeline>
<codeline lineno="6933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6935"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6936"><highlight class="normal"></highlight></codeline>
<codeline lineno="6937"><highlight class="normal"><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8c_1a48ece9a3d251aa69af280e975b6cc080" kindref="member">mz_zip_writer_add_mem_ex</ref>(&amp;zip_archive,<sp/>pArchive_name,<sp/>pBuf,<sp/>buf_size,<sp/>pComment,<sp/>comment_size,<sp/>level_and_flags,<sp/>0,<sp/>0);</highlight></codeline>
<codeline lineno="6938"><highlight class="normal"><sp/><sp/><sp/><sp/>actual_err<sp/>=<sp/>zip_archive.<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="6939"><highlight class="normal"></highlight></codeline>
<codeline lineno="6940"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Always<sp/>finalize,<sp/>even<sp/>if<sp/>adding<sp/>failed<sp/>for<sp/>some<sp/>reason,<sp/>so<sp/>we<sp/>have<sp/>a<sp/>valid<sp/>central<sp/>directory.<sp/>(This<sp/>may<sp/>not<sp/>always<sp/>succeed,<sp/>but<sp/>we<sp/>can<sp/>try.)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6941"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a0f7c5b26c1200daacd0eefa8744d9d1a" kindref="member">mz_zip_writer_finalize_archive</ref>(&amp;zip_archive))</highlight></codeline>
<codeline lineno="6942"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!actual_err)</highlight></codeline>
<codeline lineno="6944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>actual_err<sp/>=<sp/>zip_archive.<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="6945"><highlight class="normal"></highlight></codeline>
<codeline lineno="6946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6947"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6948"><highlight class="normal"></highlight></codeline>
<codeline lineno="6949"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1a278e91533e10d52981cb5d3d49335f7e" kindref="member">mz_zip_writer_end_internal</ref>(&amp;zip_archive,<sp/>status))</highlight></codeline>
<codeline lineno="6950"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!actual_err)</highlight></codeline>
<codeline lineno="6952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>actual_err<sp/>=<sp/>zip_archive.<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="6953"><highlight class="normal"></highlight></codeline>
<codeline lineno="6954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="6955"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6956"><highlight class="normal"></highlight></codeline>
<codeline lineno="6957"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!status)<sp/>&amp;&amp;<sp/>(created_new_archive))</highlight></codeline>
<codeline lineno="6958"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>It&apos;s<sp/>a<sp/>new<sp/>archive<sp/>and<sp/>something<sp/>went<sp/>wrong,<sp/>so<sp/>just<sp/>delete<sp/>it.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ignoredStatus<sp/>=<sp/><ref refid="miniz_8c_1afd75f71da5742246d7c16e3c2be1b5ac" kindref="member">MZ_DELETE_FILE</ref>(pZip_filename);</highlight></codeline>
<codeline lineno="6961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)ignoredStatus;</highlight></codeline>
<codeline lineno="6962"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6963"><highlight class="normal"></highlight></codeline>
<codeline lineno="6964"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pErr)</highlight></codeline>
<codeline lineno="6965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pErr<sp/>=<sp/>actual_err;</highlight></codeline>
<codeline lineno="6966"><highlight class="normal"></highlight></codeline>
<codeline lineno="6967"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="6968"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6969"><highlight class="normal"></highlight></codeline>
<codeline lineno="6970"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="miniz_8c_1a94dc7c4eddd98466020dc02881d016d1" kindref="member">mz_zip_extract_archive_file_to_heap_v2</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pZip_filename,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pArchive_name,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pComment,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*pSize,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref><sp/>*pErr)</highlight></codeline>
<codeline lineno="6971"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6972"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ab1a91818a39ac203d5d9f12a003e8557" kindref="member">mz_uint32</ref><sp/>file_index;</highlight></codeline>
<codeline lineno="6973"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>zip_archive;</highlight></codeline>
<codeline lineno="6974"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*p<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="6975"><highlight class="normal"></highlight></codeline>
<codeline lineno="6976"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pSize)</highlight></codeline>
<codeline lineno="6977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pSize<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6978"><highlight class="normal"></highlight></codeline>
<codeline lineno="6979"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip_filename)<sp/>||<sp/>(!pArchive_name))</highlight></codeline>
<codeline lineno="6980"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pErr)</highlight></codeline>
<codeline lineno="6982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pErr<sp/>=<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>;</highlight></codeline>
<codeline lineno="6983"><highlight class="normal"></highlight></codeline>
<codeline lineno="6984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="6985"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6986"><highlight class="normal"></highlight></codeline>
<codeline lineno="6987"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a8c64687454aca17948eb58730dc6f41b" kindref="member">mz_zip_zero_struct</ref>(&amp;zip_archive);</highlight></codeline>
<codeline lineno="6988"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="miniz_8c_1aac2174a6cb49f234d050051bff59bfdd" kindref="member">mz_zip_reader_init_file_v2</ref>(&amp;zip_archive,<sp/>pZip_filename,<sp/>flags<sp/>|<sp/><ref refid="miniz_8h_1a0b7f6f797da7a3d078535ba71ca00858ab09115999c35684b92cd771f65909e39" kindref="member">MZ_ZIP_FLAG_DO_NOT_SORT_CENTRAL_DIRECTORY</ref>,<sp/>0,<sp/>0))</highlight></codeline>
<codeline lineno="6989"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pErr)</highlight></codeline>
<codeline lineno="6991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pErr<sp/>=<sp/>zip_archive.<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="6992"><highlight class="normal"></highlight></codeline>
<codeline lineno="6993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="6994"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6995"><highlight class="normal"></highlight></codeline>
<codeline lineno="6996"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="miniz_8c_1a4d12d37b3d14f7dfb0312433b7940d7e" kindref="member">mz_zip_reader_locate_file_v2</ref>(&amp;zip_archive,<sp/>pArchive_name,<sp/>pComment,<sp/>flags,<sp/>&amp;file_index))</highlight></codeline>
<codeline lineno="6997"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/><ref refid="miniz_8c_1a7387530cd78979243538a5c87132b64b" kindref="member">mz_zip_reader_extract_to_heap</ref>(&amp;zip_archive,<sp/>file_index,<sp/>pSize,<sp/>flags);</highlight></codeline>
<codeline lineno="6999"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="7000"><highlight class="normal"></highlight></codeline>
<codeline lineno="7001"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a550503f834d14ecf4baf1eff98f3ca5c" kindref="member">mz_zip_reader_end_internal</ref>(&amp;zip_archive,<sp/>p<sp/>!=<sp/>NULL);</highlight></codeline>
<codeline lineno="7002"><highlight class="normal"></highlight></codeline>
<codeline lineno="7003"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pErr)</highlight></codeline>
<codeline lineno="7004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pErr<sp/>=<sp/>zip_archive.<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="7005"><highlight class="normal"></highlight></codeline>
<codeline lineno="7006"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>p;</highlight></codeline>
<codeline lineno="7007"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7008"><highlight class="normal"></highlight></codeline>
<codeline lineno="7009"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="miniz_8c_1aebd3651c5138a33ff42d46ad9596fe6d" kindref="member">mz_zip_extract_archive_file_to_heap</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pZip_filename,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pArchive_name,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*pSize,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>flags)</highlight></codeline>
<codeline lineno="7010"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7011"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a94dc7c4eddd98466020dc02881d016d1" kindref="member">mz_zip_extract_archive_file_to_heap_v2</ref>(pZip_filename,<sp/>pArchive_name,<sp/>NULL,<sp/>pSize,<sp/>flags,<sp/>NULL);</highlight></codeline>
<codeline lineno="7012"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7013"><highlight class="normal"></highlight></codeline>
<codeline lineno="7014"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifndef<sp/>MINIZ_NO_STDIO<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7015"><highlight class="normal"></highlight></codeline>
<codeline lineno="7016"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>#ifndef<sp/>MINIZ_NO_ARCHIVE_WRITING_APIS<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7017"><highlight class="normal"></highlight></codeline>
<codeline lineno="7018"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>-------------------<sp/>Misc<sp/>utils<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7019"><highlight class="normal"></highlight></codeline>
<codeline lineno="7020"><highlight class="normal"><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3" kindref="member">mz_zip_mode</ref><sp/><ref refid="miniz_8c_1a388a0652c3c8d2b75a418fb2966efe2c" kindref="member">mz_zip_get_mode</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="7021"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7022"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pZip<sp/>?<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>:<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a713f3b45f38e966b751027436df64e50" kindref="member">MZ_ZIP_MODE_INVALID</ref>;</highlight></codeline>
<codeline lineno="7023"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7024"><highlight class="normal"></highlight></codeline>
<codeline lineno="7025"><highlight class="normal"><ref refid="miniz_8h_1a9e009caf9b469d91618c184666c50da4" kindref="member">mz_zip_type</ref><sp/><ref refid="miniz_8c_1a10e9a214efba7f8c6740f05eaafaaf83" kindref="member">mz_zip_get_type</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="7026"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7027"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pZip<sp/>?<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ae63ea3648c32998d2b17cc6dc6401671" kindref="member">m_zip_type</ref><sp/>:<sp/><ref refid="miniz_8h_1a9e009caf9b469d91618c184666c50da4ae9586e76c9fa668b613a5a7172aa8824" kindref="member">MZ_ZIP_TYPE_INVALID</ref>;</highlight></codeline>
<codeline lineno="7028"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7029"><highlight class="normal"></highlight></codeline>
<codeline lineno="7030"><highlight class="normal"><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref><sp/><ref refid="miniz_8c_1a9d0a18d927aab166ef7ea84cb98cd9ea" kindref="member">mz_zip_set_last_error</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref><sp/>err_num)</highlight></codeline>
<codeline lineno="7031"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7032"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref><sp/>prev_err;</highlight></codeline>
<codeline lineno="7033"><highlight class="normal"></highlight></codeline>
<codeline lineno="7034"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip)</highlight></codeline>
<codeline lineno="7035"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>;</highlight></codeline>
<codeline lineno="7036"><highlight class="normal"></highlight></codeline>
<codeline lineno="7037"><highlight class="normal"><sp/><sp/><sp/><sp/>prev_err<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="7038"><highlight class="normal"></highlight></codeline>
<codeline lineno="7039"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref><sp/>=<sp/>err_num;</highlight></codeline>
<codeline lineno="7040"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>prev_err;</highlight></codeline>
<codeline lineno="7041"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7042"><highlight class="normal"></highlight></codeline>
<codeline lineno="7043"><highlight class="normal"><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref><sp/><ref refid="miniz_8c_1a5ab3dec70535617213e159a2c9bec0ca" kindref="member">mz_zip_peek_last_error</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="7044"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7045"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip)</highlight></codeline>
<codeline lineno="7046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>;</highlight></codeline>
<codeline lineno="7047"><highlight class="normal"></highlight></codeline>
<codeline lineno="7048"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="7049"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7050"><highlight class="normal"></highlight></codeline>
<codeline lineno="7051"><highlight class="normal"><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref><sp/><ref refid="miniz_8c_1aece78e8972f5437affc90509550ba82c" kindref="member">mz_zip_clear_last_error</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="7052"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7053"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a9d0a18d927aab166ef7ea84cb98cd9ea" kindref="member">mz_zip_set_last_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da6d0cd76e20534ea0d5777ac0c3601db9" kindref="member">MZ_ZIP_NO_ERROR</ref>);</highlight></codeline>
<codeline lineno="7054"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7055"><highlight class="normal"></highlight></codeline>
<codeline lineno="7056"><highlight class="normal"><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref><sp/><ref refid="miniz_8c_1a5cc8cf2275e42cef6721b84282d690c1" kindref="member">mz_zip_get_last_error</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="7057"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7058"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref><sp/>prev_err;</highlight></codeline>
<codeline lineno="7059"><highlight class="normal"></highlight></codeline>
<codeline lineno="7060"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip)</highlight></codeline>
<codeline lineno="7061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>;</highlight></codeline>
<codeline lineno="7062"><highlight class="normal"></highlight></codeline>
<codeline lineno="7063"><highlight class="normal"><sp/><sp/><sp/><sp/>prev_err<sp/>=<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref>;</highlight></codeline>
<codeline lineno="7064"><highlight class="normal"></highlight></codeline>
<codeline lineno="7065"><highlight class="normal"><sp/><sp/><sp/><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a1b7722292a33d849b861e23bf94f69d9" kindref="member">m_last_error</ref><sp/>=<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da6d0cd76e20534ea0d5777ac0c3601db9" kindref="member">MZ_ZIP_NO_ERROR</ref>;</highlight></codeline>
<codeline lineno="7066"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>prev_err;</highlight></codeline>
<codeline lineno="7067"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7068"><highlight class="normal"></highlight></codeline>
<codeline lineno="7069"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<ref refid="miniz_8c_1a6d45d0df0da44c7f373d994a9bd3786d" kindref="member">mz_zip_get_error_string</ref>(<ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6d" kindref="member">mz_zip_error</ref><sp/>mz_err)</highlight></codeline>
<codeline lineno="7070"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7071"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(mz_err)</highlight></codeline>
<codeline lineno="7072"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="7073"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da6d0cd76e20534ea0d5777ac0c3601db9" kindref="member">MZ_ZIP_NO_ERROR</ref>:</highlight></codeline>
<codeline lineno="7074"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;no<sp/>error&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da75be265e4f600498fb28f2a42f4c9705" kindref="member">MZ_ZIP_UNDEFINED_ERROR</ref>:</highlight></codeline>
<codeline lineno="7076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;undefined<sp/>error&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da72b70e986fc0d33212f6a898e3e6ee94" kindref="member">MZ_ZIP_TOO_MANY_FILES</ref>:</highlight></codeline>
<codeline lineno="7078"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;too<sp/>many<sp/>files&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da1365f1c2703389a5e6d5b5bbcca37859" kindref="member">MZ_ZIP_FILE_TOO_LARGE</ref>:</highlight></codeline>
<codeline lineno="7080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;file<sp/>too<sp/>large&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da003e8bf2463b5f3849242b3808e4d6fe" kindref="member">MZ_ZIP_UNSUPPORTED_METHOD</ref>:</highlight></codeline>
<codeline lineno="7082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;unsupported<sp/>method&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da6d29d37c6300c91cb5fc9a66d1cb1db1" kindref="member">MZ_ZIP_UNSUPPORTED_ENCRYPTION</ref>:</highlight></codeline>
<codeline lineno="7084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;unsupported<sp/>encryption&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da079e286899478ed53a7473f1816a692f" kindref="member">MZ_ZIP_UNSUPPORTED_FEATURE</ref>:</highlight></codeline>
<codeline lineno="7086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;unsupported<sp/>feature&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dadce5afd210f3689e58e71ed2acc02d6c" kindref="member">MZ_ZIP_FAILED_FINDING_CENTRAL_DIR</ref>:</highlight></codeline>
<codeline lineno="7088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;failed<sp/>finding<sp/>central<sp/>directory&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daeab66c528acdb43f7946e6411f515083" kindref="member">MZ_ZIP_NOT_AN_ARCHIVE</ref>:</highlight></codeline>
<codeline lineno="7090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;not<sp/>a<sp/>ZIP<sp/>archive&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dab6d04beda1c9d8cd1e41fa8b822daaf2" kindref="member">MZ_ZIP_INVALID_HEADER_OR_CORRUPTED</ref>:</highlight></codeline>
<codeline lineno="7092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;invalid<sp/>header<sp/>or<sp/>archive<sp/>is<sp/>corrupted&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da8c4bcce26300af775c179d6b0a35aff7" kindref="member">MZ_ZIP_UNSUPPORTED_MULTIDISK</ref>:</highlight></codeline>
<codeline lineno="7094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;unsupported<sp/>multidisk<sp/>archive&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa713f636687cfc5db4a588d6378a6a10" kindref="member">MZ_ZIP_DECOMPRESSION_FAILED</ref>:</highlight></codeline>
<codeline lineno="7096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;decompression<sp/>failed<sp/>or<sp/>archive<sp/>is<sp/>corrupted&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da5ff902fe9d66d26053d8a3c11d383460" kindref="member">MZ_ZIP_COMPRESSION_FAILED</ref>:</highlight></codeline>
<codeline lineno="7098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;compression<sp/>failed&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dae3b0b6f3ca889a916c69c518a54ee755" kindref="member">MZ_ZIP_UNEXPECTED_DECOMPRESSED_SIZE</ref>:</highlight></codeline>
<codeline lineno="7100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;unexpected<sp/>decompressed<sp/>size&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da388518d305e53c51b07205856d0a8464" kindref="member">MZ_ZIP_CRC_CHECK_FAILED</ref>:</highlight></codeline>
<codeline lineno="7102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;CRC-32<sp/>check<sp/>failed&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dace5ba2a072f9f615873588e7ebc56ab3" kindref="member">MZ_ZIP_UNSUPPORTED_CDIR_SIZE</ref>:</highlight></codeline>
<codeline lineno="7104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;unsupported<sp/>central<sp/>directory<sp/>size&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da9064de836ee72409214e860e84bad1b2" kindref="member">MZ_ZIP_ALLOC_FAILED</ref>:</highlight></codeline>
<codeline lineno="7106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;allocation<sp/>failed&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da0c392e441dd7e14e4731686e8f3369ed" kindref="member">MZ_ZIP_FILE_OPEN_FAILED</ref>:</highlight></codeline>
<codeline lineno="7108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;file<sp/>open<sp/>failed&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da46b987d2968fe9d076a619e3ca9c68e9" kindref="member">MZ_ZIP_FILE_CREATE_FAILED</ref>:</highlight></codeline>
<codeline lineno="7110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;file<sp/>create<sp/>failed&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daa73c6e75a712dffca2370e8bd388b1da" kindref="member">MZ_ZIP_FILE_WRITE_FAILED</ref>:</highlight></codeline>
<codeline lineno="7112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;file<sp/>write<sp/>failed&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dacf573b3be570b5b1fea0e8ee7a35840c" kindref="member">MZ_ZIP_FILE_READ_FAILED</ref>:</highlight></codeline>
<codeline lineno="7114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;file<sp/>read<sp/>failed&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da425368dd51a2a374f88b285338098851" kindref="member">MZ_ZIP_FILE_CLOSE_FAILED</ref>:</highlight></codeline>
<codeline lineno="7116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;file<sp/>close<sp/>failed&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dafada0e6e18c6a880a9a5af7848cceb54" kindref="member">MZ_ZIP_FILE_SEEK_FAILED</ref>:</highlight></codeline>
<codeline lineno="7118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;file<sp/>seek<sp/>failed&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da593c3fe2d2ebf99b215bca2b60e6913e" kindref="member">MZ_ZIP_FILE_STAT_FAILED</ref>:</highlight></codeline>
<codeline lineno="7120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;file<sp/>stat<sp/>failed&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>:</highlight></codeline>
<codeline lineno="7122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;invalid<sp/>parameter&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da5f3d5a8641212fa3ad820bcb94124cc2" kindref="member">MZ_ZIP_INVALID_FILENAME</ref>:</highlight></codeline>
<codeline lineno="7124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;invalid<sp/>filename&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da4dd840e5a7def295e6a0a5eb8785a024" kindref="member">MZ_ZIP_BUF_TOO_SMALL</ref>:</highlight></codeline>
<codeline lineno="7126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;buffer<sp/>too<sp/>small&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da399161cc4d02bf0bb1815089d2bbdeb8" kindref="member">MZ_ZIP_INTERNAL_ERROR</ref>:</highlight></codeline>
<codeline lineno="7128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;internal<sp/>error&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6dad845112f4958dee455d1be8cc8e0fd04" kindref="member">MZ_ZIP_FILE_NOT_FOUND</ref>:</highlight></codeline>
<codeline lineno="7130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;file<sp/>not<sp/>found&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da99db269c395156b2ecaa9e39a0596601" kindref="member">MZ_ZIP_ARCHIVE_TOO_LARGE</ref>:</highlight></codeline>
<codeline lineno="7132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;archive<sp/>is<sp/>too<sp/>large&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da575251baf4e25b05f6cda0253cd2f49f" kindref="member">MZ_ZIP_VALIDATION_FAILED</ref>:</highlight></codeline>
<codeline lineno="7134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;validation<sp/>failed&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6da2be5cd9afd4fd0fe1b36b753e377658f" kindref="member">MZ_ZIP_WRITE_CALLBACK_FAILED</ref>:</highlight></codeline>
<codeline lineno="7136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;write<sp/>calledback<sp/>failed&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="7138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7139"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="7140"><highlight class="normal"></highlight></codeline>
<codeline lineno="7141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;unknown<sp/>error&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7142"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7143"><highlight class="normal"></highlight></codeline>
<codeline lineno="7144"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Note:<sp/>Just<sp/>because<sp/>the<sp/>archive<sp/>is<sp/>not<sp/>zip64<sp/>doesn&apos;t<sp/>necessarily<sp/>mean<sp/>it<sp/>doesn&apos;t<sp/>have<sp/>Zip64<sp/>extended<sp/>information<sp/>extra<sp/>field,<sp/>argh.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7145"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a0b0ba17abd48cc98db90960b623b1162" kindref="member">mz_zip_is_zip64</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="7146"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>))</highlight></codeline>
<codeline lineno="7148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="7149"><highlight class="normal"></highlight></codeline>
<codeline lineno="7150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a9d483ae9e65542742b3f81522c8fd077" kindref="member">m_zip64</ref>;</highlight></codeline>
<codeline lineno="7151"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7152"><highlight class="normal"></highlight></codeline>
<codeline lineno="7153"><highlight class="normal"></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a2828228dbbcf66c0d5ecd66dafd39267" kindref="member">mz_zip_get_central_dir_size</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="7154"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>))</highlight></codeline>
<codeline lineno="7156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="7157"><highlight class="normal"></highlight></codeline>
<codeline lineno="7158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a67c1dde93587443d48ae4c54fb32757f" kindref="member">m_central_dir</ref>.<ref refid="structmz__zip__array_1a00858a0bceae00064e3e0b25bebfd939" kindref="member">m_size</ref>;</highlight></codeline>
<codeline lineno="7159"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7160"><highlight class="normal"></highlight></codeline>
<codeline lineno="7161"><highlight class="normal"><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/><ref refid="miniz_8c_1a1cb6b5d48f24b9aef3cb0a3f63793166" kindref="member">mz_zip_reader_get_num_files</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="7162"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pZip<sp/>?<sp/>pZip-&gt;<ref refid="structmz__zip__archive_1afd3d9bd1f542c57aae52c8d6fad6f387" kindref="member">m_total_files</ref><sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="7164"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7165"><highlight class="normal"></highlight></codeline>
<codeline lineno="7166"><highlight class="normal"><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/><ref refid="miniz_8c_1a8ff0f5ba2757db9b36eafcf9cbdbdadd" kindref="member">mz_zip_get_archive_size</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="7167"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip)</highlight></codeline>
<codeline lineno="7169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="7170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a45a402e348cc83629be5453441878d81" kindref="member">m_archive_size</ref>;</highlight></codeline>
<codeline lineno="7171"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7172"><highlight class="normal"></highlight></codeline>
<codeline lineno="7173"><highlight class="normal"><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/><ref refid="miniz_8c_1aaf20afef8b149b8653572002646e7e0a" kindref="member">mz_zip_get_archive_file_start_offset</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="7174"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>))</highlight></codeline>
<codeline lineno="7176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="7177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a2705cc469d5f08543d5f827f43f391ec" kindref="member">m_file_archive_start_ofs</ref>;</highlight></codeline>
<codeline lineno="7178"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7179"><highlight class="normal"></highlight></codeline>
<codeline lineno="7180"><highlight class="normal"><ref refid="miniz_8h_1a6c4ad5877435849bc193be7a6ba25843" kindref="member">MZ_FILE</ref><sp/>*<ref refid="miniz_8c_1a88c5879a7ef605d4d6f5e21557c7c145" kindref="member">mz_zip_get_cfile</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="7181"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>))</highlight></codeline>
<codeline lineno="7183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="7184"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>-&gt;<ref refid="structmz__zip__internal__state__tag_1a983d6519b4721e4fff03f5c5d2908972" kindref="member">m_pFile</ref>;</highlight></codeline>
<codeline lineno="7185"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7186"><highlight class="normal"></highlight></codeline>
<codeline lineno="7187"><highlight class="normal"></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a3e27ad8c1597bb95c808cd841ebae3b7" kindref="member">mz_zip_read_archive_data</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1ad1ec3c4964d89baaf6427b699bf71f3f" kindref="member">mz_uint64</ref><sp/>file_ofs,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pBuf,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>n)</highlight></codeline>
<codeline lineno="7188"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7189"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!pZip)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1a9d47a170d9f54452fcfe1152c26af40b" kindref="member">m_pState</ref>)<sp/>||<sp/>(!pBuf)<sp/>||<sp/>(!pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>))</highlight></codeline>
<codeline lineno="7190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="7191"><highlight class="normal"></highlight></codeline>
<codeline lineno="7192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pZip-&gt;<ref refid="structmz__zip__archive_1ac3df2038c7486a5df1ed51bfa3f7443c" kindref="member">m_pRead</ref>(pZip-&gt;<ref refid="structmz__zip__archive_1a477d8ad842fa3707c2330454c8173f7d" kindref="member">m_pIO_opaque</ref>,<sp/>file_ofs,<sp/>pBuf,<sp/>n);</highlight></codeline>
<codeline lineno="7193"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7194"><highlight class="normal"></highlight></codeline>
<codeline lineno="7195"><highlight class="normal"><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/><ref refid="miniz_8c_1af5ea9749b815e356b6df09c166687d13" kindref="member">mz_zip_reader_get_filename</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_index,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pFilename,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>filename_buf_size)</highlight></codeline>
<codeline lineno="7196"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7197"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>n;</highlight></codeline>
<codeline lineno="7198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a9354eca32f90733aa9bb3738c92da596" kindref="member">mz_uint8</ref><sp/>*p<sp/>=<sp/><ref refid="miniz_8c_1abb036541231e500526a12a35e3bd0eae" kindref="member">mz_zip_get_cdh</ref>(pZip,<sp/>file_index);</highlight></codeline>
<codeline lineno="7199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!p)</highlight></codeline>
<codeline lineno="7200"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="7201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(filename_buf_size)</highlight></codeline>
<codeline lineno="7202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pFilename[0]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="miniz_8c_1a990e748a280a6903cbc02307320848c5" kindref="member">mz_zip_set_error</ref>(pZip,<sp/><ref refid="miniz_8h_1ae12d56c14c748fc82c425478f017dc6daad4e7e3731b0f050c53b7eeabcbdfdcc" kindref="member">MZ_ZIP_INVALID_PARAMETER</ref>);</highlight></codeline>
<codeline lineno="7204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="7205"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="7206"><highlight class="normal"><sp/><sp/><sp/><sp/>n<sp/>=<sp/><ref refid="miniz_8h_1a12c43540bc29b7b9a89f02c4d2ce99d9" kindref="member">MZ_READ_LE16</ref>(p<sp/>+<sp/><ref refid="miniz_8c_1adf764cbdea00d65edcd07bb9953ad2b7a03f4415315a96a9691344f193cef8da2" kindref="member">MZ_ZIP_CDH_FILENAME_LEN_OFS</ref>);</highlight></codeline>
<codeline lineno="7207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(filename_buf_size)</highlight></codeline>
<codeline lineno="7208"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="7209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/><ref refid="miniz_8h_1abd12503e988aa99a5d82179c54b1acc8" kindref="member">MZ_MIN</ref>(n,<sp/>filename_buf_size<sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="7210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pFilename,<sp/>p<sp/>+<sp/>MZ_ZIP_CENTRAL_DIR_HEADER_SIZE,<sp/>n);</highlight></codeline>
<codeline lineno="7211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pFilename[n]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7212"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="7213"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>n<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="7214"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7215"><highlight class="normal"></highlight></codeline>
<codeline lineno="7216"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1aa9d3abc65b4b9b91efc437ec151e9c99" kindref="member">mz_zip_reader_file_stat</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip,<sp/><ref refid="miniz_8h_1a4195703cf0ade709ddce7f8777fc0cc2" kindref="member">mz_uint</ref><sp/>file_index,<sp/><ref refid="structmz__zip__archive__file__stat" kindref="compound">mz_zip_archive_file_stat</ref><sp/>*pStat)</highlight></codeline>
<codeline lineno="7217"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7218"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a2a7f8b015e1b9e5b28617661a2102325" kindref="member">mz_zip_file_stat_internal</ref>(pZip,<sp/>file_index,<sp/><ref refid="miniz_8c_1abb036541231e500526a12a35e3bd0eae" kindref="member">mz_zip_get_cdh</ref>(pZip,<sp/>file_index),<sp/>pStat,<sp/>NULL);</highlight></codeline>
<codeline lineno="7219"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7220"><highlight class="normal"></highlight></codeline>
<codeline lineno="7221"><highlight class="normal"><ref refid="miniz_8h_1a896b8bd8958fd11932180d7c9e247986" kindref="member">mz_bool</ref><sp/><ref refid="miniz_8c_1a18c65a7ddd8d0efbb071e3708bf72105" kindref="member">mz_zip_end</ref>(<ref refid="structmz__zip__archive" kindref="compound">mz_zip_archive</ref><sp/>*pZip)</highlight></codeline>
<codeline lineno="7222"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7223"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pZip)</highlight></codeline>
<codeline lineno="7224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="7225"><highlight class="normal"></highlight></codeline>
<codeline lineno="7226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>==<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a40c391220d01d172a451f3dad0d5aed6" kindref="member">MZ_ZIP_MODE_READING</ref>)</highlight></codeline>
<codeline lineno="7227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a0cf333c7781de5d56d24d70e573507e2" kindref="member">mz_zip_reader_end</ref>(pZip);</highlight></codeline>
<codeline lineno="7228"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>MINIZ_NO_ARCHIVE_WRITING_APIS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>==<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3a3b3ad1c596f00688f17e2672c1a20064" kindref="member">MZ_ZIP_MODE_WRITING</ref>)<sp/>||<sp/>(pZip-&gt;<ref refid="structmz__zip__archive_1a3015327b3da7922ae56ae73bb99b4fae" kindref="member">m_zip_mode</ref><sp/>==<sp/><ref refid="miniz_8h_1ad909f6ff4c74a79b317e306a164c77f3ab445229af27a6e8c9d512d12265dea5b" kindref="member">MZ_ZIP_MODE_WRITING_HAS_BEEN_FINALIZED</ref>))</highlight></codeline>
<codeline lineno="7230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8c_1a7ac49ded3cc37713226764131602e857" kindref="member">mz_zip_writer_end</ref>(pZip);</highlight></codeline>
<codeline lineno="7231"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7232"><highlight class="normal"></highlight></codeline>
<codeline lineno="7233"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="miniz_8h_1a2b9e8f947197031a80d85b60d4e59449" kindref="member">MZ_FALSE</ref>;</highlight></codeline>
<codeline lineno="7234"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7235"><highlight class="normal"></highlight></codeline>
<codeline lineno="7236"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7237"><highlight class="normal">}</highlight></codeline>
<codeline lineno="7238"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7239"><highlight class="normal"></highlight></codeline>
<codeline lineno="7240"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*#ifndef<sp/>MINIZ_NO_ARCHIVE_APIS*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7241"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/miniz.c"/>
  </compounddef>
</doxygen>
